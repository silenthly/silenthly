<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo16.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"silenthly.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"b2t":true,"scrollpercent":true,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="我见过真正难过的人，但他一滴泪也没流">
<meta property="og:type" content="website">
<meta property="og:title" content="Buyan-Blog">
<meta property="og:url" content="https://silenthly.github.io/page/3/index.html">
<meta property="og:site_name" content="Buyan-Blog">
<meta property="og:description" content="我见过真正难过的人，但他一滴泪也没流">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="buyan">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://silenthly.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Buyan-Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Buyan-Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Buyan-Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/27/URL%E7%B1%BB%E5%92%8CURLConnection%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/27/URL%E7%B1%BB%E5%92%8CURLConnection%E7%B1%BB/" class="post-title-link" itemprop="url">URL类和URLConnection类</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-27 08:23:45" itemprop="dateCreated datePublished" datetime="2021-08-27T08:23:45+08:00">2021-08-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-31 01:46:51" itemprop="dateModified" datetime="2021-08-31T01:46:51+08:00">2021-08-31</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/27/URL%E7%B1%BB%E5%92%8CURLConnection%E7%B1%BB/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/27/URL%E7%B1%BB%E5%92%8CURLConnection%E7%B1%BB/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		IP 地址可以唯一地标识网络中的主机，而 URL 可以标识网络中服务器上的资源。java 中提供了 URL 类来访问封装 URL 相关的数据信息。使用 URL 类和 URLConnection 类都能实现对一个服务器的访问，并获取服务器上的资源。</p>
<h3 id="url-类"><a class="markdownIt-Anchor" href="#url-类"></a> URL 类</h3>
<p>​		URL 类代表一个统一资源定位符，它是指向互联网“资源”的指针。资源可以是简单的文件或目录，也可以是对更为复杂的对象引用，例如对数据库或搜索引擎的查询。每一 个 URL 对象都封装了资源标识符和协议处理程序。获得 URL 对象的方式有多种，一种是 调用 URI 的 toURL()方法，另一种是直接调用 URL 的构造方法来建立 URL 对象。URL 类 的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public URL(String spce)throws Malformed URLException</strong></td>
<td style="text-align:center"><strong>构造</strong></td>
<td style="text-align:center"><strong>根据指定的地址创建 URL 对象</strong></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public URL(String protocol,String host,int port,String file)throws Malformed URLException</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">根据指定 protocol、host、port 号和 file 创 建 URL 对象</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public URL(String protocol,String host,String file)throws Malformed URLException</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">根据指定的 protocol 名称、host 名称和 file 名称创建 URL 对象</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public URL(URL context,String spce)throws Malformed URLException</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">使用指定的 URL 对象 context 作为基本地址，使用参数 spec 作为相对路径来创建 URL 对象</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public Object getContent()throws Exception</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此 URL 的内容</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public Object getContent(Class[] classes)throws Exception</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此 URL 的内容</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public int getDefaultPort()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取与此 URL 关联协议的默认端口号</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public String getFile()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此 URL 的文件名</td>
</tr>
<tr>
<td style="text-align:center"><strong>9</strong></td>
<td style="text-align:center"><strong>public String getHost()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取此 URL 的主机名</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>10</strong></td>
<td style="text-align:center"><strong>public String getPath()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取此 URL 的路径部分</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>11</strong></td>
<td style="text-align:center"><strong>public int getPort()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取此 URL 的端口号，如果未设置端口号，则返回 -1</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>12</strong></td>
<td style="text-align:center"><strong>public String getProtocol()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取此 URL 的协议名称</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>13</strong></td>
<td style="text-align:center"><strong>public String getQuery()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取此 URL 的查询组成</strong></td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">public String getRef()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此 URL 的锚点（也称为“引用”）</td>
</tr>
<tr>
<td style="text-align:center"><strong>15</strong></td>
<td style="text-align:center"><strong>public String getUserInfo()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取此 URL 的用户信息</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>16</strong></td>
<td style="text-align:center"><strong>public InputStream openStream() throws  IOException</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>打开到此 URL 的连接并返回一个用于从该连接读入的 InputStream</strong></td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">public boolean sameFile(URL other)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">比较两个 URL，不包括片段部分</td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">protected void set(String protocol,String  host,int port,String file,String ref)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">设置 URL 的字段</td>
</tr>
<tr>
<td style="text-align:center">19</td>
<td style="text-align:center">protected void set(String protocol, String  host, int port, String authority, String userInfo,  String path, String query, String ref)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">设置 URL 的指定的 8 个字段</td>
</tr>
<tr>
<td style="text-align:center">20</td>
<td style="text-align:center">public String toString()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">构造此 URL 的字符串表示形式</td>
</tr>
<tr>
<td style="text-align:center">21</td>
<td style="text-align:center">public URI toURI() throws URISyntax  Exception</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回与此 URL 等效的 URI</td>
</tr>
<tr>
<td style="text-align:center"><strong>22</strong></td>
<td style="text-align:center"><strong>public URLConnection openConnection()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>返回一个URLConnection实例，该实例表示与URL引用的远程对象的连接。。</strong></td>
</tr>
</tbody>
</table>
<p>​		详细解释可查看API帮助文档，下面通过一个范例来演示 URL 类的应用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.net.UnknownHostException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入URL：&quot;</span>);</span><br><span class="line">        Scanner scan=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String urls=scan.next();</span><br><span class="line">        URL url=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            url=<span class="keyword">new</span> URL(urls);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;主机：&quot;</span>+url.getHost());</span><br><span class="line">        System.out.println(<span class="string">&quot;路径：&quot;</span>+url.getPath());</span><br><span class="line">        System.out.println(<span class="string">&quot;端口号：&quot;</span>+url.getPort());</span><br><span class="line">        System.out.println(<span class="string">&quot;协议：&quot;</span>+url.getProtocol());</span><br><span class="line">        System.out.println(<span class="string">&quot;用户信息：&quot;</span>+url.getUserInfo());</span><br><span class="line">        System.out.println(<span class="string">&quot;查询组成：&quot;</span>+url.getQuery());</span><br><span class="line">        System.out.println(<span class="string">&quot;网页内容：&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            InputStream in=url.openStream();</span><br><span class="line">            BufferedReader bin=<span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(in));</span><br><span class="line">            String strLine=<span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">while</span>((strLine=bin.readLine())!=<span class="keyword">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                System.out.println(strLine);</span><br><span class="line">            &#125;</span><br><span class="line">            bin.close();</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">请输入URL：</span><br><span class="line">https:<span class="comment">//gitee.com/silenthty/silenthty.git</span></span><br><span class="line">主机：gitee.com</span><br><span class="line">路径：/silenthty/silenthty.git</span><br><span class="line">端口号：-<span class="number">1</span></span><br><span class="line">协议：https</span><br><span class="line">用户信息：<span class="keyword">null</span></span><br><span class="line">查询组成：<span class="keyword">null</span></span><br><span class="line">网页内容：</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&#x27;zh-CN&#x27;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;silenthty/silenthty&lt;/title&gt;</span><br><span class="line">&lt;meta content=<span class="string">&#x27;on&#x27;</span> http-equiv=<span class="string">&#x27;x-dns-prefetch-control&#x27;</span>&gt;</span><br><span class="line">&lt;link href=<span class="string">&#x27;//e.gitee.com&#x27;</span> rel=<span class="string">&#x27;dns-prefetch&#x27;</span>&gt;</span><br><span class="line">&lt;link href=<span class="string">&#x27;//files.gitee.com&#x27;</span> rel=<span class="string">&#x27;dns-prefetch&#x27;</span>&gt;</span><br><span class="line">&lt;link href=<span class="string">&#x27;//toscode.gitee.com&#x27;</span> rel=<span class="string">&#x27;dns-prefetch&#x27;</span>&gt;</span><br><span class="line">&lt;link href=<span class="string">&#x27;https://assets.gitee.com&#x27;</span> rel=<span class="string">&#x27;dns-prefetch&#x27;</span>&gt;</span><br><span class="line">&lt;link href=<span class="string">&#x27;https://portrait.gitee.com&#x27;</span> rel=<span class="string">&#x27;dns-prefetch&#x27;</span>&gt;</span><br><span class="line">&lt;link href=<span class="string">&quot;https://assets.gitee.com/assets/favicon-9007bd527d8a7851c8330e783151df58.ico&quot;</span> rel=<span class="string">&quot;shortcut icon&quot;</span> type=<span class="string">&quot;image/vnd.microsoft.icon&quot;</span> /&gt;</span><br><span class="line">......(以下省略)</span><br></pre></td></tr></table></figure>
<p>​		以上程序中输出的网页内容是网页的源代码，而不是显示的内容。</p>
<h3 id="urlconnection-类"><a class="markdownIt-Anchor" href="#urlconnection-类"></a> URLConnection 类</h3>
<p>​		URLConnection 类的对象可以与指定 URL 建立动态的连接。同时使用 URLConnection 类的对象可以实现向服务器发送请求，将数据送回服务器并检查远程资源的一些属性。一 般创建 URLConnection 类对象使用的是 URL 的 openConnection()方法。URLConnection 类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public int getConnectTimeout()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回连接超时设置</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public Object getContent() throws IOException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此 URL 连接的内容</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public Object getContent(Class[] classes)  throws IOException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此 URL 连接的内容</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public String getContentEncoding()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取文件的编码</td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public int getContentLength()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取文件的大小</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>6</strong></td>
<td style="text-align:center"><strong>public String getContentType()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取文件的类型</strong></td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public long getDate()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取文件的日期</td>
</tr>
<tr>
<td style="text-align:center"><strong>8</strong></td>
<td style="text-align:center"><strong>public InputStream getInputStream()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>返回从此打开的连接读取的输入流</strong></td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public long getLastModified()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取文件最后修改的时间</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public OutputStream getOutputStream()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回写入到此连接的输出流</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">public int getReadTimeout()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回读入超时设置</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public URL getURL()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此 URLConnection 的 URL 字段的值</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">public void setConnectTimeout(int timeout)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">设置一个指定的超时值（以 ms 为单位）， 该值将在打开到此 URLConnection 引用的资源的通信链接时使用</td>
</tr>
</tbody>
</table>
<p>​		下面通过 URLConnection 类来演示如何获取指定 URL 的基本信息。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.net.URLConnection;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        URL url=<span class="keyword">null</span>;</span><br><span class="line">        URLConnection urlc=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            url=<span class="keyword">new</span> URL(<span class="string">&quot;http://www.baidu.com/index.html&quot;</span>);</span><br><span class="line">            urlc=url.openConnection();</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;文件大小：&quot;</span>+urlc.getContentLength());</span><br><span class="line">        System.out.println(<span class="string">&quot;文件类型：&quot;</span>+urlc.getContentType());</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            InputStream in=urlc.getInputStream();</span><br><span class="line">            BufferedInputStream bin=<span class="keyword">new</span> BufferedInputStream(in);</span><br><span class="line">            FileOutputStream fout=<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;index.html&quot;</span>);</span><br><span class="line">            <span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">byte</span> b[]=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            System.out.println(<span class="string">&quot;=====下载页面=====&quot;</span>);</span><br><span class="line">            <span class="keyword">while</span>((len=bin.read(b,<span class="number">0</span>,<span class="number">1024</span>))!=-<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                fout.write(b,<span class="number">0</span>,len);</span><br><span class="line">            &#125;</span><br><span class="line">            fout.close();</span><br><span class="line">            bin.close();</span><br><span class="line">            in.close();</span><br><span class="line">            System.out.println(<span class="string">&quot;-----下载结束-----&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">文件大小：<span class="number">2381</span></span><br><span class="line">文件类型：text/html</span><br><span class="line">=====下载页面=====</span><br><span class="line">-----下载结束-----</span><br></pre></td></tr></table></figure>
<p>​		下载结果可以在与程序的同一目录中查看。以上程序中可以获取远程资源的一些基本信息，如文件的大小和文件类型，还可以将文件下载 到本机上，当然，有些网站需要先提出请求，才能获取资源信息。</p>
<p>参考链接：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/mengdd/archive/2013/03/09/2951895.html">java 网络编程（四） InetAddress类 - 圣骑士wind - 博客园 (cnblogs.com)</a></p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《java编程手记——从实践中学习java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://read.douban.com/ebook/57019647/">实战java程序设计 - 北京尚学堂科技有限公司 编著 | 豆瓣阅读 (douban.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://item.jd.com/41548443413.html">《疯狂java讲义(第3版)(含光盘)》【摘要 书评 试读】- 京东图书 (jd.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/26/Inetaddress%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/26/Inetaddress%E7%B1%BB/" class="post-title-link" itemprop="url">Inetaddress类</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-26 21:14:23" itemprop="dateCreated datePublished" datetime="2021-08-26T21:14:23+08:00">2021-08-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-30 19:07:50" itemprop="dateModified" datetime="2021-08-30T19:07:50+08:00">2021-08-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/26/Inetaddress%E7%B1%BB/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/26/Inetaddress%E7%B1%BB/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		在 Internet 上的主机（服务器）地址有两种表示方式，一种是 IP 地址，另一种是域名。有时使用 IP 地址来查找域名，有时使用域名来查找 IP 地址。在 java。net 包中提供了 Ineraddress 类来完成这个任务。</p>
<p>​		Inetaddress 类可以用来表示 IP 地址，该类有两个子类 Inet4Address 和 Inet6Address，分别表示 IPv4 和 IPv6。InetAddress 类没有提供构造方法，但可以通过类中的静态方法getAllByName()、getByAddress()、getByName()和 getLocalHost()获取 InetAddress 类的实例，其常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public byte[] getAddress()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此InetAddress对象的IP地址</td>
</tr>
<tr>
<td style="text-align:center"><strong>2</strong></td>
<td style="text-align:center"><strong>public static InetAddress[] getAllByName(String host)throws UnknownHostException</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>在给定主机名的情况下，根据系统上配置的名称服务返回其 IP 地址所组成的数组</strong></td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public static InetAddress getByAddress(byte[] addr)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">根据给定原始IP地址返回InetAddress对象。</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public static InetAddress getByAddress(String host,byte[] addr)throws UnknownHostException</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">根据提供的主机名和IP地址创建InetAddress对象</td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public static InetAddress getByName(String host)throws UnknownHostException</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>根据主机获取对应的InetAddress对象</strong></td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public String getCanonicalHostName()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此IP地址的完全限定域名</td>
</tr>
<tr>
<td style="text-align:center"><strong>7</strong></td>
<td style="text-align:center"><strong>public String getHostAddress()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>返回IP地址字符串</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>8</strong></td>
<td style="text-align:center"><strong>public String getHostName()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取此IP地址的主机名</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>9</strong></td>
<td style="text-align:center"><strong>public static InetAddress getLocalHost()throws UnknownHostException</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>获取本地IP地址对应的InetAddress对象</strong></td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public boolean isLoopbackAddress()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">检查InetAddress是否为回送地址</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">public boolean isReachable(int timeout)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">判断在限定时间内是否可以访问该地址，若可达到，则返回true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public boolean isReachable(NetworkInterface netif,int ttl,int timeout)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">判断是否可以达到该地址，若可达到，则返回true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">public boolean isSiteLocalAddress()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">检查InetAddress是否为站点本地地址</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">public String toString()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将此IP地址转换为String</td>
</tr>
</tbody>
</table>
<p>​		以上主机名可以是IP地址，也可以是域名，下面通过范例来演示 InetAddress 类的应用。</p>
<p>​		InetAddress 类提供了多个静态方法获取InetAddress对象，下面将介绍其中几个：</p>
<ul>
<li>getLocalHost()，仅返回象征本地主机的InetAddress对象</li>
<li>getByName()，返回一个传给它的主机名的InetAddress对象。</li>
<li>getAllByName()，在Internet上，用一个名称来代表多个机器是常有的事，此方法返回代表由一个特殊名称分解的所有地址的InetAddresses类数组。</li>
</ul>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.net.InetAddress;</span><br><span class="line"><span class="keyword">import</span> java.net.UnknownHostException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        InetAddress localIP=<span class="keyword">null</span>;</span><br><span class="line">        InetAddress address1=<span class="keyword">null</span>;</span><br><span class="line">        InetAddress address2[]=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            localIP=InetAddress.getLocalHost();		<span class="comment">//获取本地主机地址</span></span><br><span class="line">            address1=InetAddress.getByName(<span class="string">&quot;www.baidu.com&quot;</span>);</span><br><span class="line">             address2=InetAddress.getAllByName(<span class="string">&quot;www.baidu.com&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(UnknownHostException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;本地IP：&quot;</span>+localIP.getHostAddress());</span><br><span class="line">        System.out.println(<span class="string">&quot;本地主机名：&quot;</span>+localIP.getHostName());</span><br><span class="line">        System.out.println(<span class="string">&quot;address1的IP：&quot;</span>+address1.getHostAddress());</span><br><span class="line">        System.out.println(<span class="string">&quot;address1的主机名：&quot;</span>+address1.getHostName());</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;address2.length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;----------------------------&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;IP：&quot;</span>+address2[i].getHostAddress());</span><br><span class="line">        	System.out.println(<span class="string">&quot;主机名：&quot;</span>+address2[i].getHostName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">本地IP：<span class="number">192.168</span><span class="number">.3</span><span class="number">.24</span></span><br><span class="line">本地主机名：DESKTOP-IKTDJ54</span><br><span class="line">address1的IP：<span class="number">14.215</span><span class="number">.177</span><span class="number">.38</span></span><br><span class="line">address1的主机名：www.baidu.com</span><br><span class="line">----------------------------</span><br><span class="line">IP：<span class="number">14.215</span><span class="number">.177</span><span class="number">.38</span></span><br><span class="line">主机名：www.baidu.com</span><br><span class="line">----------------------------</span><br><span class="line">IP：<span class="number">14.215</span><span class="number">.177</span><span class="number">.39</span></span><br><span class="line">主机名：www.baidu.com</span><br></pre></td></tr></table></figure>
<p>​		在运行以上程序时，需要正常连入 Internet 中，否则是不能获取指定域名的 IP 的。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/25/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/25/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" class="post-title-link" itemprop="url">java网络编程</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-25 08:32:03" itemprop="dateCreated datePublished" datetime="2021-08-25T08:32:03+08:00">2021-08-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-30 00:12:48" itemprop="dateModified" datetime="2021-08-30T00:12:48+08:00">2021-08-30</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/25/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/25/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		Java 最初是作为一种网络编程的语言出现的，因此 Java 具有强大的网络编程功能。为 了让 Java 开发人员能够方便快捷地进行网络程序设计，Java 的 JDK 中加入了大量与网络相关的类和接口。这些类和接口将多种 Internet 协议封装在其中，与其他的编程语言相比， Java 网络编程是更容易的。</p>
<p>​		Java 编写的网络程序可以使用网络上的各种资源和数据，能够与服务器建立各类形式的连接和传输方式，能够让计算机之间实现通信。</p>
<h3 id="网络编程的基础知识"><a class="markdownIt-Anchor" href="#网络编程的基础知识"></a> 网络编程的基础知识</h3>
<p>​		在介绍网络程序设计之前，首先要对网络有一个基本的认识，了解一些网络的相关概念，如各种网络协议、IP 地址和端口等。</p>
<h4 id="tcpip-协议常用的传输协议"><a class="markdownIt-Anchor" href="#tcpip-协议常用的传输协议"></a> TCP/IP 协议——常用的传输协议</h4>
<p>​		网络编程的主要目的就是为了实现直接或间接地通过网络与其他计算机进行通信。因此有两个问题需要解决：<strong>一是如何准确地定位网络上的一台或多台计算机</strong>；<strong>二是找到特定的计算机后如何快速、高效地进行数据传输</strong>。这就需要使用 TCP/IP 协议，它是 Internet 的主要协议，也是最常用的协议，定义了计算机和外部设备之间进行通信所使用的规则。</p>
<blockquote>
<p>提示：按照网络覆盖的地理范围可将网络可以分为以下几类。</p>
<p>局域网（LAN）：作用范围一般为几米到几十公里。</p>
<p>城域网（MAN）：界于 WAN 与 LAN 之间。</p>
<p>广域网（WAN）：作用范围一般为几十到几千公里。</p>
</blockquote>
<p>​		TCP/IP 是 Transmission Control Protocol/Internet Protocol 的简写，中文含义是传输控制协议/因特网互联协议，亦称网络通信协议。TCP/IP 协议是 Internet 最基本的协议、Internet 国际互联网络的基础，由网络层的 IP 协议和传输层的 TCP 协议组成。与 OSI 开放式系统互联的参考模型不同，TCP/IP 协议只有 4 层而不是 7 层，如下图所示。</p>
<p><img src="https://silenthty.gitee.io/photo/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.png" alt="" /></p>
<p>​		TCP 传输控制协议是一种面向连接的、可靠的、基于字节流的运输层通信协议。通过 TCP 协议传输得到一个顺序的无差错的数据流。<strong>在通信开始时，需要进行“三次握手”的 方式建立连接</strong>。连接一旦建立起来就可以进行双向数据传输，发送方和接收方都可以进行发送和接收操作。</p>
<p>​		UDP 是 User Datagram Protocol 的简称，其中文含义是用户数据报协议，一种无连接的传输层协议，可以与 IP 协议一起使用。但 <strong>UDP 协议提供的是面向非连接的、简单的、不可靠的信息传送服务，它不对连接状态和数据丢失做检查，只是保证数据发送出去</strong>，就像平时使用的 QQ 或 MSM 一样，只是把消息发送出去不管对方是否在线。而使用 <strong>TCP 协议的连接是需要双方建立起连接，如视频的时候需要双方都在线。</strong></p>
<h4 id="ip-地址计算机的标识"><a class="markdownIt-Anchor" href="#ip-地址计算机的标识"></a> IP 地址——计算机的标识</h4>
<p>​		在 Internet 上，每一台通信实体（这个通信实体可以是路由器的某一端口、计算机和服务器等设备）都有一个唯一标识的 IP 地址。所有的 IP 地址都由国际组织 NIC（Network  Information Center）负责统一分配。目前使用的主要还是 IPv4，是一种层次性地址，由网络号和主机号组成，如下图所示。</p>
<p><img src="https://silenthty.gitee.io/photo/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B1.png" alt="" /></p>
<p>​		每个IP地址有32b，也就是4个字节，由4个小于256的正整数组成，数字之间使用&quot;.&quot;分隔。为了方便记忆，一般采用十进制的形式，这种方法称为“点分十进制记法”。 IP 地址被分成 A、B、C、D、E 这 5 个类别，每一个类别都有各自的规则，即网络号和主机号所在的位数。</p>
<ul>
<li>A 类：地址范围为 1.0.0.1~126.255.255.255（二进制表示为：00000001 00000000  00000000 00000001 ~ 01111110 11111111 11111111 11111111）。</li>
<li>B 类：地址范围为 128.0.0.1~191.255.255.255（二进制表示为 10000000 00000001  00000000 00000001~10111111 11111111 11111111 11111111）。</li>
<li>C 类：地址范围为 192.0.0.0~223.255.255.255（二进制表示为 11000000 00000000  00000000 00000000 ~ 11011111 11111111 11111111 11111111）。</li>
<li>D 类：D 类 IP 地址是组播地址，地址范围为 224.0.0.0～239.255.255.255（二进制 表示为 11100000 00000000 00000000 00000000~11101111 11111111 11111111  11111111）。</li>
<li>E 类：主要用于 Internet 试验和开发，地址范围为 240.0.0.0~255.255.255.255（二进 制表示为 11110000 00000000 00000000 00000000~11111111 11111111 11111111  11111111）。</li>
</ul>
<blockquote>
<p>提示：原本属于 A 类地址范围内的 IP 地址 127.0.0.0~127.255.255.255 并不在 A 类地址内，<strong>因为任意以 127 开头的 IP 地址是回送地址，它是一个保留地址</strong>，最常见的为 127.0.0.1 。 <strong>C 类地址中的私有地址： 192.168.X.X 是私有地址 （192.168.0.0—192.168.255.255）</strong>。</p>
</blockquote>
<p>​		一般来说，A类地址保留给政府机构，B类地址分配给中等规模的公司，C类地址分配给任何需要的人，D类用于组播，E类用于实验，各类可容纳的地址数目不同。A类、B类、和C类这三类地址用于TCP/IP节点，其它两类D类和E类被用于特殊用途。</p>
<h4 id="端口通信的窗口"><a class="markdownIt-Anchor" href="#端口通信的窗口"></a> 端口——通信的窗口</h4>
<p>​		I<strong>P 地址可以准确地标识网络上唯一的一个通信实体。但通信实体上可以使用多个提供网络通信的程序，此时还需要使用端口</strong>。如在计算机上，有即时聊天工具、浏览器和下载工具等需要网络的程序，使用端口可以明确地知道需要网络连接的是计算机上的哪一个服务，如下图所示。</p>
<p><img src="https://silenthty.gitee.io/photo/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B2.png" alt="" /></p>
<p>​		端口并非真实的物理存在，TCP 和 UDP 都使用了应用层接口处的端口与上层的应用进程进行通信，可以认为是计算机与外界通信的出口。<strong>端口是一个 16 位的整数，用于标识不同的应用进程</strong>。<strong>同一台计算机上不能存在两个应用进程使用同一个端口，端口号的取值范围为 0~65535</strong>，通常可以分为以下 3 类。</p>
<ul>
<li>公认端口：亦称熟知端口，取值范围为 0~1023，它们紧密绑定于一些服务。通常这些端口的通信明确表明了某种服务的协议。常见的公认端口如下表所示。</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">服务协议</th>
<th style="text-align:center">FTP</th>
<th style="text-align:center">TELNET</th>
<th style="text-align:center">SMTP</th>
<th style="text-align:center">DNS</th>
<th style="text-align:center">TFTP</th>
<th style="text-align:center">HTTP</th>
<th style="text-align:center">POP3</th>
<th style="text-align:center">SNMP</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">公认端口</td>
<td style="text-align:center">21</td>
<td style="text-align:center">23</td>
<td style="text-align:center">25</td>
<td style="text-align:center">53</td>
<td style="text-align:center">69</td>
<td style="text-align:center">80</td>
<td style="text-align:center">110</td>
<td style="text-align:center">162</td>
</tr>
</tbody>
</table>
<ul>
<li>注册端口：取值范围为 1024~49151，它们松散地绑定于一些服务。</li>
<li>动态和/或私有端口：取值范围为 49152~65535。这些端口号一般不固定分配给某个服务，只要运行的程序向系统提出访问网络的申请，那么系统就可以从这些端口号中分配一个供该程序使用。</li>
</ul>
<p>​		可以把 IP 地址理解为教授 Java 课程的老师的办公室所在的地址，如哪个学院，但是仅有这个地址是不能找到老师的，还需要知道这位老师的办公室牌号，这个牌号就是端口号。</p>
<h4 id="套接字应用程序与端口的桥梁"><a class="markdownIt-Anchor" href="#套接字应用程序与端口的桥梁"></a> 套接字——应用程序与端口的桥梁</h4>
<p>​		网络上具有唯一标识的 IP 地址和端口号相结合在一起，才能构成唯一能识别的标识符套接字（Socket）。Socket 用于将应用程序与端口连接起来，一个 TCP 连接由通信双方的 Socket 确定。而且 Socket 为通信双方的输入和输出所有，实现全双工式的通信。</p>
<p>​		Socket 负责将 TCP/IP 包发送到指定的 IP 地址，可以当成在两个程序进行通信连接中的一个端点。一个程序将数据写入 Socket 中，并将该数据发送到另一个 Socket 中，使得这个数据得以传送到其他程序，如下图所示。其中，这两个程序可以是在同一台计算机上，也可以是在 Internet 上的两台计算机。</p>
<p><img src="https://silenthty.gitee.io/photo/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B3.png" alt="" /></p>
<h4 id="urlinternet-资源的门牌号"><a class="markdownIt-Anchor" href="#urlinternet-资源的门牌号"></a> URL——Internet 资源的门牌号</h4>
<p>​		URL 是 Uniform Resource Locator 的简写，中文含义是统一资源定位符，俗称“网址”。 URL 是用于完整地描述 Internet 上网页和其他资源的地址的一种标识方法。</p>
<p>​		统一资源定位符 URL 一般由以下几部分组成。</p>
<ul>
<li>协议（protocol）：指定使用的传输协议。最常用的是 HTTP 协议，如 <a target="_blank" rel="noopener" href="http://xn--bizv42a">http://表示</a> WWW 服务器，还有 file://表示通过 FTP 访问资源。<a target="_blank" rel="noopener" href="https://xn--15qt0wcuwipce90as9juqa">https://表示通过安全的</a> https 访问该资源。</li>
<li>主机名（hostname）：是指存放资源服务器的域名系统（DNS）主机名或 IP 地址。</li>
<li>端口号（port）：为整数，可选选项，省略时使用方案的默认端口。各种传输协议都有默认的端口号，如 http 的默认端口为 80，ftp 的默认端口为 21。有时候出于 安全或其他考虑，可以在服务器上对端口进行重定义，即采用非标准端口号，此时，URL 中就不能省略端口号这一项。</li>
<li>路径（path）：由 0 或多个“/”符号隔开的字符串，一般用来表示主机上的一个目录或文件地址，通用格式为“目录/子目录/文件名”。与端口号一样，路径有时是一 个可选选项，如 <a target="_blank" rel="noopener" href="http://www.baidu.com:80/index.html">http://www.baidu.com:80/index.html</a> 可简写为 <a target="_blank" rel="noopener" href="http://www.baidu.com/%E3%80%82">http://www.baidu.com/。</a></li>
</ul>
<h3 id="知识扩展"><a class="markdownIt-Anchor" href="#知识扩展"></a> 知识扩展</h3>
<p>​		以下内容仅作记录。</p>
<h4 id="三次握手协议"><a class="markdownIt-Anchor" href="#三次握手协议"></a> “三次握手”协议</h4>
<p>​		TCP 是通过“三次握手”实现端到端可靠连接控制的，其过程如下。</p>
<p>（1）第一次握手：A 的 TCP 向 B 发出连接请求报文段，其首部中的同步位 SYN=1， 并选择序号 seq=x，表明传送数据时的第一个数据字节的序号是 x。</p>
<p>（2）第二次握手：B 的 TCP 收到连接请求报文段后，如同意，则发回确认。B 在确认报文段中应使 SYN=1，使 ACK=1，其确认号 ack=x+1，自己选择的序号 seq=y。</p>
<p>（3）第三次握手：A 收到此报文段后向 B 给出确认，其 ACK=1，确认号 ack=y+1。A 的 TCP 通知上层应用进程，连接已经建立。其过程如图所示。</p>
<p><img src="https://silenthty.gitee.io/photo/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B4.png" alt="" /></p>
<h4 id="tcp的连接释放"><a class="markdownIt-Anchor" href="#tcp的连接释放"></a> TCP的连接释放</h4>
<p>​		TCP 是通过“四次挥手”实现连接的释放，其过程如下。</p>
<p>（1）第一次挥手：数据传输结束后，通信的双方都可释放连接。现在 A 的应用 第 3 篇 Java 应用程序设计 ·558· 进程先向其 TCP 发出连接释放报文段，并停止再发送数据，主动关闭 TCP 连接。A 把连 接释放报文段首部的 FIN=1，其序号 seq=u，等待 B 的确认。</p>
<p>（2）第二次挥手：B 发出确认，确认号 ack=u+1，而这个报文段自己的序号 seq=v。TCP 服务器进程通知高层应用进程。从 A 到 B 这个方向的连接就释放了，TCP 连接处于半关闭状态。B 若发送数据，A 仍要接收。</p>
<p>（3）第三次挥手：若 B 已经没有要向 A 发送的数据，其应用进程就通知 TCP 释放连接。</p>
<p>（4）第四次挥手：A 收到连接释放报文段后，必须发出确认。在确认报文段中 ACK=1， 确认号 ack=w+1，自己的序号 seq=u+1。TCP 连接必须经过时间 2MSL 后才真正释放掉。</p>
<p><img src="https://silenthty.gitee.io/photo/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B5.png" alt="" /></p>
<blockquote>
<p>提示：A 必须等待 2MSL 时间的原因如下。 第一，为了保证 A 发送的最后一个 ACK 报文段能够到达 B。 第二，防止“已失效的连接请求报文段”出现在本连接中。A 在发送完最后一个 ACK 报文段后，再经过时间 2MSL，就可以使本连接持续时间内所产生的所有报文段，都从网 络中消失。这样就可以使下一个新的连接中不会出现这种旧的连接请求报文段。</p>
</blockquote>
<h4 id="tcpip协议的4层模型"><a class="markdownIt-Anchor" href="#tcpip协议的4层模型"></a> TCP/IP协议的4层模型</h4>
<p>（1）网络接口层，亦称链路层或数据链路层。该层是 TCP/IP 协议的最底层，负 责接收 IP 数据报并通过网络进行发送，或者从网络中接收物理帧，提取出 IP 数据报，交给网络层。网络接口层还通常包括操作系统中的设备驱动程序和计算机中对应的网络接 口卡。</p>
<p>（2）网络层，亦称互联网层，负责相邻计算机之间的通信，主要定义了 IP 地址的格式， 从而能够使不同应用类型的数据可以在 Internet 上传输。在 TCP/IP 协议族中，网络层协议包括：</p>
<ul>
<li>IP 协议（网际协议）</li>
<li>ICMP 协议（Internet 互联网控制报文协议）</li>
<li>IGMP 协议（Internet 组管理协议）</li>
</ul>
<p>（3）传输层，亦称运输层，主要为两台主机上的应用程序间的通信。在 TCP/IP 协议族中，有两个互不相同的传输协议，即 TCP（传输控制协议）和 UDP（用户数据报协议）。</p>
<p>（4）应用层，负责处理向用户提供的应用程序细节。几乎各种不同的 TCP/IP 实现都会提供下面这些通用的应用程序：</p>
<ul>
<li>Telnet 远程登录；</li>
<li>FTP 文件传输协议；</li>
<li>SMTP 简单邮件传送协议；</li>
<li>SNMP 简单网络管理协议。</li>
</ul>
<p>参考链接：</p>
<p><a target="_blank" rel="noopener" href="https://zhidao.baidu.com/question/568614300.html">IP地址共有A、B、C、D、E五类，怎样区分呢？_百度知道 (baidu.com)</a></p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>
<p>相关链接：</p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/335116451">什么情况下IP地址会相同？ - 知乎 (zhihu.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E7%A7%81%E6%9C%89ip/2216993?fr=aladdin">私有ip_百度百科 (baidu.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/24/java%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/24/java%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" class="post-title-link" itemprop="url">java反射机制</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-24 09:56:21" itemprop="dateCreated datePublished" datetime="2021-08-24T09:56:21+08:00">2021-08-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-03 18:00:43" itemprop="dateModified" datetime="2021-10-03T18:00:43+08:00">2021-10-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/24/java%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/24/java%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		反射机制是 java语言的重要特征之一，虽然反射机制在程序设计中应用地不是很多， 但是在其他的程序设计语言中根本就不存在这一特性，如 Pascal、C/C++语言。java反射机制允许运行中的java程序对自身进行检测，亦称为自审，可以直接操作程序内部的属性。</p>
<p>​		<strong>通过java的反射机制，开发人员可以深入地控制程序的运行过程，甚至可以逆向控制程序的执行过程，如通过一个对象找到其所在类的名称</strong>。如果想要使用 java的反射机制， 首先要了解 java的 Class 类。Class 类为编写可动态操纵 java代码的程序提供了强大的功能反射。</p>
<h3 id="class类与java反射"><a class="markdownIt-Anchor" href="#class类与java反射"></a> Class类与java反射</h3>
<p>​		<strong>通过java的反射机制，可以访问程序中已经加载进内存的java对象的描述，可以访问、检测和修改描述java对象本身的信息</strong>。java中提供反射机制的包叫java.lang.reflect。</p>
<p>​		Class 类为编写可动态操纵java代码的程序提供了强大的功能反射，该功能大量运用在 javaBeans 中。Class 类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public &lt;U&gt; Class&lt;? extends U&gt; asSubclass(Class&lt;U&gt; clazz)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">强制转换该Class对象，将该类装换为指定类的一个子类</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public T cast(Object obj)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将一个对象强制转换成此Class对象所表示的类或接口</td>
</tr>
<tr>
<td style="text-align:center"><strong>3</strong></td>
<td style="text-align:center"><strong>pulbic static Class&lt;?&gt; forName(String className)throws ClassNotFoundException</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>将传入的完整的&quot;包类名&quot;名称实例化Class对象</strong></td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">pulbic static Class&lt;?&gt; forName(String name,boolean initalize,ClassLoader loader)throws ClassNotFoundException</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">使用给定的类加载器，将传入的完整的&quot;包类名&quot;名称实例化Class对象</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public ClassLodar getClassLodar()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回该类的类加载器</td>
</tr>
<tr>
<td style="text-align:center"><strong>6</strong></td>
<td style="text-align:center"><strong>public Class&lt;?&gt; getComponentType()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取数组类型的Class对象</strong></td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public Constructor&lt;T&gt; getConstructor(Class&lt;?&gt;…parameterTypes)throws NoSuchException, throws SecurityException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此类中指定的public构造方法</td>
</tr>
<tr>
<td style="text-align:center"><strong>8</strong></td>
<td style="text-align:center"><strong>public Constructor&lt;?&gt;[] getConstructors() throws SecurityException</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取此类中所有的public构造方法，不保证返回顺序</strong></td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public Constructor&lt;T&gt; getDeclaredConstructor(Class&lt;?&gt;…parameterTypes)throws NoSuchException, throws SecurityException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取指定的构造方法</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public Constructor&lt;?&gt;[] getDeclaredConstructors() throws SecurityException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取所有的构造方法，不保证返回顺序</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">public Field getDeclaredField(String name)throws NoSuchException, throws SecurityException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取指定的成员变量</td>
</tr>
<tr>
<td style="text-align:center"><strong>12</strong></td>
<td style="text-align:center"><strong>public Filed[] getDeclaredFields()throws SecurityException</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取所有的成员变量，不保证返回顺序</strong></td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">public Method getDeclaredMethod(String name,Class&lt;?&gt;…parameterTypes)throws NoSuchException, throws SecurityException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此类中指定的方法</td>
</tr>
<tr>
<td style="text-align:center"><strong>14</strong></td>
<td style="text-align:center"><strong>public Method[] getDeclaredMethods() throws SecurityException</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取所有的方法，不保证返回顺序。但不包括继承的方法</strong></td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">public Class&lt;?&gt; getDeclaeringClass()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">如果该类为类A内部类，则返回类A，否则返回null</td>
</tr>
<tr>
<td style="text-align:center">16</td>
<td style="text-align:center">public Class&lt;?&gt;[] getDeclaredClasses()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回当前类的所有内部类</td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">public Field getField(String name)throws NoSuchException, throws SecurityException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取权限为public的指定成员变量</td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">public Field[] getFields()throws SecurityException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取所有权限为public的成员变量，不保证返回顺序</td>
</tr>
<tr>
<td style="text-align:center"><strong>19</strong></td>
<td style="text-align:center"><strong>public Class&lt;?&gt;[] getInterfaces()throws SecurityException</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取此类实现的所有接口</strong></td>
</tr>
<tr>
<td style="text-align:center">20</td>
<td style="text-align:center">public Method getMethod(String name,Class&lt;?&gt;…parameterTypes)throws NoSuchException, throws SecurityException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此类中指定的public方法</td>
</tr>
<tr>
<td style="text-align:center">21</td>
<td style="text-align:center">public Method[] getMethods() throws SecurityException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此类中所有的public方法，不保证返回顺序</td>
</tr>
<tr>
<td style="text-align:center"><strong>22</strong></td>
<td style="text-align:center"><strong>public String getName()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取此类的类名称</strong></td>
</tr>
<tr>
<td style="text-align:center">23</td>
<td style="text-align:center">public Package getPackege()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此类的包名称</td>
</tr>
<tr>
<td style="text-align:center"><strong>24</strong></td>
<td style="text-align:center"><strong>public Class&lt;? super T&gt; getSuperclass</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取此类的父类</strong></td>
</tr>
<tr>
<td style="text-align:center">25</td>
<td style="text-align:center">public boolean isArray()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">判断此Class对象是否表示一个数组类</td>
</tr>
<tr>
<td style="text-align:center">26</td>
<td style="text-align:center">public boolean isInstance(Object obj)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">判断指定的对象是否与此Class所表示的对象赋值兼容</td>
</tr>
<tr>
<td style="text-align:center">27</td>
<td style="text-align:center">public boolean isInterface()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">判断指定的Class对象是否表示一个接口类型</td>
</tr>
<tr>
<td style="text-align:center">28</td>
<td style="text-align:center">public boolean isPrimitive()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">判定指定的Class对象是否表示一个基本类型</td>
</tr>
<tr>
<td style="text-align:center"><strong>29</strong></td>
<td style="text-align:center"><strong>public T newInstance()throws InstantiationException,IlleagalAccessException</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>创建此Class对象所表示的类的一个新实例</strong></td>
</tr>
<tr>
<td style="text-align:center">30</td>
<td style="text-align:center">public String toString()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将对象转换为字符串</td>
</tr>
</tbody>
</table>
<blockquote>
<p>提示：通过 Class 类中的 getFields()和 GetMethods()方法分别获取类中 public 的成员变量和方法时，将包含从父类继承来的成员变量和方法。而通过 getDeclaredFields() 和 getDeclaredMethods()方法只是分别获取本类中的 public 的成员变量和方法，不包含从父类继承来的成员变量和方法。</p>
</blockquote>
<h4 id="使用-object-类的-getclass方法获取类信息"><a class="markdownIt-Anchor" href="#使用-object-类的-getclass方法获取类信息"></a> 使用 Object 类的 getClass()方法获取类信息</h4>
<p>​		在 java 中所有的类都直接或间接地继承 Object 类。在 Object 类中有一个 getClass()方 法，其定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> Class&lt;?&gt; getClass()</span><br></pre></td></tr></table></figure>
<p>​		此方法可以返回一个类型为 Class 的对象。获取该类型后，可以利用 Class 类中的各个方法对对象进行操作。由于所有的类都是 Object 类的子类，所以所有类都可以直接使用 getClass()方法。getClass()方法的使用并不复杂，范例如下。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.com.pack;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SuperClass</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass</span> <span class="keyword">extends</span> <span class="title">SuperClass</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        SuperClass sup=<span class="keyword">new</span> SuperClass();</span><br><span class="line">        SubClass sub=<span class="keyword">new</span> SubClass();</span><br><span class="line">        Class c1=sup.getClass();</span><br><span class="line">        Class c2=sub.getClass();</span><br><span class="line">        System.out.println(<span class="string">&quot;类名：&quot;</span>+c1.getName());</span><br><span class="line">        System.out.println(<span class="string">&quot;类名：&quot;</span>+c2.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">类名：org.com.pack.SuperClass</span><br><span class="line">类名：org.com.pack.SubClass</span><br></pre></td></tr></table></figure>
<p>​		由以上程序可以发现，通过一个对象可以得到对象所在完整的“包.类名”。使用 Object 类的 getClass()方法速度会比较慢。</p>
<h4 id="用class类来加载对象"><a class="markdownIt-Anchor" href="#用class类来加载对象"></a> 用Class类来加载对象</h4>
<p>​		Class 类的构造方法是私有的，所以不能通过 new 关键字实例化 Class 类的对象，但可以通过其提供的静态方法 forName()实例化 Class 对象。下面通过一个范例来演示如何使用 forName()方法加载对象。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.com.pack;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LocaderClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">static</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是LocaderClass类的静态代码块&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">   	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Class c=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            c=Class.forName(<span class="string">&quot;org.com.pack.LocaderClass&quot;</span>);	<span class="comment">//以指定名称实例化Class对象</span></span><br><span class="line">        &#125;<span class="keyword">catch</span>(ClassNotFoundException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;类名：&quot;</span>+c.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">这是LocaderClass类的静态代码块</span><br><span class="line">类名：org.com.pack.LocaderClass</span><br></pre></td></tr></table></figure>
<p>​		以上程序中，使用 forName()方法和使用 new 关键字创建看起来并没有什么不同之处。 **实际上，使用 new 关键字实例化对象是要经过编译器静态检查的。如果在编译器中 LocaderClass 类并不存在，那么将会无法编译通过。**而使用 forName()方法是动态加载，即使 LocaderClass 类并不存在，编译也是可以通过的，只是在运行时会产生异常。还有一点需要注意的是，<strong>forName()方法返回的是 Class 实例，不是所加载类的实例</strong>。</p>
<p>​		使用 forName()静态方法实例化 Class 对象是比较常用的方法，forName()方法多用于加载驱动程序。</p>
<h4 id="使用类标记"><a class="markdownIt-Anchor" href="#使用类标记"></a> 使用类标记</h4>
<p>​		除了前面使用的Object类的getClass()方法和Class类中的静态方法forName()方法以外， 还有一种更加简便的生成 Class 对象的方法——类标记。使用“类名.class”的形式即可。</p>
<p>代码实例：(使用类标记生成 Class 对象)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.com.pack;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LocaderClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">static</span></span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是LocaderClass类的静态代码块&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Class c=LocaderClass.class;</span><br><span class="line">        System.out.println(<span class="string">&quot;类名：&quot;</span>+c.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">类名：org.com.pack.LocaderClass</span><br></pre></td></tr></table></figure>
<p>​		以上程序也可以实例化 Class 对象，而且显得更加简洁，运行的效率也比较高。</p>
<h3 id="使用反射机制生成并操作对象"><a class="markdownIt-Anchor" href="#使用反射机制生成并操作对象"></a> 使用反射机制生成并操作对象</h3>
<p>​		前面学习了 Class 对象的实例化，那该如何使用 Class 类呢？实际上，Class 类最重要的功能是提供了一组反射调用，以取得该类的构造方法、成员变量和成员方法。</p>
<h4 id="通过无参构造实例化对象"><a class="markdownIt-Anchor" href="#通过无参构造实例化对象"></a> 通过无参构造实例化对象</h4>
<p>​		可以通过使用 Class 类对象的 newInstance()方法来创建该 Class 对象对应类的实例，但是必须保证被实例化的类中存在一个无参构造方法，newInstance()方法是通过利用默认的构造方法来创建该类实例的。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.com.pack;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span></span>&#123;&#125;			<span class="comment">//空白构造方法</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;姓名：&quot;</span>+getName()+<span class="string">&quot;，年龄：&quot;</span>+getAge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Class&lt;?&gt; c=<span class="keyword">null</span>;</span><br><span class="line">        Student stu=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            c=Class.forName(<span class="string">&quot;org.com.pack.Student&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(ClassNotFoundException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            stu=(Student)c.newInstance();			<span class="comment">//向下转型</span></span><br><span class="line">        &#125;<span class="keyword">catch</span>(InstantiationException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;<span class="keyword">catch</span>(IllegalAccessException e)</span><br><span class="line">        		&#123;</span><br><span class="line">            		e.printStackTrace();</span><br><span class="line">        		&#125;</span><br><span class="line">        stu.setName(<span class="string">&quot;小强&quot;</span>);</span><br><span class="line">        stu.setAge(<span class="number">18</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;对象信息：&quot;</span>+stu);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象信息：姓名：小强，年龄：<span class="number">18</span></span><br></pre></td></tr></table></figure>
<p>​		以上程序中有两点需要注意：第一，<strong>传入 forName() 方法的参数必须是完整的“包.类名称”的形式，就算这两个类都处在同一个目录下也不能省略包名</strong>；第二， c.newInstance()需要向下转型为 Student 类。</p>
<p>​		若在类中定义了其他的构造方法并且没有显式写出无参构造方法，那么该类的默认无参构造方法就会被隐藏。若再使用 newInstance()方法实例化对象时，将会出错。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.com.pack;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name,<span class="keyword">int</span> age)</span>		<span class="comment">//构造方法</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;姓名：&quot;</span>+getName()+<span class="string">&quot;，年龄：&quot;</span>+getAge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Class&lt;?&gt; c=<span class="keyword">null</span>;</span><br><span class="line">        Student stu=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            c=Class.forName(<span class="string">&quot;org.com.pack.Student&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(ClassNotFoundException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            stu=(Student)c.newInstance();			<span class="comment">//向下转型</span></span><br><span class="line">        &#125;<span class="keyword">catch</span>(InstantiationException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;<span class="keyword">catch</span>(IllegalAccessException e)</span><br><span class="line">        		&#123;</span><br><span class="line">            		e.printStackTrace();</span><br><span class="line">        		&#125;</span><br><span class="line">        stu.setName(<span class="string">&quot;小强&quot;</span>);</span><br><span class="line">        stu.setAge(<span class="number">18</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;对象信息：&quot;</span>+stu);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">java.lang.InstantiationException: org.com.pack.Student</span><br><span class="line">        at java.lang.Class.newInstance(Unknown Source)</span><br><span class="line">        at org.com.pack.Test.main(Test.java:<span class="number">47</span>)</span><br><span class="line">Caused by: java.lang.NoSuchMethodException: org.com.pack.Student.&lt;init&gt;()</span><br><span class="line">        at java.lang.Class.getConstructor0(Unknown Source)</span><br><span class="line">        ... <span class="number">2</span> more</span><br><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.NullPointerException</span><br><span class="line">        at org.com.pack.Test.main(Test.java:<span class="number">55</span>)</span><br></pre></td></tr></table></figure>
<p>​		以上程序中<strong>不存在无参构造方法，因此不能直接使用 newInstance()方法实例化对象</strong>。 为了开发的便捷性，一般在类中定义无参构造方法。</p>
<h4 id="调用有参构造实例化对象"><a class="markdownIt-Anchor" href="#调用有参构造实例化对象"></a> 调用有参构造实例化对象</h4>
<p>​		除了前面Class类的newInstance()方法创建对象以外，java语言还提供了使用 java.lang.reflect. Constructor 类根据类的指定构造方法创建对象。使用 Constructor 类操作时， 只需明确地调用类中的构造方法，并将参数传递进去，即可进行实例化操作，其步骤如下。</p>
<p>（1）获取类的 Class 对象，再通过 Class 类中的 getConstructor()方法取得 Constructor 类的实例。</p>
<p>（2）通过 Constructor 类的实例，调用 newInstance()方法并传入指定构造方法所需要的各个参数完成对象的创建。</p>
<p>​		Constructor 类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">Class&lt;?&gt;[] getExceptionTypes()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取构造方法可能抛出的异常</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">int getModifiers()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取构造方法修饰符</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">String getName()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取构造方法的名称</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">Class&lt;?&gt;[] getParameterTypes()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取构造方法各个形参类型</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">boolean is VarArgs()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">判断构造方法是否可以带可变数量的参数。若是，则返回 true。否 则返回 false</td>
</tr>
<tr>
<td style="text-align:center"><strong>6</strong></td>
<td style="text-align:center"><strong>T newInstance(Object… initargs) throws Instantiation  Exception,IllegalAccessException, IllegalArgument  Exception,InvocationTargetException</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>向指定的构造方法传递参数，并实例化对象</strong></td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public void setAccessible(boolean flag)throws SecurityException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">如果构造方法的权限为private，默认为不允许通过反射利用newInstance(Object… initargs)方法创建对象。如果该方法先执行，并将入口参数设为true，则允许创建，即设置一个属性是否可以被外部访问</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">String toString()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回构造方法的信息</td>
</tr>
</tbody>
</table>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.com.pack;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=<span class="string">&quot;小红&quot;</span>;</span><br><span class="line">        <span class="keyword">this</span>.age=<span class="number">19</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name,<span class="keyword">int</span> age)</span>		<span class="comment">//构造方法</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(<span class="keyword">int</span> age)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;姓名：&quot;</span>+getName()+<span class="string">&quot;，年龄：&quot;</span>+getAge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Class&lt;?&gt; c=<span class="keyword">null</span>;</span><br><span class="line">        Constructor&lt;?&gt; con[]=<span class="keyword">null</span>;</span><br><span class="line">        Student stu1=<span class="keyword">null</span>;</span><br><span class="line">        Student stu2=<span class="keyword">null</span>;</span><br><span class="line">        Student stu3=<span class="keyword">null</span>;</span><br><span class="line">        Student stu4=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            c=Class.forName(<span class="string">&quot;org.com.pack.Student&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(ClassNotFoundException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        con=c.getConstructors();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;con.length;i++)		<span class="comment">//输出Student对象所有的构造方法</span></span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(i+<span class="string">&quot;---&quot;</span>+con[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            stu1=(Student)con[<span class="number">0</span>].newInstance(<span class="number">20</span>);</span><br><span class="line">            stu2=(Student)con[<span class="number">1</span>].newInstance(<span class="string">&quot;小强&quot;</span>);</span><br><span class="line">            stu3=(Student)con[<span class="number">2</span>].newInstance(<span class="string">&quot;小明&quot;</span>,<span class="number">18</span>);</span><br><span class="line">            stu4=(Student)con[<span class="number">3</span>].newInstance();</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;对象信息：&quot;</span>+stu1);</span><br><span class="line">        System.out.println(<span class="string">&quot;对象信息：&quot;</span>+stu2);</span><br><span class="line">        System.out.println(<span class="string">&quot;对象信息：&quot;</span>+stu3);</span><br><span class="line">        System.out.println(<span class="string">&quot;对象信息：&quot;</span>+stu4);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>---<span class="keyword">public</span> org.com.pack.Student(<span class="keyword">int</span>)</span><br><span class="line"><span class="number">1</span>---<span class="keyword">public</span> org.com.pack.Student(java.lang.String)</span><br><span class="line"><span class="number">2</span>---<span class="keyword">public</span> org.com.pack.Student(java.lang.String,<span class="keyword">int</span>)</span><br><span class="line"><span class="number">3</span>---<span class="keyword">public</span> org.com.pack.Student()</span><br><span class="line">对象信息：姓名：<span class="keyword">null</span>，年龄：<span class="number">20</span></span><br><span class="line">对象信息：姓名：小强，年龄：<span class="number">0</span></span><br><span class="line">对象信息：姓名：小明，年龄：<span class="number">18</span></span><br><span class="line">对象信息：姓名：小红，年龄：<span class="number">19</span></span><br></pre></td></tr></table></figure>
<p>​		以上的程序，<span style="color:red;background:背景颜色;font-size:文字大小;font-family:字体;">不能保证返回数组的顺序，注意是不能保证返回顺序，而不是返回是乱序：<strong>它完全可能是乱序，也还可能是按照声明顺序排布</strong>。详情可查看API帮助文档。</span>该程序相对于无参而言复杂很多，所以建议在自定义类时，一定要保留一个无参构造方法。</p>
<h3 id="java反射机制的应用"><a class="markdownIt-Anchor" href="#java反射机制的应用"></a> java反射机制的应用</h3>
<p>​		java 的反射机制主要运用 java.lang.reflect 包，在这个包中常用的类如下。</p>
<ul>
<li>Constructor 类：用于表示类中的构造方法。</li>
<li>Field 类：用于表示类中的成员属性。</li>
<li>Method 类：用于表示类中的成员方法。</li>
</ul>
<p>​		其中，java.lang 包中的 Class 类是 java 反射机制的入口，只有获得了一个类的描述对象后才能动态地加载和调用。</p>
<h4 id="获取实现的全部接口"><a class="markdownIt-Anchor" href="#获取实现的全部接口"></a> 获取实现的全部接口</h4>
<p>​		Class 类中提供了 getInterface()方法，可以获取一个类所实现的全部接口，该方法返回的是一个 Class 类的对象数组。因为 java 中的类可以实现多个接口，所以取得 Class 对象实例后通过 getName()输出接口的名称即可。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.com.pack;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">FirstInterface</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">SecondInterface</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">ThirdInterface</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Demo</span> <span class="keyword">implements</span> <span class="title">FirstInterface</span>,<span class="title">SecondInterface</span>,<span class="title">ThirdInterface</span></span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Class&lt;?&gt; inter[]=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            inter=Class.forName(<span class="string">&quot;org.com.pack.Demo&quot;</span>).getInterfaces();</span><br><span class="line">        &#125;<span class="keyword">catch</span>(ClassNotFoundException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        <span class="keyword">for</span>(Class&lt;?&gt; c:inter)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(c.getName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">org.com.pack.FirstInterface</span><br><span class="line">org.com.pack.SecondInterface</span><br><span class="line">org.com.pack.ThirdInterface</span><br></pre></td></tr></table></figure>
<h4 id="获取父类"><a class="markdownIt-Anchor" href="#获取父类"></a> 获取父类</h4>
<p>​		可以通过 Class 类的 getSuperclass()方法获取一个类的父类，再通过 getName()方法返回父类的名称。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.com.pack;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SuperClass</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubClass</span> <span class="keyword">extends</span> <span class="title">SuperClass</span></span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Class&lt;?&gt; c1=<span class="keyword">null</span>;</span><br><span class="line">        Class&lt;?&gt; c2=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            c1=Class.forName(<span class="string">&quot;org.com.pack.SubClass&quot;</span>);</span><br><span class="line">            c2=Class.forName(<span class="string">&quot;org.com.pack.SuperClass&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(ClassNotFoundException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;SubClass的父类：&quot;</span>+c1.getSuperclass().getName());</span><br><span class="line">        System.out.println(<span class="string">&quot;SuperClass的父类：&quot;</span>+c2.getSuperclass().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SubClass的父类：org.com.pack.SuperClass</span><br><span class="line">SuperClass的父类：java.lang.Object</span><br></pre></td></tr></table></figure>
<p>​		以上程序运行时，可以获取 SubClass 和 SuperClass 类的父类，而 SubClass 是显式继承了 SuperClass 类，所以打印输出的是 SuperClass 类。而 SuperClass 类没有明确地继承一个类，所以默认继承的是 Object 类。</p>
<h4 id="访问成员变量field类"><a class="markdownIt-Anchor" href="#访问成员变量field类"></a> 访问成员变量：Field类</h4>
<p>​		Class 类中提供了一系列的方法可以访问类中的全部属性，并返回 Field 对象或数组。 每一个 Field 对象代表一个成员属性，利用 Field 对象还可以操作相应的成员属性。Field 类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public Object get(Object obj)throws IllegalArgumentException,IllegalAccessException</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取指定对象obj中该变量的值</strong></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public boolean getBoolean(Object obj)throws IllegalArgumentException,IllegalAccessException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取指定对象obj中类型为boolean的该成员属性的值，可重写为byte、char、double、float、int、short和long类型</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public int getModifiers()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取该成员属性的修饰符，并以整数的形式返回</td>
</tr>
<tr>
<td style="text-align:center"><strong>4</strong></td>
<td style="text-align:center"><strong>public String getName()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取该成员属性的名称</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public Class&lt;?&gt; getType()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取表示该成员属性的Class对象(类型)</strong></td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public void set(Object obj,Object value)throws IllegalArgumentException,IllegalAccessException</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">设置指定对象中属性的内容</td>
</tr>
<tr>
<td style="text-align:center"><strong>7</strong></td>
<td style="text-align:center"><strong>public static void setAccessible(boolean flag)throws SecurityException</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>设置一个属性是否可以被外部访问</strong></td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public static void setAccessible(AccessibleObject[] array,booleean flag)throws SecurityException</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">设置一组属性是否可以被外部访问</td>
</tr>
<tr>
<td style="text-align:center"><strong>9</strong></td>
<td style="text-align:center"><strong>public void setBoolean(Object obj,boolean z)throws IllegalArgumentException,IllegalAccessException</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>将指定对象obj中类型为boolean的该成员属性的值设置为z，可重写为byte、char、double、float、int、short和long类型</strong></td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public String toString()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回一个描述此Field的信息</td>
</tr>
</tbody>
</table>
<p>​		下面通过范例介绍Field类的方法</p>
<h5 id="获得类中的全部属性"><a class="markdownIt-Anchor" href="#获得类中的全部属性"></a> 获得类中的全部属性</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.com.pack;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LocaderClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> num=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">boolean</span> b=<span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">long</span> l=<span class="number">123L</span>;</span><br><span class="line">    String str=<span class="string">&quot;java&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Class&lt;?&gt; c=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            c=Class.forName(<span class="string">&quot;org.com.pack.LocaderClass&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(ClassNotFoundException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        Field field[]=c.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;field.length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            field[i].setAccessible(<span class="keyword">true</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;成员属性名称：&quot;</span>+field[i].getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;成员属性类型：&quot;</span>+field[i].getType());</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;成员属性内容：&quot;</span>+field[i].get(c.newInstance()));</span><br><span class="line">            &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">            	&#123;</span><br><span class="line">                	e.printStackTrace();</span><br><span class="line">            	&#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;-------------------------------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">成员属性名称：num</span><br><span class="line">成员属性类型：<span class="keyword">int</span></span><br><span class="line">成员属性内容：<span class="number">10</span></span><br><span class="line">-------------------------------</span><br><span class="line">成员属性名称：b</span><br><span class="line">成员属性类型：<span class="keyword">boolean</span></span><br><span class="line">成员属性内容：<span class="keyword">true</span></span><br><span class="line">-------------------------------</span><br><span class="line">成员属性名称：l</span><br><span class="line">成员属性类型：<span class="keyword">long</span></span><br><span class="line">成员属性内容：<span class="number">123</span></span><br><span class="line">-------------------------------</span><br><span class="line">成员属性名称：str</span><br><span class="line">成员属性类型：<span class="class"><span class="keyword">class</span> <span class="title">java</span>.<span class="title">lang</span>.<span class="title">String</span></span></span><br><span class="line"><span class="class">成员属性内容：<span class="title">java</span></span></span><br><span class="line"><span class="class">-------------------------------</span></span><br></pre></td></tr></table></figure>
<p>​		以上程序，若想访问 private 权限的成员属性，则需要执行 setAccessible()方法并设置其参数为 true，否则不允许访问。还可以使用 Field 类设置类中的属性值。</p>
<blockquote>
<p><span style="color:red;background:背景颜色;font-size:文字大小;font-family:字体;">不能保证返回数组的顺序，注意是不能保证返回顺序，而不是返回是乱序：<strong>它完全可能是乱序，也还可能是按照声明顺序排布</strong>。详情可查看API帮助文档。</span></p>
</blockquote>
<h5 id="设置属性值"><a class="markdownIt-Anchor" href="#设置属性值"></a> 设置属性值</h5>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.com.pack;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LocaderClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> num=<span class="number">10</span>;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">boolean</span> b=<span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">long</span> l=<span class="number">123L</span>;</span><br><span class="line">    String str=<span class="string">&quot;java&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;num=&quot;</span>+num+<span class="string">&quot;，b=&quot;</span>+b+<span class="string">&quot;，l=&quot;</span>+l+<span class="string">&quot;，str=&quot;</span>+str;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Class&lt;?&gt; c=<span class="keyword">null</span>;</span><br><span class="line">        LocaderClass lc=<span class="keyword">new</span> LocaderClass();</span><br><span class="line">        System.out.println(<span class="string">&quot;-------原先的lc对象信息-------&quot;</span>);</span><br><span class="line">        System.out.println(lc);</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            c=Class.forName(<span class="string">&quot;org.com.pack.LocaderClass&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(ClassNotFoundException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            lc=(LocaderClass)c.newInstance();		<span class="comment">//创建LocaderClass实例</span></span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">            &#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        Field field[]=c.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;field.length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            field[i].setAccessible(<span class="keyword">true</span>);</span><br><span class="line">            Class&lt;?&gt; fieldType=field[i].getType();</span><br><span class="line">            System.out.println(<span class="string">&quot;成员属性名称：&quot;</span>+field[i].getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;成员属性类型：&quot;</span>+field[i].getType());</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;修改前成员属性内容：&quot;</span>+field[i].get(lc));</span><br><span class="line">                <span class="keyword">if</span>(fieldType.equals(<span class="keyword">int</span>.class))</span><br><span class="line">                &#123;</span><br><span class="line">                    System.out.print(<span class="string">&quot;修改后成员属性内容：&quot;</span>);</span><br><span class="line">                    field[i].set(lc,<span class="number">500</span>);</span><br><span class="line">                    System.out.println(field[i].get(lc));</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(fieldType.equals(<span class="keyword">boolean</span>.class))</span><br><span class="line">                &#123;</span><br><span class="line">                    System.out.print(<span class="string">&quot;修改后成员属性内容：&quot;</span>);</span><br><span class="line">                    field[i].set(lc,<span class="keyword">false</span>);</span><br><span class="line">                    System.out.println(field[i].get(lc));</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(fieldType.equals(<span class="keyword">long</span>.class))</span><br><span class="line">                &#123;</span><br><span class="line">                    System.out.print(<span class="string">&quot;修改后成员属性内容：&quot;</span>);</span><br><span class="line">                    field[i].set(lc,<span class="number">325654L</span>);</span><br><span class="line">                    System.out.println(field[i].get(lc));</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(fieldType.equals(String.class))</span><br><span class="line">                &#123;</span><br><span class="line">                    System.out.print(<span class="string">&quot;修改后成员属性内容：&quot;</span>);</span><br><span class="line">                    field[i].set(lc,<span class="string">&quot;java学习笔记&quot;</span>);</span><br><span class="line">                    System.out.println(field[i].get(lc));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">            	&#123;</span><br><span class="line">                	e.printStackTrace();</span><br><span class="line">            	&#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;--------------------------------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;-------修改后的lc对象信息-------&quot;</span>);</span><br><span class="line">        System.out.println(lc);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">-------原先的lc对象信息-------</span><br><span class="line">num=<span class="number">10</span>，b=<span class="keyword">true</span>，l=<span class="number">123</span>，str=java</span><br><span class="line"></span><br><span class="line">成员属性名称：num</span><br><span class="line">成员属性类型：<span class="keyword">int</span></span><br><span class="line">修改前成员属性内容：<span class="number">10</span></span><br><span class="line">修改后成员属性内容：<span class="number">500</span></span><br><span class="line">--------------------------------</span><br><span class="line">成员属性名称：b</span><br><span class="line">成员属性类型：<span class="keyword">boolean</span></span><br><span class="line">修改前成员属性内容：<span class="keyword">true</span></span><br><span class="line">修改后成员属性内容：<span class="keyword">false</span></span><br><span class="line">--------------------------------</span><br><span class="line">成员属性名称：l</span><br><span class="line">成员属性类型：<span class="keyword">long</span></span><br><span class="line">修改前成员属性内容：<span class="number">123</span></span><br><span class="line">修改后成员属性内容：<span class="number">325654</span></span><br><span class="line">--------------------------------</span><br><span class="line">成员属性名称：str</span><br><span class="line">成员属性类型：<span class="class"><span class="keyword">class</span> <span class="title">java</span>.<span class="title">lang</span>.<span class="title">String</span></span></span><br><span class="line"><span class="class">修改前成员属性内容：<span class="title">java</span></span></span><br><span class="line"><span class="class">修改后成员属性内容：<span class="title">java</span>学习笔记</span></span><br><span class="line"><span class="class">--------------------------------</span></span><br><span class="line"><span class="class">-------修改后的<span class="title">lc</span>对象信息-------</span></span><br><span class="line"><span class="class"><span class="title">num</span></span>=<span class="number">500</span>，b=<span class="keyword">false</span>，l=<span class="number">325654</span>，str=java学习笔记</span><br></pre></td></tr></table></figure>
<blockquote>
<p><span style="color:red;background:背景颜色;font-size:文字大小;font-family:字体;">不能保证返回数组的顺序，注意是不能保证返回顺序，而不是返回是乱序：<strong>它完全可能是乱序，也还可能是按照声明顺序排布</strong>。详情可查看API帮助文档。</span></p>
</blockquote>
<h4 id="访问成员方法method类"><a class="markdownIt-Anchor" href="#访问成员方法method类"></a> 访问成员方法：Method类</h4>
<p>​		当获取了某个类的对象的Class对象后，不但可以通过getDeclaredMethods()或getDeclaredMethod()方法获取全部的方法或指定方法，还可以通过这两个方法的返回值 Method 对象数组或 Method 对象操作相应的方法。</p>
<p>​		每一个 Method 对象都对应着一个方法，获取该 Method 对象后，程序就可以通过该对象来访问对应的方法。Method 类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public Class&lt;?&gt;[] getExceptionTypes()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取方法抛出的全部异常类型</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>2</strong></td>
<td style="text-align:center"><strong>public int getModifiers()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取方法的修饰符，并以整数的形式表示</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>3</strong></td>
<td style="text-align:center"><strong>public String getName()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取方法名称</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>4</strong></td>
<td style="text-align:center"><strong>public Class&lt;?&gt;[] getParameterTypes()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取方法的全部参数类型</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public Class&lt;?&gt; getRetrunType()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>获取方法的返回值类型</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>6</strong></td>
<td style="text-align:center"><strong>public Object invoke(Object obj,Object…args)throws  IllegalAccessException,IllegalArgumentException,InvocationTarg etException</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>使用指定参数args执行指定对象obj中的方法</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>7</strong></td>
<td style="text-align:center"><strong>public boolean isVarArgs()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>判断该方法是否带有可变参数，如果是，则返回true，否则返回false</strong></td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public String toString()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回描述此 Method 对象的信息</td>
</tr>
</tbody>
</table>
<p>​		下面通过范例介绍Method类的方法</p>
<h5 id="获取类中的全部方法信息"><a class="markdownIt-Anchor" href="#获取类中的全部方法信息"></a> 获取类中的全部方法信息</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.com.pack;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Modifier;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LocaderClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">staticMethod</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;静态方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">publicMethod</span><span class="params">(<span class="keyword">int</span> i)</span><span class="keyword">throws</span> ClassCastException,NumberFormatException</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i*<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">float</span> <span class="title">protectedMethod</span><span class="params">(<span class="keyword">float</span> f,<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> f+i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">privateMethod</span><span class="params">(String...str)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> str[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Class&lt;?&gt; c=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            c=Class.forName(<span class="string">&quot;org.com.pack.LocaderClass&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(ClassNotFoundException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        Method method[]=c.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;method.length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;方法名称：&quot;</span>+method[i].getName());</span><br><span class="line">            <span class="keyword">int</span> mod=method[i].getModifiers();</span><br><span class="line">            System.out.println(<span class="string">&quot;方法修饰符：&quot;</span>+Modifier.toString(mod));</span><br><span class="line">            Class&lt;?&gt; cReturn=method[i].getReturnType();</span><br><span class="line">            System.out.println(<span class="string">&quot;方法返回值类型：&quot;</span>+cReturn.getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;方法参数是否为可变参数：&quot;</span>+method[i].isVarArgs());</span><br><span class="line">            System.out.print(<span class="string">&quot;方法的参数类型：&quot;</span>);</span><br><span class="line">            Class&lt;?&gt; cParameters[]=method[i].getParameterTypes();</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;cParameters.length;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                System.out.print(cParameters[j].getName()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            Class&lt;?&gt; cExceptions[]=method[i].getExceptionTypes();</span><br><span class="line">            System.out.print(<span class="string">&quot;\n方法抛出的异常类型：&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;cExceptions.length;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                System.out.print(cExceptions[j].getName()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;\n---------------------------------------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">方法名称：staticMethod</span><br><span class="line">方法修饰符：<span class="keyword">public</span> <span class="keyword">static</span></span><br><span class="line">反复返回值类型：<span class="keyword">void</span></span><br><span class="line">方法参数是否为可变参数：<span class="keyword">false</span></span><br><span class="line">方法的参数类型：</span><br><span class="line">方法抛出的异常类型：</span><br><span class="line">---------------------------------------</span><br><span class="line">方法名称：publicMethod</span><br><span class="line">方法修饰符：<span class="keyword">public</span></span><br><span class="line">反复返回值类型：<span class="keyword">int</span></span><br><span class="line">方法参数是否为可变参数：<span class="keyword">false</span></span><br><span class="line">方法的参数类型：<span class="keyword">int</span></span><br><span class="line">方法抛出的异常类型：java.lang.ClassCastException java.lang.NumberFormatException</span><br><span class="line">---------------------------------------</span><br><span class="line">方法名称：protectedMethod</span><br><span class="line">方法修饰符：<span class="keyword">protected</span></span><br><span class="line">反复返回值类型：<span class="keyword">float</span></span><br><span class="line">方法参数是否为可变参数：<span class="keyword">false</span></span><br><span class="line">方法的参数类型：<span class="keyword">float</span> <span class="keyword">int</span></span><br><span class="line">方法抛出的异常类型：</span><br><span class="line">---------------------------------------</span><br><span class="line">方法名称：privateMethod</span><br><span class="line">方法修饰符：<span class="keyword">private</span> <span class="keyword">transient</span></span><br><span class="line">反复返回值类型：java.lang.String</span><br><span class="line">方法参数是否为可变参数：<span class="keyword">true</span></span><br><span class="line">方法的参数类型：[Ljava.lang.String;</span><br><span class="line">方法抛出的异常类型：</span><br><span class="line">---------------------------------------</span><br></pre></td></tr></table></figure>
<blockquote>
<p><span style="color:red;background:背景颜色;font-size:文字大小;font-family:字体;">不能保证返回数组的顺序，注意是不能保证返回顺序，而不是返回是乱序：<strong>它完全可能是乱序，也还可能是按照声明顺序排布</strong>。详情可查看API帮助文档。</span></p>
</blockquote>
<h5 id="调用类中的方法"><a class="markdownIt-Anchor" href="#调用类中的方法"></a> 调用类中的方法</h5>
<p>​		还可以通过 Method 类实现调用类中的方法。在 java 中，通过反射机制获取类的 Class 对象，调用 getDeclaredMethods()方法获取类中全部的方法，并返回 Method 对象数组，再调用 Method 类中的 invoke()方法来执行类中指定的方法。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.com.pack;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Modifier;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LocaderClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">staticMethod</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;静态方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">publicMethod</span><span class="params">(<span class="keyword">int</span> i)</span><span class="keyword">throws</span> ClassCastException,NumberFormatException</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> i*<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">float</span> <span class="title">protectedMethod</span><span class="params">(<span class="keyword">float</span> f,<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> f+i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">privateMethod</span><span class="params">(String...str)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> str[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Class&lt;?&gt; c=<span class="keyword">null</span>;</span><br><span class="line">        LocaderClass lc=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            c=Class.forName(<span class="string">&quot;org.com.pack.LocaderClass&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(ClassNotFoundException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            lc=(LocaderClass)c.newInstance();		<span class="comment">//创建LocaderClass实例</span></span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">            &#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        Method method[]=c.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;method.length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            method[i].setAccessible(<span class="keyword">true</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;方法名称：&quot;</span>+method[i].getName());</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>(i==<span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    method[<span class="number">0</span>].invoke(lc);</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i==<span class="number">1</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;执行结果：&quot;</span>+method[<span class="number">1</span>].invoke(lc,<span class="number">12</span>));</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i==<span class="number">2</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;执行结果：&quot;</span>+method[<span class="number">2</span>].invoke(lc,<span class="number">3.4f</span>,<span class="number">12</span>));</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i==<span class="number">3</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    Object obj[]=<span class="keyword">new</span> Object[]&#123;<span class="keyword">new</span> String[]&#123;<span class="string">&quot;java&quot;</span>,<span class="string">&quot;学&quot;</span>,<span class="string">&quot;习&quot;</span>,<span class="string">&quot;笔记&quot;</span>&#125;&#125;;</span><br><span class="line">                    System.out.println(<span class="string">&quot;执行结果：&quot;</span>+method[<span class="number">3</span>].invoke(lc,obj));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">            	&#123;</span><br><span class="line">                	e.printStackTrace();</span><br><span class="line">            	&#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;----------------------------------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">方法名称：staticMethod</span><br><span class="line">静态方法</span><br><span class="line">----------------------------------</span><br><span class="line">方法名称：publicMethod</span><br><span class="line">执行结果：<span class="number">24</span></span><br><span class="line">----------------------------------</span><br><span class="line">方法名称：protectedMethod</span><br><span class="line">执行结果：<span class="number">15.4</span></span><br><span class="line">----------------------------------</span><br><span class="line">方法名称：privateMethod</span><br><span class="line">执行结果：java</span><br><span class="line">----------------------------------</span><br></pre></td></tr></table></figure>
<p>​		在以上程序中，需要执行 setAccessible()方法并设置其参数为 true，否则在执行 private 属性的 privateMethod()方法 时将会产生异常。<strong>还有一点需要注意的是，在通过反射机制执行参数为可变参数的方法时，需要将传入的参数设置为二维数组的形式。</strong></p>
<blockquote>
<p><span style="color:red;background:背景颜色;font-size:文字大小;font-family:字体;">不能保证返回数组的顺序，注意是不能保证返回顺序，而不是返回是乱序：<strong>它完全可能是乱序，也还可能是按照声明顺序排布</strong>。详情可查看API帮助文档。</span></p>
</blockquote>
<h4 id="通过反射操作数组array类"><a class="markdownIt-Anchor" href="#通过反射操作数组array类"></a> 通过反射操作数组：Array类</h4>
<p>​		java 反射机制不止可以应用在类上，还可以用于任意的引用数据类型上。在 java.lang.reflect 包中提供了一个 Array 类来动态地创建和访问数组。Array 类常用的方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public static Object get(Object array,int index)throws  IllegalArgumentException, ArrayIndexOutOfBoundsException</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>根据下标取得数组的内容</strong></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public static boolean getBoolean(Object arrat,int index)throws  IllegalArgumentException, ArrayIndexOutOfBoundsException</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">以 boolean 形式返回数组对象中指定下标的内容，可重写为byte、char、double、float、int、short和long类型</td>
</tr>
<tr>
<td style="text-align:center"><strong>3</strong></td>
<td style="text-align:center"><strong>public static int getLength(Object array)throws  IllegalArgumentException, ArrayIndexOutOfBoundsException</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>获取指定数组的长度</strong></td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public static Object newInstance(Class&lt;?&gt; componentType,int… dimensions)throws  IllegalArgumentException, ArrayIndexOutOfBoundsException</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">创建一个具有指定的类型和维度的新数组</td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public static Object newInstacne(Class&lt;?&gt; componentType,int length)throws  IllegalArgumentException, ArrayIndexOutOfBoundsException</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>创建一个具有指定的类型和长度的新数组</strong></td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public static void set(Object array,int index,Object value)throws  IllegalArgumentException, ArrayIndexOutOfBoundsException</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">设置数组中指定下标的内容的值</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public static void setBoolean(Object array,int index,boolean z)throws  IllegalArgumentException, ArrayIndexOutOfBoundsException</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">将数组中指定位置的值设置为指定的 boolean 值，可重写为byte、char、double、float、int、short和long类型</td>
</tr>
</tbody>
</table>
<p>​		下面通过范例来演示 Arrary 类的用法。</p>
<h5 id="获取数组的信息并修改数组内容"><a class="markdownIt-Anchor" href="#获取数组的信息并修改数组内容"></a> 获取数组的信息并修改数组内容</h5>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> num[]=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">        Class&lt;?&gt; cArray=num.getClass().getComponentType();</span><br><span class="line">        System.out.println(<span class="string">&quot;数组元素类型：&quot;</span>+cArray.getName());</span><br><span class="line">        System.out.println(<span class="string">&quot;数组长度：&quot;</span>+Array.getLength(num));</span><br><span class="line">        System.out.println(<span class="string">&quot;修改前的数组：&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> length=Array.getLength(num);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(Array.get(num,i)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;\n修改后的数组：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Array.set(num,i,i*<span class="number">2</span>+<span class="number">1</span>);</span><br><span class="line">            System.out.print(Array.get(num,i)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">数组元素类型：<span class="keyword">int</span></span><br><span class="line">数组长度：<span class="number">5</span></span><br><span class="line">修改前的数组：</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span></span><br><span class="line">修改后的数组：</span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">5</span> <span class="number">7</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>
<h5 id="创建新数组"><a class="markdownIt-Anchor" href="#创建新数组"></a> 创建新数组</h5>
<p>​		Array 类除了可以获取数组的相关信息及设置数组元素内容以外，还可以创建新的数组。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        String str[]=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            str=(String[])Array.newInstance(String.class,<span class="number">5</span>);	<span class="comment">//向下转型</span></span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            Array.set(str,i,i*<span class="number">2</span>+<span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;数组内容：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(Array.get(str,i)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">数组内容：</span><br><span class="line"><span class="number">0</span> <span class="number">2</span> <span class="number">4</span> <span class="number">6</span> <span class="number">8</span></span><br></pre></td></tr></table></figure>
<p>​		在以上程序中，Array 类的 newInstance()方法返回值为 Object 类中的数组，所以需要进行向下转型为 String 类型的数组。</p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/20/%E6%9E%9A%E4%B8%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/20/%E6%9E%9A%E4%B8%BE/" class="post-title-link" itemprop="url">枚举</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-20 21:26:01" itemprop="dateCreated datePublished" datetime="2021-08-20T21:26:01+08:00">2021-08-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-28 03:18:20" itemprop="dateModified" datetime="2021-08-28T03:18:20+08:00">2021-08-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/20/%E6%9E%9A%E4%B8%BE/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/20/%E6%9E%9A%E4%B8%BE/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		枚举原本是 C 语言或 C++语言中的一种构造类型。当一个变量有几种可能的取值时， 将变量的值一一列出来，变量的值只限于列举出来的值的范围内，这称为枚举。</p>
<h3 id="为什么要使用枚举"><a class="markdownIt-Anchor" href="#为什么要使用枚举"></a> 为什么要使用枚举</h3>
<p>​		JDK 1.5 开始引入了枚举类型，可以使用枚举取代以往通过定义常量的方式来限制一个类的对象产生范围。java增加枚举之后，不但扩充了java的类集，还赋予了程序在编译时检查的功能。</p>
<p>​		在某些情况下，一个类的对象是有限且固定的，如方向类，它只有东南西北这4个对象，其他的任何值都是非法的。在以往没有泛型的程序设计中，会采取以下的方式构建这样的代码。</p>
<p>代码示例：(使用普通类)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Directions</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Directions</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        setName(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Directions EAST=<span class="keyword">new</span> Directions(<span class="string">&quot;东&quot;</span>);	<span class="comment">//创建“东”实例</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Directions SOUTH=<span class="keyword">new</span> Directions(<span class="string">&quot;南&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Directions WEST=<span class="keyword">new</span> Directions(<span class="string">&quot;西&quot;</span>);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Directions NORTH=<span class="keyword">new</span> Directions(<span class="string">&quot;北&quot;</span>);</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Directions <span class="title">getDirections</span><span class="params">(<span class="keyword">int</span> direcNumber)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span>(direcNumber)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> EAST;		<span class="comment">//返回“东”实例</span></span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> SOUTH;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">return</span> WEST;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                <span class="keyword">return</span> NORTH;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span>		<span class="comment">//重写toString()方法</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getName();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Directions dirEast=Directions.getDirections(<span class="number">0</span>);		<span class="comment">//获取东</span></span><br><span class="line">        System.out.println(<span class="string">&quot;获取Directions对象：&quot;</span>+dirEast);</span><br><span class="line">        Directions dirWest=Directions.getDirections(<span class="number">2</span>);		<span class="comment">//获取西</span></span><br><span class="line">        System.out.println(<span class="string">&quot;获取Directions对象：&quot;</span>+dirWest);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">获取Directions对象：东</span><br><span class="line">获取Directions对象：西</span><br></pre></td></tr></table></figure>
<p>​		在以上程序中，Directions 类有以下几个特点：</p>
<ul>
<li>构造方法是 private 的，这是单例设计模式。</li>
<li>该类的对象是有限，有4个对象类型，且用 public  static final 属性来保存。</li>
<li>其他类通过调用该类的静态方法 getDirections()方法取得相对应的实例。</li>
</ul>
<p>​		由于 Directions 类的构造方法是 private 的，所有只能通过 getDirections()方法取得 Directions 的实例，且只能从 EAST、SOUTH、WEST、NORTH 中选择，这样可以有效地限制对象的取值范围。除此之外，<strong>还可以通过接口的方式限制方向的取值范围，但此时 Directions 对象需要使用常量表示</strong>。</p>
<p>代码示例：(使用接口)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Directions</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> EAST=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> SOUTH=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> WEST=<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> NORTH=<span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;获取东属性：&quot;</span>+Directions.EAST);</span><br><span class="line">        System.out.println(<span class="string">&quot;获取西属性：&quot;</span>+Directions.WEST);</span><br><span class="line">        System.out.println(<span class="string">&quot;错误属性：&quot;</span>+(Directions.WEST+Directions.NORTH)); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">获取东属性：<span class="number">0</span></span><br><span class="line">获取西属性：<span class="number">2</span></span><br><span class="line">错误属性：<span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>​		从以上程序可以发现，使用接口的方式相对较为简单， 但容易产生歧义，如 Directions.WEST+Directions.NORTH。 还有意义不明确的，如打印输出的是0，用户不查看文档就 很难知道0代表的是东。</p>
<p>​		以上这两种形式都无法让用户了解程序可以提供的向种类，如有没有前后左右上下等。若想实现这样的功能，将是一个复杂的过程。从这个意义上来说，枚举的存在是非常有用的。</p>
<h3 id="定义枚举类型"><a class="markdownIt-Anchor" href="#定义枚举类型"></a> 定义枚举类型</h3>
<p>​		从 JDK 1.5 开始 java 新增了一个关键字 enum，用来定义枚举类型。<strong>枚举类型是一个常量集合的数据类型，所以枚举类型中的枚举成员的标识符都是大写的</strong>。</p>
<h4 id="常见的枚举定义方法"><a class="markdownIt-Anchor" href="#常见的枚举定义方法"></a> 常见的枚举定义方法</h4>
<p>​		从 JDK 1.5 开始可以使用 enum 关键字直接定义枚举类型，其语法格式如下。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">public</span>] <span class="class"><span class="keyword">enum</span> 枚举类型名</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    枚举成员<span class="number">1</span>,枚举成员<span class="number">2.</span>..枚举成员n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​		其中，定义枚举类型时，各成员之类使用英文的逗号（,）分隔开。<strong>一个源文件只能定义一个 public 类型的枚举类型</strong>，枚举类型经过 java 编译器编译后，也将产生一个字节码文件（.class）。枚举类型本质上也是类，不过是一个特殊的类。</p>
<blockquote>
<p>注意：所有的枚举类型都隐性地继承 java.lang.Enum。</p>
</blockquote>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Directions</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    EAST,SOUTH,WEST,NORTH;		<span class="comment">//定义枚举成员</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Directions dir=Directions.EAST;</span><br><span class="line">        System.out.println(<span class="string">&quot;获取的枚举成员：&quot;</span>+dir);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">获取的枚举成员：EAST</span><br></pre></td></tr></table></figure>
<h4 id="在-switch-语句中使用枚举"><a class="markdownIt-Anchor" href="#在-switch-语句中使用枚举"></a> 在 switch 语句中使用枚举</h4>
<p>​		 switch 语句是支持枚举类型的，下面演示使用 switch 语句判断枚举类型。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Directions</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    EAST,SOUTH,WEST,NORTH;		<span class="comment">//定义枚举成员</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(Directions dir)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span>(dir)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> EAST:</span><br><span class="line">                System.out.println(<span class="string">&quot;您传递进来的枚举成员为：东&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> SOUTH:</span><br><span class="line">                System.out.println(<span class="string">&quot;您传递进来的枚举成员为：南&quot;</span>); </span><br><span class="line">                <span class="keyword">break</span>; </span><br><span class="line">            <span class="keyword">case</span> WEST:</span><br><span class="line">                System.out.println(<span class="string">&quot;您传递进来的枚举成员为：西&quot;</span>); </span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> NORTH:</span><br><span class="line">                System.out.println(<span class="string">&quot;您传递进来的枚举成员为：北&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Directions dir=Directions.WEST;</span><br><span class="line">        show(dir);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">您传递进来的枚举成员为：西</span><br></pre></td></tr></table></figure>
<p>​		以上程序中，<strong>在 switch 语句中不能在每个 case 语句的枚举类型值前面加上枚举类型的类名</strong>，如 （Directions.WEST），可见枚举有参数类型检测优势。 若调用 show()方法时传入的参数不是 Directions 类型， 程序编译时将会报错。例如，在 main()方法中调用 show(0)，将会抛出如下异常。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Test.java:<span class="number">28</span>: 错误: 不兼容的类型: <span class="keyword">int</span>无法转换为<span class="function">Directions</span></span><br><span class="line"><span class="function">        <span class="title">show</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line">             ^</span><br><span class="line">注: 某些消息已经过简化; 请使用 -Xdiags:verbose 重新编译以获得完整输出</span><br><span class="line"><span class="number">1</span> 个错误</span><br></pre></td></tr></table></figure>
<h4 id="枚举类型与枚举类的区别"><a class="markdownIt-Anchor" href="#枚举类型与枚举类的区别"></a> 枚举类型与枚举类的区别</h4>
<p>​		使用 enum 关键字可以定义一个枚举类型，实际上相当于定义了一个类，该类继承了 java.lang.Enum 类。可以使用 values()遍历所有的枚举成员。</p>
<p>​		枚举类 Enum 是 java.lang 包中的一个类，该类的构造方法是 protected 的。实际上定义 一个枚举类型之后，就会自动调用 Enum 类的构造方法。Enum 类中还有许多的方法可以被调用。</p>
<h3 id="枚举类enum"><a class="markdownIt-Anchor" href="#枚举类enum"></a> 枚举类：Enum</h3>
<p>​		前面提示过，所有的枚举类型都隐性地继承 java.lang.Enum 类，就是说所有的枚举类型都可以看成一个类。<strong>当定义一个枚举类型时，每一个枚举类型成员都是枚举类型的一个 实例</strong>。<strong>这些实例的默认属性为 public static final，可以直接通过“类名.变量”的形式访问</strong>。</p>
<p>java.lang.Enum类的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Enum</span>&lt;<span class="title">E</span> <span class="keyword">extends</span> <span class="title">Enum</span>&lt;<span class="title">E</span>&gt;&gt; <span class="keyword">extends</span> <span class="title">Object</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">E</span>&gt;,<span class="title">Serializable</span></span></span><br></pre></td></tr></table></figure>
<p>​		可以发现，Enum 类是抽象类且实现了 Comparable 和 Serializable 接口，索引枚举类型可以使用比较器和进行序列化操作。由于枚举类型继承了 Enum 类，<strong>所有 Enum 类中的以下关于操作枚举类型的方法，都可以运用到枚举类型中</strong>。Enum 类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>protected Enum(String name,int ordinal)</strong></td>
<td style="text-align:center"><strong>构造</strong></td>
<td style="text-align:center"><strong>以指定枚举的名称和枚举的常量创建枚举对象</strong></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">protected Object clone()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">克隆枚举对象</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public int compareTo(E o)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">比较此枚举与指定对象的顺序</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public boolean equals(Object other)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">比较两个枚举对象是否相等。若相等，则返回true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public Class getDeclaringClass()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回与指定枚举常量的枚举类型相对应的Class对象</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public int hashCode()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回枚举常量的哈希码</td>
</tr>
<tr>
<td style="text-align:center"><strong>7</strong></td>
<td style="text-align:center"><strong>public String name()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>返回此枚举常量的名称，不能被重写</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>8</strong></td>
<td style="text-align:center"><strong>public int ordinal()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>返回枚举常量的序数（它在枚举声明中的位置，其中初始常量序数为 0）</strong></td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public String toString()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回枚举常量的名称，可重写</td>
</tr>
<tr>
<td style="text-align:center"><strong>10</strong></td>
<td style="text-align:center"><strong>public static &gt; T  valueOf(Class enumType, String name)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>返回带指定名称的指定枚举类型的枚举常量</strong></td>
</tr>
</tbody>
</table>
<p>​		下面通过一些范例演示 Enum 类的使用。</p>
<h4 id="枚举类型的values方法"><a class="markdownIt-Anchor" href="#枚举类型的values方法"></a> 枚举类型的values()方法</h4>
<p>​		<strong>枚举类型实例都含有一个 values()方法，该方法是静态方法</strong>，用于将枚举类型的成员<strong>以数组的形式返回</strong>，也可以通过该方法获取枚举成员信息。</p>
<p>代码实例：(验证values()方法)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Directions</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    EAST,SOUTH,WEST,NORTH;		<span class="comment">//定义枚举成员</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;使用循环方式输出：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;Directions.values().length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;枚举成员：&quot;</span>+Directions.values()[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;使用foreach方式输出：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(Directions dir:Directions.values())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;枚举成员：&quot;</span>+dir); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">使用循环方式输出：</span><br><span class="line">枚举成员：EAST</span><br><span class="line">枚举成员：SOUTH</span><br><span class="line">枚举成员：WEST</span><br><span class="line">枚举成员：NORTH</span><br><span class="line">使用foreach方式输出：</span><br><span class="line">枚举成员：EAST</span><br><span class="line">枚举成员：SOUTH</span><br><span class="line">枚举成员：WEST</span><br><span class="line">枚举成员：NORTH</span><br></pre></td></tr></table></figure>
<p>​		可以发现，values()是静态方法，可以通过“枚举.values()” 的形式调用。<strong>该方法返回的是枚举类型的数组</strong>，所以可以使 用length获取其长度。</p>
<h4 id="获取枚举成员的名称和索引"><a class="markdownIt-Anchor" href="#获取枚举成员的名称和索引"></a> 获取枚举成员的名称和索引</h4>
<p>​		在 Enum 类中，提供了name()方法可以获取枚举类型成员的名称，而ordinal()方法用于获取每个枚举成员的索引值， 索引值从0 开始。</p>
<p>代码示例：(获取枚举成员的名称和索引)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Directions</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    EAST,SOUTH,WEST,NORTH;		<span class="comment">//定义枚举成员</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;使用循环方式输出：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;Directions.values().length;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;索引位置：&quot;</span>+Directions.values()[i].ordinal()+ </span><br><span class="line"> <span class="string">&quot;，枚举成员名称：&quot;</span>+Directions.values()[i].name()); </span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;使用foreach方式输出：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(Directions dir:Directions.values())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;索引位置：&quot;</span>+dir.ordinal()+ </span><br><span class="line"> <span class="string">&quot;，枚举成员名称：&quot;</span>+dir.name());  </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">使用循环方式输出：</span><br><span class="line">索引位置：<span class="number">0</span>，枚举成员名称：EAST</span><br><span class="line">索引位置：<span class="number">1</span>，枚举成员名称：SOUTH</span><br><span class="line">索引位置：<span class="number">2</span>，枚举成员名称：WEST</span><br><span class="line">索引位置：<span class="number">3</span>，枚举成员名称：NORTH</span><br><span class="line">使用foreach方式输出：</span><br><span class="line">索引位置：<span class="number">0</span>，枚举成员名称：EAST</span><br><span class="line">索引位置：<span class="number">1</span>，枚举成员名称：SOUTH</span><br><span class="line">索引位置：<span class="number">2</span>，枚举成员名称：WEST</span><br><span class="line">索引位置：<span class="number">3</span>，枚举成员名称：NORTH</span><br></pre></td></tr></table></figure>
<p>​		在以上程序中，使用的是循环方式和 foreach 方式获取每个枚举成员，foreach显得更为简洁。Enum 类会自动为枚举类型中的每一个枚举成员进行自动编号，从 0 开始。</p>
<h4 id="枚举类的构造方法与valueof方法"><a class="markdownIt-Anchor" href="#枚举类的构造方法与valueof方法"></a> 枚举类的构造方法与valueof()方法</h4>
<p>​		枚举类型是一个特殊的类，那么类相关的规则在枚举类型中也是适用的。枚举类的构造方法常用作添加枚举成员的构造方法，为各个枚举成员添加附加的说明。枚举类型中的静态方法 valueOf()可将字符串转变为枚举类型。</p>
<p>代码示例：( 枚举类型对象属性)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Directions</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    EAST(<span class="string">&quot;东&quot;</span>),SOUTH(<span class="string">&quot;南&quot;</span>),WEST(<span class="string">&quot;西&quot;</span>),NORTH(<span class="string">&quot;北&quot;</span>);</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Directions</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>(<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Directions</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(Directions dir:Directions.values())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;索引位置：&quot;</span>+dir.ordinal()+<span class="string">&quot;。枚举成员名称：&quot;</span>+dir.name()+<span class="string">&quot;，说明信息：&quot;</span>+dir.getName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">索引位置：<span class="number">0</span>。枚举成员名称：EAST，说明信息：东</span><br><span class="line">索引位置：<span class="number">1</span>。枚举成员名称：SOUTH，说明信息：南</span><br><span class="line">索引位置：<span class="number">2</span>。枚举成员名称：WEST，说明信息：西</span><br><span class="line">索引位置：<span class="number">3</span>。枚举成员名称：NORTH，说明信息：北</span><br></pre></td></tr></table></figure>
<p>​		以上程序中，Directions 类的构造方法为 private 的，这意味着外部是无法调用其构造方法创建对象的。其中，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EAST(<span class="string">&quot;东&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>相当于：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Directions EAST=<span class="keyword">new</span> Directions(<span class="string">&quot;东&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>​		还可以使用 setter 方法来设置枚举成员的属性，但操作的枚举成员的属性值是明确的。 如果操作的对象是 EAST，则其属性值应该为东，若操作的是 WEST，则其属性值应该是西。</p>
<p>代码示例：(使用 setter 方法设置枚举成员的属性)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Directions</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    EAST,SOUTH,WEST,NORTH;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span>(<span class="keyword">this</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> EAST:</span><br><span class="line">                <span class="keyword">if</span>(name.equals(<span class="string">&quot;东&quot;</span>))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">this</span>.name=name;</span><br><span class="line">                &#125;<span class="keyword">else</span></span><br><span class="line">                	&#123;</span><br><span class="line">                    	System.out.println(<span class="string">&quot;设置EAST属性错误！&quot;</span>);</span><br><span class="line">                    	<span class="keyword">return</span>;</span><br><span class="line">                	&#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">             <span class="keyword">case</span> SOUTH:</span><br><span class="line">                <span class="keyword">if</span>(name.equals(<span class="string">&quot;南&quot;</span>))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">this</span>.name=name;</span><br><span class="line">                &#125;<span class="keyword">else</span></span><br><span class="line">                	&#123;</span><br><span class="line">                    	System.out.println(<span class="string">&quot;设置SOUTH属性错误！&quot;</span>);</span><br><span class="line">                    	<span class="keyword">return</span>;</span><br><span class="line">                	&#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">             <span class="keyword">case</span> WEST:</span><br><span class="line">                <span class="keyword">if</span>(name.equals(<span class="string">&quot;西&quot;</span>))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">this</span>.name=name;</span><br><span class="line">                &#125;<span class="keyword">else</span></span><br><span class="line">                	&#123;</span><br><span class="line">                    	System.out.println(<span class="string">&quot;设置WEST属性错误！&quot;</span>);</span><br><span class="line">                    	<span class="keyword">return</span>;</span><br><span class="line">                	&#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">             <span class="keyword">case</span> NORTH:</span><br><span class="line">                <span class="keyword">if</span>(name.equals(<span class="string">&quot;北&quot;</span>))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">this</span>.name=name;</span><br><span class="line">                &#125;<span class="keyword">else</span></span><br><span class="line">                	&#123;</span><br><span class="line">                    	System.out.println(<span class="string">&quot;设置NORTH属性错误！&quot;</span>);</span><br><span class="line">                    	<span class="keyword">return</span>;</span><br><span class="line">                	&#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Directions dir=Directions.SOUTH;</span><br><span class="line">        dir.setName(<span class="string">&quot;南&quot;</span>); </span><br><span class="line">        System.out.println(<span class="string">&quot;属性：&quot;</span>+dir.getName());</span><br><span class="line">        dir.setName(<span class="string">&quot;左&quot;</span>); </span><br><span class="line">        System.out.println(<span class="string">&quot;属性：&quot;</span>+dir.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">属性：南</span><br><span class="line">设置SOUTH属性错误！</span><br><span class="line">属性：南</span><br></pre></td></tr></table></figure>
<p>​		以上程序中，取得枚举类中的枚举成员后，想要为其设置 name 属性，则先要对其进行判断。若符合要求，则执行 this.name=name；不符合要求，则输出“设置 XXX 属性错 误！”。除此之外，还可以通过valueOf()方法获取枚举类的对象。</p>
<p>代码示例：(valueOf()方法获取枚举类的对象)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Directions dir=Enum.valueOf(Directions.class,<span class="string">&quot;SOUTH&quot;</span>);</span><br><span class="line">        dir.setName(<span class="string">&quot;南&quot;</span>); </span><br><span class="line">        System.out.println(<span class="string">&quot;属性：&quot;</span>+dir.getName());</span><br><span class="line">        dir.setName(<span class="string">&quot;左&quot;</span>); </span><br><span class="line">        System.out.println(<span class="string">&quot;属性：&quot;</span>+dir.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">属性：南</span><br><span class="line">设置SOUTH属性错误！</span><br><span class="line">属性：南</span><br></pre></td></tr></table></figure>
<p>​		以上程序中，Directions.class 为反射机制的内容，后面将会详细地讲解，这样可以根据用户输入来设置枚举成员。</p>
<h3 id="类集的枚举操作enummap和enumset"><a class="markdownIt-Anchor" href="#类集的枚举操作enummap和enumset"></a> 类集的枚举操作：EnumMap和EnumSet</h3>
<p>​		从JDK1.5开始，java.util包中新增了两个用来建立枚举类的集合类，EnumMap和EnumSet，其中EnumMap是Map的子类，而EnumSet是Set的子类。</p>
<h4 id="enummap类"><a class="markdownIt-Anchor" href="#enummap类"></a> EnumMap类</h4>
<p>​		EnumMap类是一个与枚举类一起实现的Map的子类，其本身是以Map的形式操作的，即 key→value。<strong>EnumMap在内部是以数组形式保存的</strong>，所以EnumMap的实现非常高效。与普通的 Map集合不同的是，EnumMap要与指定枚举类关联。EnumMap的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>protected EnumMap(Class&lt;K&gt; keyType)</strong></td>
<td style="text-align:center"><strong>构造</strong></td>
<td style="text-align:center"><strong>创建具有指定key类型的空枚举映射</strong></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">protected EnumMap(EnumMap&lt;K,? extends V&gt; m)</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">创建一个枚举映射，其key类型与指定的枚举映射相同</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">protected numMap(Map&lt;K,? extends V&gt; m)</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">创建从指定Map初始化的枚举映射</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public EnumMap&lt;K,V&gt; clone()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此枚举映射的副本</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public boolean containsKey(Object key)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">如果此映射包含指定的key，则返回 true</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public boolean containsValue(Object Value)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">如果此映射包含指定的value，则返回 true</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public void clear()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">从此映射中删除所有映射</td>
</tr>
<tr>
<td style="text-align:center"><strong>8</strong></td>
<td style="text-align:center"><strong>public Set&lt;Map Entry&lt;K,V&gt; entrySet()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>将此Map转换为Set集合</strong></td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public boolean equals(Object o)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">比较指定的对象o与此Map对象是否相等。若相等，则返回true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public V get(Object key)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回指定key所映射的value值。如果此key不包含映射关系，则返回null</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">public int hashCode()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此Map集合的哈希码值</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public Set&lt;K&gt; keySet()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此Map集合中所有的key值</td>
</tr>
<tr>
<td style="text-align:center"><strong>13</strong></td>
<td style="text-align:center"><strong>public V put(K key,V value)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>向此Map集合添加新的元素</strong></td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">public void putAll(Map&lt;? extends K,? extends V&gt; m)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将指定的Map集合中的所有内容添加到此Map集合中</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">public V remove(Object key)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">根据key值删除相对应的value值</td>
</tr>
<tr>
<td style="text-align:center">16</td>
<td style="text-align:center">public int size()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此Map集合的元素个数</td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">public Collection&lt;V&gt; values()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此Map集合中所有的value值</td>
</tr>
</tbody>
</table>
<p>代码示例：(验证EnumMap的应用)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.EnumMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Directions</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    EAST,SOUTH,WEST,NORTH;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        EnumMap&lt;Directions,String&gt; em=<span class="keyword">new</span> EnumMap&lt;Directions,String&gt;(Directions.class);</span><br><span class="line">        em.put(Directions.EAST,<span class="string">&quot;东&quot;</span>);</span><br><span class="line">        em.put(Directions.SOUTH,<span class="string">&quot;南&quot;</span>);</span><br><span class="line">        em.put(Directions.WEST,<span class="string">&quot;西&quot;</span>);</span><br><span class="line">        em.put(Directions.NORTH,<span class="string">&quot;北&quot;</span>);</span><br><span class="line">        Set&lt;Map.Entry&lt;Directions,String&gt;&gt; set=em.entrySet();</span><br><span class="line">        Iterator&lt;Map.Entry&lt;Directions,String&gt;&gt; it=set.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            Map.Entry&lt;Directions,String&gt; me=it.next();</span><br><span class="line">            System.out.println(me.getKey()+<span class="string">&quot;---→&quot;</span>+me.getValue()); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EAST---→东</span><br><span class="line">SOUTH---→南</span><br><span class="line">WEST---→西</span><br><span class="line">NORTH---→北</span><br></pre></td></tr></table></figure>
<p>​		在以上程序中，EnumMap 的使用与普通的 Map 集合使用没有多大区别。</p>
<blockquote>
<p>提示：EnumMap 中不允许使用 null 作为 key 值，但允许 null 作为 value 值。</p>
</blockquote>
<h3 id="enumset-类"><a class="markdownIt-Anchor" href="#enumset-类"></a> EnumSet 类</h3>
<p>​		EnumSet 是与枚举类型一起使用的 Set 实现。<strong>EnumSet 集合中的所有值都必须来自单个枚举类型</strong>，该枚举类型在创建 EnumSet 对象时显式或隐式地指定。EnumSet 集合中的元素是有序的，是根据枚举成员在枚举类中定义的顺序决定的，即根据 ordinal()排序。EnumSet 在内部表示为位向量，此表示形式非常紧凑且高效，其空间和时间性能应该很好。尤其是在批量操作（如 containsAll 和 retainAll）时运行得非常快。</p>
<p>​		<strong>EnumSet 集合不允许 null 元素</strong>。试图插入 null 元素将抛出 NullPointerException。但是， 试图测试是否出现 null 元素或移除 null 元素将不会抛出异常。</p>
<p>​		<strong>EnumSet 的构造方法是 private 的</strong>，其他类是不能通过其构造方法来创建 EnumSet 对象 的，所以 EnumSet 提供很多静态方法。EnumSet 类的常用方法如下表所示。</p>
<blockquote>
<p>提示：EnumSet 是不同步的。</p>
</blockquote>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public boolean add(E e)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>向集合中添加元素</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>2</strong></td>
<td style="text-align:center"><strong>public static &lt;E extends Enum&lt;E&gt;&gt; EnumSet&lt;E&gt; allOf(Class&lt;E&gt; elementType)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>以指定元素类型创建一个EnumSet对象</strong></td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public static &lt;E extends Enum&lt;E&gt;&gt; EnumSet&lt;E&gt; complementOf(EnumSet&lt;E&gt; s)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">创建一个其元素类型与指定EnumSet集合s相同的EnumSet集合，包含s中所不包含的此类型的所有元素</td>
</tr>
<tr>
<td style="text-align:center"><strong>4</strong></td>
<td style="text-align:center"><strong>public static &lt;E extends Enum&lt;E&gt;&gt; EnumSet&lt;E&gt; copyOf(Collection&lt;E&gt; c)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>创建一个包含c中的所有元素的EnumSet集合</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public static &lt;E extends Enum&lt;E&gt;&gt; EnumSet&lt;E&gt; iterator()</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>创建 Iterator 实例</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>6</strong></td>
<td style="text-align:center"><strong>public static &lt;E extends Enum&lt;E&gt;&gt; EnumSet&lt;E&gt; noneOf(Class&lt;E&gt; elementType)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>创建一个具有指定元素类型的空 EnumSet 集合</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>7</strong></td>
<td style="text-align:center"><strong>public static &lt;E extends Enum&lt;E&gt;&gt; EnumSet&lt;E&gt; of(E e1,E e2…)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>创建一个最初包含指定元素e的 EnumSet 集合</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>8</strong></td>
<td style="text-align:center"><strong>public static &lt;E extends Enum&lt;E&gt;&gt; EnumSet&lt;E&gt; range(E from, E to)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>创建一个最初包含由两个指定端点所定义范围内的所有元素的 EnumSet 集合</strong></td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public boolean remove(Object o)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">从集合中删除指定的元素</td>
</tr>
</tbody>
</table>
<p>​		下面通过一些范例来演示 EnumSet 类的操作。</p>
<h4 id="向集合中添加元素"><a class="markdownIt-Anchor" href="#向集合中添加元素"></a> 向集合中添加元素</h4>
<p>​		EnumSet 类提供 allOf()方法，向集合中添加元素，还可以使用其继承来的 add()和 addAll()方法。</p>
<p>代码示例：(allOf()方法向集合中添加元素)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.EnumSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Directions</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    EAST,SOUTH,WEST,NORTH;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(EnumSet ms)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Iterator&lt;Directions&gt; it=ms.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(it.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        EnumSet&lt;Directions&gt; ms1=EnumSet.allOf(Directions.class);</span><br><span class="line">        System.out.println(<span class="string">&quot;enumset1 = EnumSet.allOf(Directions .class)&quot;</span>);</span><br><span class="line">        show(ms1);</span><br><span class="line">        EnumSet&lt;Directions&gt; ms2=EnumSet.noneOf(Directions.class);</span><br><span class="line">        ms2.add(Directions.EAST);</span><br><span class="line">        ms2.add(Directions.SOUTH); </span><br><span class="line">        ms2.add(Directions.NORTH); </span><br><span class="line">        System.out.println(<span class="string">&quot;enumset2 = EnumSet.noneOf(Directions .class)和 add()&quot;</span>); </span><br><span class="line">        show(ms2);</span><br><span class="line">        EnumSet&lt;Directions&gt; ms3=EnumSet.noneOf(Directions.class);</span><br><span class="line">        ms3.addAll(ms1);</span><br><span class="line">        System.out.println(<span class="string">&quot;enumset3 = EnumSet.noneOf(Directions .class)和 addAll()&quot;</span>); </span><br><span class="line">        show(ms3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">enumset1 = EnumSet.allOf(Directions .class)</span><br><span class="line">EAST</span><br><span class="line">SOUTH</span><br><span class="line">WEST</span><br><span class="line">NORTH</span><br><span class="line">enumset2 = EnumSet.noneOf(Directions .class)和 add()</span><br><span class="line">EAST</span><br><span class="line">SOUTH</span><br><span class="line">NORTH</span><br><span class="line">enumset3 = EnumSet.noneOf(Directions .class)和 addAll()</span><br><span class="line">EAST</span><br><span class="line">SOUTH</span><br><span class="line">WEST</span><br><span class="line">NORTH</span><br></pre></td></tr></table></figure>
<p>​		在以上程序中，EnumSey类的静态方法allOf()是将一个枚举类的所有枚举成员添加到EnumSet集合中。而静态方法noneOf()方法只是将集合中的元素设置为指定的枚举类型，并没有添加任何枚举类中的枚举成员到EnumSet集合中，即执行noneOf()方法生成的EnumSet集合是空集合。</p>
<h4 id="of-copyof和range方法"><a class="markdownIt-Anchor" href="#of-copyof和range方法"></a> of()、copyOf()和range()方法</h4>
<p>​		EnumSet 类中的静态方法 of()可以创建一个包含指定元素的 EnumSet 集合。静态方法 copyOf()可以将指定集合中所有的元素复制到另一个 EnumSet 集合中。range()也可用于创建一个包含指定元素的 EnumSet 集合，但其可以包含的是由两个指定端点所定义范围内的所有元素。</p>
<p>代码示例：( 验证of()、copyOf()和range() )</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.EnumSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Directions</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    EAST,SOUTH,WEST,NORTH;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(EnumSet ms)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Iterator&lt;Directions&gt; it=ms.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(it.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        EnumSet&lt;Directions&gt; ms1=EnumSet.of(Directions.EAST,Directions.WEST);</span><br><span class="line">        System.out.println(<span class="string">&quot;enumset1=EnumSet.of(Directions.EAST,Directions.WEST)&quot;</span>);</span><br><span class="line">        show(ms1);</span><br><span class="line">        EnumSet&lt;Directions&gt; ms2=EnumSet.copyOf(ms1); </span><br><span class="line">        System.out.println(<span class="string">&quot;enumset2=EnumSet.copyOf(ms1)&quot;</span>); </span><br><span class="line">        show(ms2);</span><br><span class="line">        EnumSet&lt;Directions&gt; ms3=EnumSet.range(Directions.WEST,Directions.NORTH);</span><br><span class="line">        ms3.addAll(ms1);</span><br><span class="line">        System.out.println(<span class="string">&quot;enumset3=EnumSet.range(Directions.WEST,Directions.NORTH)&quot;</span>); </span><br><span class="line">        show(ms3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">enumset1=EnumSet.of(Directions.EAST,Directions.WEST)</span><br><span class="line">EAST</span><br><span class="line">WEST</span><br><span class="line">enumset2=EnumSet.copyOf(ms1)</span><br><span class="line">EAST</span><br><span class="line">WEST</span><br><span class="line">enumset3=EnumSet.range(Directions.WEST,Directions.NORTH)</span><br><span class="line">EAST</span><br><span class="line">WEST</span><br><span class="line">NORTH</span><br></pre></td></tr></table></figure>
<h3 id="枚举类与接口"><a class="markdownIt-Anchor" href="#枚举类与接口"></a> 枚举类与接口</h3>
<p>​		一般情况下，接口中都包含抽象方法。当一个枚举类实现接口时，每一个枚举对象都必须分别实现接口中的抽象方法。与普通类一样，枚举类也是可以实现多个接口的，但必须实现所有的抽象方法。</p>
<p>代码示例：(枚举类实现接口)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">EnumInterface</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Directions</span> <span class="keyword">implements</span> <span class="title">EnumInterface</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    EAST()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;此枚举成员为东&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    SOUTH()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;此枚举成员为南&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    WEST()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;此枚举成员为西&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    NORTH()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;此枚举成员为北&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(Directions dir:Directions.values())</span><br><span class="line">        &#123;</span><br><span class="line">            dir.show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">此枚举成员为东</span><br><span class="line">此枚举成员为南</span><br><span class="line">此枚举成员为西</span><br><span class="line">此枚举成员为北</span><br></pre></td></tr></table></figure>
<p>​		从以上的程序可以发现，枚举类实现接口与普通类是一致的，都是使用 implements 关键字来实现接口的，并且需要实现接口中的所有抽象方法。枚举成员后面的花括号实际上是类体部分，可以说枚举类中的枚举成员是枚举类中的匿名内部子类。</p>
<h3 id="枚举类与抽象方法"><a class="markdownIt-Anchor" href="#枚举类与抽象方法"></a> 枚举类与抽象方法</h3>
<p>​		枚举类除了可以实现接口中的抽象方法之外，还可以直接在枚举类中定义抽象方法。一个枚举类可以定义一个或多个抽象方法，但<strong>每一个枚举对象需要实现每一个抽象方法</strong>。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">EnumInterface</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Directions</span> <span class="keyword">implements</span> <span class="title">EnumInterface</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    EAST()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;此枚举成员为东&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getDirections</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;东&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    SOUTH()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;此枚举成员为南&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getDirections</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;南&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    WEST()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;此枚举成员为西&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getDirections</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;西&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    NORTH()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;此枚举成员为北&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> String <span class="title">getDirections</span><span class="params">()</span></span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;北&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> String <span class="title">getDirections</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(Directions dir:Directions.values())</span><br><span class="line">        &#123;</span><br><span class="line">            dir.show();</span><br><span class="line">            System.out.println(<span class="string">&quot;属性：&quot;</span>+dir.getDirections()); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">此枚举成员为东</span><br><span class="line">属性：东</span><br><span class="line">此枚举成员为南</span><br><span class="line">属性：南</span><br><span class="line">此枚举成员为西</span><br><span class="line">属性：西</span><br><span class="line">此枚举成员为北</span><br><span class="line">属性：北</span><br></pre></td></tr></table></figure>
<p>​		由以上程序可以发现，在枚举类中定义抽象方法，枚举类不需要显式使用 abstract 关键字将枚举类定义为抽象类，并且在枚举类中定义抽象方法时，必须有枚举成员实现，定义多少个抽象方法就必须实现多少个。</p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/18/%E5%85%B6%E4%BB%96%E9%9B%86%E5%90%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/18/%E5%85%B6%E4%BB%96%E9%9B%86%E5%90%88/" class="post-title-link" itemprop="url">其他集合</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-18 19:46:41" itemprop="dateCreated datePublished" datetime="2021-08-18T19:46:41+08:00">2021-08-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-27 00:18:07" itemprop="dateModified" datetime="2021-08-27T00:18:07+08:00">2021-08-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/18/%E5%85%B6%E4%BB%96%E9%9B%86%E5%90%88/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/18/%E5%85%B6%E4%BB%96%E9%9B%86%E5%90%88/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		面学习了java 常用的集合类和接口，还有一些集合类和接口虽然已经被取代，但是在早期的程序中还是会出现，有的在java Web 编程时还会使用。所以本文将对 Vector、 Stacke 类进行简单的介绍，以便读者认识它们。</p>
<h3 id="向量类vector类"><a class="markdownIt-Anchor" href="#向量类vector类"></a> 向量类：Vector类</h3>
<p>Vector类的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vector</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;, <span class="title">RandomAccess</span>, <span class="title">Cloneable</span>, <span class="title">Serializable</span> </span></span><br></pre></td></tr></table></figure>
<p>​		可以看出Vector类是List的子类，但实际上Vector类是一个元老级别的类，在JDK 1.0时就已存在（List在JDK1.2时才存在）。为了让Vector类可以保存下来，java 设计者让其实现了List 接口。</p>
<p>​		Vector类与ArrayList是类似的，在ArrayList还未出现之前，Vector是使用最为广泛的顺序表。为了保证Vector类能与现在的集合框架兼容，从JDK1.5 后Vector类又被重新设计为泛型，并成为AbstractLis 的子类。所以，Vector类与ArrayList的使用没有多大的 区别。下面通过一个范例来演示其操作。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Vector&lt;String&gt; vector=<span class="keyword">new</span> Vector&lt;String&gt;();</span><br><span class="line">        vector.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        vector.addElement(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        vector.addElement(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">        Collections.addAll(vector,<span class="string">&quot;M&quot;</span>,<span class="string">&quot;N&quot;</span>,<span class="string">&quot;O&quot;</span>);</span><br><span class="line">        vector.remove(<span class="number">1</span>);</span><br><span class="line">        Iterator&lt;String&gt; it=vector.iterator();</span><br><span class="line">        System.out.println(<span class="string">&quot;使用Iterator&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(it.next()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;\n使用foreach&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(String str:vector)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(str+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;\n使用get()&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> len=vector.size();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(vector.get(i)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">使用Iterator</span><br><span class="line">A c M N O</span><br><span class="line">使用foreach</span><br><span class="line">A c M N O</span><br><span class="line">使用get()</span><br><span class="line">A c M N O</span><br></pre></td></tr></table></figure>
<p>​		从上面程序可以发现，Vector类的操作与ArrayList类的操作没有多大的区别，只不过是Vector 类出现较早，并定义了许多 ArrayList 类中没有定义的方法，如addElement()。</p>
<h4 id="arraylist与vector的区别"><a class="markdownIt-Anchor" href="#arraylist与vector的区别"></a> ArrayList与Vector的区别</h4>
<p>​		ArrayList和Vector都是List的子类，都是有序的集合，可以存储相同的元素，相当于动态数组。它们都可以按索引位置取得指定的元素。两者的主要区别有如下几点。</p>
<p>（1）出现的时间</p>
<p>​		Vector 是在 JDK 1.0 时就已存在，而 ArrayList 到了 JDK 1.2 才推出。</p>
<p>（2）同步性</p>
<p>​		<strong>Vector 是线程安全的</strong>，也就是说它的方法之间是线程同步的；而 <strong>ArrayList 是线程不安全的</strong>，它的方法之间是线程不同步的。在程序设计中，如果是只有一个线程会访问到集合， 那最好选择使用 ArrayList，因为它不考虑线程安全，效率会高些；如果有多个线程会访问到集合，那最好选择使用 Vector，因为不需要开发人员自己编写线程安全的代码。</p>
<p>（3）数据增长</p>
<p>​		ArrayList 与 Vector 都存在初始的容量大小，当存储进集合里的元素的个数超过了容量时，就需要增加 ArrayList 与 Vector 的存储空间。每次要增加存储空间时，不是只增加一 个存储单元，而是增加多个存储单元。这就要求每次增加的存储单元的个数在内存空间利 用与程序效率之间要取得一定的平衡。<strong>Vector 默认增长为原来一倍，而 ArrayList 的增长策略在文档中没有明确规定（从源代码看到的是增长为原来的一半）</strong>。</p>
<p>​		另外，还需要注意的是，ArrayList 与 Vector 都可以设置初始的空间大小，但 <strong>Vector 还可以设置增长的空间大小，而 ArrayList 没有提供设置增长空间的方法。</strong></p>
<p>（4）输出方式</p>
<p>​		Vector 可以使用 Iterator、foreach 和 Enumeration 方式输出，而 ArrayList 只能使用 Iterator、foreach 方式输出。</p>
<h3 id="栈stack类"><a class="markdownIt-Anchor" href="#栈stack类"></a> 栈：Stack类</h3>
<p>​		栈是一种特殊的线性表，它仅限于在表尾进行元素的添加与删除操作。栈的表尾称为栈顶，表头称为栈底。栈是采用“先进后出”的数据存储方式，若栈中没有任何元素，则称为空栈。在java中可以使用Stack类来封装栈，其定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Stack</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Vector</span>&lt;<span class="title">E</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​		可以发现，Stack是Vector的子类，自JDK1.5以后java并没有提供任何类来取代Stack 类，但对其重新设计为泛型。Stack类提供的方法如表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public boolean empty()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">判断该栈是否为空。若为空，则返回true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public E peek()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取栈顶元素，但不删除它</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public E pop()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取栈顶元素，并删除它</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public E push(E item)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将元素添加到栈顶中</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public int search(Object 0)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">查找指定元素在栈中位置，起始位置为1，不是0</td>
</tr>
</tbody>
</table>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Stack&lt;String&gt; stack=<span class="keyword">new</span> Stack&lt;String&gt;();</span><br><span class="line">        stack.push(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        stack.push(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        stack.push(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        stack.push(<span class="string">&quot;D&quot;</span>);</span><br><span class="line">        Iterator&lt;String&gt; it=stack.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(it.next()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;\n出栈&quot;</span>+stack.pop());</span><br><span class="line">        System.out.println(<span class="string">&quot;出栈&quot;</span>+stack.pop());</span><br><span class="line">        System.out.println(<span class="string">&quot;出栈&quot;</span>+stack.pop());</span><br><span class="line">        System.out.println(<span class="string">&quot;出栈&quot;</span>+stack.pop());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">A B C D</span><br><span class="line">出栈D</span><br><span class="line">出栈C</span><br><span class="line">出栈B</span><br><span class="line">出栈A</span><br></pre></td></tr></table></figure>
<p>​		从程序的运行结果可以发现，先入栈的元素，最后才出 来，满足了“先进后出，后进先出”的特性。</p>
<h3 id="哈希表hashtable类"><a class="markdownIt-Anchor" href="#哈希表hashtable类"></a> 哈希表：Hashtable类</h3>
<p>Hashtable类的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hashtable</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">Dictionary</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;, <span class="title">Cloneable</span>, <span class="title">Serializable</span> </span></span><br></pre></td></tr></table></figure>
<p>​		可以看出Hashtable类是Map的子类，它与Vector类型一样都是在JDK1.0时出现的，属于元老级别的操作类。Hashtable类是同步的、线程安全的，不允许存放null key和null value。其他的功能与HashMap类似。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Set; </span><br><span class="line"><span class="keyword">import</span> java.util.Iterator; </span><br><span class="line"><span class="keyword">import</span> java.util.Map; </span><br><span class="line"><span class="keyword">import</span> java.util.Hashtable; </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123; </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line"> 		Map&lt;String,String&gt; map=<span class="keyword">new</span> Hashtable&lt;String,String&gt;();  </span><br><span class="line"> 		map.put(<span class="string">&quot;THU&quot;</span>,<span class="string">&quot;清华大学&quot;</span>);</span><br><span class="line"> 		map.put(<span class="string">&quot;CUMT&quot;</span>,<span class="string">&quot;中国矿业大学&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;FU&quot;</span>,<span class="string">&quot;复旦大学&quot;</span>);</span><br><span class="line"> 		map.put(<span class="string">&quot;USTC&quot;</span>,<span class="string">&quot;中国科技大学&quot;</span>);</span><br><span class="line"> 		map.put(<span class="string">&quot;WHU&quot;</span>,<span class="string">&quot;武汉大学&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;PKU&quot;</span>,<span class="string">&quot;北京大学&quot;</span>); <span class="comment">//添加内容</span></span><br><span class="line"> 		Set&lt;Map.Entry&lt;String,String&gt;&gt; set=map.entrySet(); </span><br><span class="line">		Iterator&lt;Map.Entry&lt;String,String&gt;&gt; it = set.iterator(); </span><br><span class="line"> 		System.out.println(<span class="string">&quot;Key-----Value&quot;</span>); </span><br><span class="line"> 		<span class="keyword">while</span> (it.hasNext())</span><br><span class="line"> 		&#123; </span><br><span class="line"> 			Map.Entry&lt;String,String&gt; mapEntry =it.next(); </span><br><span class="line"> 			System.out.println(<span class="string">&quot; &quot;</span>+mapEntry.getKey()+<span class="string">&quot;----&quot;</span>+mapEntry.getValue()); </span><br><span class="line"> 		&#125; </span><br><span class="line"> 	&#125; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Key-----Value</span><br><span class="line"> CUMT----中国矿业大学</span><br><span class="line"> WHU----武汉大学</span><br><span class="line"> PKU----北京大学</span><br><span class="line"> USTC----中国科技大学</span><br><span class="line"> THU----清华大学</span><br><span class="line"> FU----复旦大学</span><br></pre></td></tr></table></figure>
<p>​		上面程序与前面学习的 HashMap 没有多大的区别。</p>
<h4 id="hashmap与hashtable的区别"><a class="markdownIt-Anchor" href="#hashmap与hashtable的区别"></a> HashMap与Hashtable的区别</h4>
<p>​		HashMap 和 Hashtable 都 Map 接口的实现类，而 HashMap 是 Hashtable 的轻量级实现（非线程安全的实现）。两者的主要区别有以下几点：</p>
<p>（1）出现的时间</p>
<p>​		Hashtable 在 JDK 1.0 时出现，属于旧的操作类，而 HashMap 是在 JDK 1.2 时退出的类， 属于较新的操作类。</p>
<p>（2）同步性</p>
<p>​		<strong>Hashtable 是线程安全的，也就是说是同步的，性能相对较低，而 HashMap 是线程不安全的，不是同步的，性能相对较高。</strong></p>
<p>（3）值</p>
<p>​		Hashtable 不允许存在 null value和 null key，而 HashMap 允许存在一个 null key和多个 null value。</p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/18/%E9%9B%86%E5%90%88%E5%B7%A5%E5%85%B7%E7%B1%BB%EF%BC%9ACollections/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/18/%E9%9B%86%E5%90%88%E5%B7%A5%E5%85%B7%E7%B1%BB%EF%BC%9ACollections/" class="post-title-link" itemprop="url">集合工具类：Collections</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-18 08:15:15" itemprop="dateCreated datePublished" datetime="2021-08-18T08:15:15+08:00">2021-08-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-26 17:50:37" itemprop="dateModified" datetime="2021-08-26T17:50:37+08:00">2021-08-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/18/%E9%9B%86%E5%90%88%E5%B7%A5%E5%85%B7%E7%B1%BB%EF%BC%9ACollections/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/18/%E9%9B%86%E5%90%88%E5%B7%A5%E5%85%B7%E7%B1%BB%EF%BC%9ACollections/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="collections类"><a class="markdownIt-Anchor" href="#collections类"></a> CollectionS类</h3>
<p>​		在java集合类中，有一个功能强大的工具类——java.util.Collections类。Collections类是用于操作List、Set和Map等集合的工具类，该类提供了大量的方法可以对集合元素进行排序、查询和修改等操作。其定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Collections</span> <span class="keyword">extends</span> <span class="title">Object</span></span></span><br></pre></td></tr></table></figure>
<p>​		Collections类可以对集合的元素进行排序、反序、去极值、循环移位、查询和修改等功能，还可以将集合对象设置不可变、对集合对象实现同步控制等方法。Collections类的常用方法如下表所示：</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public static List EMPTY_LIST</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">返回一个空的List集合</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public static Map EMPTY_MAP</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">返回一个空的 Map 集合</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public static Set EMPTY_SET</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">返回一个空的 Set 集合</td>
</tr>
<tr>
<td style="text-align:center"><strong>4</strong></td>
<td style="text-align:center"><strong>public static  boolean addAll(Collection&lt;? super T&gt; c,T…elements)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>将所有指定元素添加到指定集合中</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public static &lt;T&gt; int binarySearch(List&lt;? extends Comparable&lt;? super T&gt;&gt; list, T key)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>使用二分搜索法搜索列表，以获得指定元素的位置。若不存在该元素，则返 回-1</strong></td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public static &lt;T&gt; int binarySearch(List&lt;? extends T&gt; list, T key,Comparator&lt;? super T&gt; c)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">使用二分搜索法搜索列表，以获得指定元素的位置。若不存在该元素，则返 回-1</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public static &lt;T&gt; void copy(List&lt;? supper T&gt; dest, List&lt;? extends T&gt; src)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">将src集合中的所有元素复制到dest集合中</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public static boolean disjoint(Collection  c1, Collection c2)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">判断两个集合是否存在相同的元素。若不存在，则返回true，否则返会false</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public static &lt;T&gt; void fill(List&lt;? super T&gt; list,  T obj)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">使用指定元素替换指定集合中的所有元素</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public static&lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt;T max(Collection&lt;? extends T&gt; coll)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">根据元素的自然顺序，返回给指定集合的最大元素</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">public static&lt;T&gt; T max(Collection&lt;? extends T&gt; coll, Comparator&lt;? super T&gt; comp)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">根据指定比较器产生的顺序，返回指定集合的最大元素</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public static&lt;T extends Object &amp; Comparable&lt;? super T&gt;&gt;T min(Collection&lt;? extends T&gt; coll)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">根据元素的自然顺序，返回指定集合的最小元素</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">public static&lt;T&gt; T min(Collection&lt;? extends T&gt; coll, Comparator&lt;? super T&gt; comp)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">根据指定比较器产生的顺序，返回指定集合的最小元素</td>
</tr>
<tr>
<td style="text-align:center"><strong>14</strong></td>
<td style="text-align:center"><strong>public static&lt;T&gt;  boolean replaceAll(List &lt;T&gt; list, T oldVal, T newVal)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>使用另一个元素替换集合中指定的所有元素</strong></td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">public static void reverse(List&lt;?&gt; list)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">反序输出集合的所有元素</td>
</tr>
<tr>
<td style="text-align:center"><strong>16</strong></td>
<td style="text-align:center"><strong>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>根据自然顺序，对指定集合进行升序排序</strong></td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt; c)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">根据指定比较器产生的顺序，对指定集合进行升序排序</td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">public static void swap(List&lt;?&gt; list, int i, int j)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">在指定列表的指定位置处交换元素</td>
</tr>
<tr>
<td style="text-align:center">19</td>
<td style="text-align:center">public static &lt;T&gt; Collection &lt;T&gt; synchronizedCollection(Collection&lt;T&gt; c)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">将指定集合设置成支持的同步（线程安全的）集合。此方法有多种重载形式</td>
</tr>
</tbody>
</table>
<p>​		以上方法中出现了许多&lt;? extends T&gt;和&lt;? super T&gt;，就效果来说和直接&lt;T&gt;其实效果一样，若不是必要，可以暂时忽视这些。Collections类所提供的方法均为静态方法，可以直接通过“类名.方法()”的形式调用。下面通过范例演示Collections类的使用。</p>
<h4 id="添加元素并执行反序操作"><a class="markdownIt-Anchor" href="#添加元素并执行反序操作"></a> 添加元素并执行反序操作</h4>
<p>​		Collections类提供了addAll()方法可以一次添加多个元素，还提供了reverse()方法对集合中的元素进行反序操作。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        Collections.addAll(list,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>);		<span class="comment">//通过Collections添加元素</span></span><br><span class="line">        Iterator&lt;String&gt; it1=list.iterator();</span><br><span class="line">        System.out.println(<span class="string">&quot;输出集合中的元素：&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(it1.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(it1.next()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.reverse(list);</span><br><span class="line">        System.out.println(<span class="string">&quot;\n对集合进行反序输出：&quot;</span>);</span><br><span class="line">        Iterator&lt;String&gt; it2=list.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it2.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(it2.next()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">输出集合中的元素：</span><br><span class="line">A B <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br><span class="line">对集合进行反序输出：</span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">1</span> B A</span><br></pre></td></tr></table></figure>
<h4 id="对集合中的元素进行查找和替换"><a class="markdownIt-Anchor" href="#对集合中的元素进行查找和替换"></a> 对集合中的元素进行查找和替换</h4>
<p>​		可以直接使用Collections类的 binarySearch()方法， 查找集合中是否存在某个元素，若存在则返回该元素的索引位置，否则返回-1 。需要注意的是，<strong>在使用binarySearch()方法前需要对集合中的元素进行排序</strong>，可以直接使用Collections类的sort()方法。除此之外，还可以使用replaceAll()方法替换集合中所有的指定元素。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;M&quot;</span>);</span><br><span class="line">        Collections.addAll(list,<span class="string">&quot;A&quot;</span>,<span class="string">&quot;A&quot;</span>,<span class="string">&quot;D&quot;</span>,<span class="string">&quot;Z&quot;</span>,<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        Iterator&lt;String&gt; it=list.iterator();</span><br><span class="line">        System.out.println(<span class="string">&quot;排序前：&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(it.next()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.sort(list);			<span class="comment">//通过Collections进行排序</span></span><br><span class="line">        System.out.println(<span class="string">&quot;\n排序后：&quot;</span>);</span><br><span class="line">        it=list.iterator();					<span class="comment">//重新获取list中的集合</span></span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(it.next()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;\n集合中是否存在元素M：&quot;</span>+Collections.binarySearch(list,<span class="string">&quot;M&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;集合中是否存在元素M：&quot;</span>+Collections.binarySearch(list,<span class="string">&quot;U&quot;</span>));</span><br><span class="line">        Collections.replaceAll(list,<span class="string">&quot;A&quot;</span>,<span class="string">&quot;1&quot;</span>);		<span class="comment">//使用&quot;1&quot;替换集合中所有的&quot;A&quot;</span></span><br><span class="line">        it=list.iterator();					<span class="comment">//重新获取list中的集合</span></span><br><span class="line">        System.out.println(<span class="string">&quot;替换后：&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(it.next()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">排序前：</span><br><span class="line">A M A A D Z C</span><br><span class="line">排序后：</span><br><span class="line">A A A C D M Z</span><br><span class="line">集合中是否存在元素M：<span class="number">5</span></span><br><span class="line">集合中是否存在元素M：-<span class="number">7</span></span><br><span class="line">替换后：</span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> C D M Z</span><br></pre></td></tr></table></figure>
<p>​		从程序结果可以发现，查找失败的返回值并不是-1，这并不是程序出错，查找binarySearch的源代码可以发现，当查找失败时，返回语句是return -(low + 1)。其中，low是元素应插入的位置，-(low+1)是为了避免返回-0的情况，由此可见查询不到时不一定返回-1。再一次强调，在使用 binarySearch()前一定要先对集合进行排序，即先执行sort()方法，<strong>否则编译器虽不会报错，但查找的结果是错误的</strong>。</p>
<p>参考链接：</p>
<p><a target="_blank" rel="noopener" href="https://zhidao.baidu.com/question/646868566975781205.html">Java泛型和_百度知道 (baidu.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41463193/article/details/88653065">【Java入坑之路】关于Collections.binarySearch查找结果不符合预期的探究_Hertter的博客-CSDN博客_collections.binarysearch</a></p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/17/Map%E6%8E%A5%E5%8F%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/17/Map%E6%8E%A5%E5%8F%A3/" class="post-title-link" itemprop="url">Map接口</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-17 09:05:54" itemprop="dateCreated datePublished" datetime="2021-08-17T09:05:54+08:00">2021-08-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-09-13 15:36:22" itemprop="dateModified" datetime="2021-09-13T15:36:22+08:00">2021-09-13</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/17/Map%E6%8E%A5%E5%8F%A3/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/17/Map%E6%8E%A5%E5%8F%A3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		<strong>Map接口并没有继承Collection接口，可用于保存具有映射关系的数据，其提供的是key到value的映射</strong>。因此，Map集合中保存这两组值，一组用于保存key，另一组用于保存value，key和value都可以是任何引用数据类型。Map集合中的key不允许重复，每一个key只能映射一个value。</p>
<h3 id="map映射接口"><a class="markdownIt-Anchor" href="#map映射接口"></a> Map映射接口</h3>
<p>Map接口定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​		可以发现Map没有继承Collection接口，其提供的是key到value的映射。与Collection接口属于单值集合不同的是，<strong>Map的元素属于二元偶对象。Map集合不允许存在相同的key，每一个key只能映射一个value</strong>。key还决定了存储对象在映射中的存储位置，但这不是由key本身决定的，而是散列技术进行处理的。Map接口定义了许多方法，这些方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public void clear()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">删除此Map集合中所有的key-value</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public boolean containsKey(Object key)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">判断指定的key是否存在。若存在，则返回true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public boolean containsValue(Object value)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">判断指定的value是否存在，若存在，则翻译true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center"><strong>4</strong></td>
<td style="text-align:center"><strong>public Set&lt;Map Entry&lt;K,V&gt; entrySet()</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>将此Map对象转换为Set集合</strong></td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public boolean equals(Object o)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">比较指定的对象o与此Map对象是否相等。若相等，则返回true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center"><strong>6</strong></td>
<td style="text-align:center"><strong>public V get(Object key)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>返回指定key所映射的value值。如果此key不包含映射关系，则返回null</strong></td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public int hashCode()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">返回此Map集合的哈希码值</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public boolean isEmpty()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">判断此Map集合是否为空。若为空，则返回true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center"><strong>9</strong></td>
<td style="text-align:center"><strong>public Set&lt;K&gt; keySet()</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>返回此Map集合中所有的key值</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>10</strong></td>
<td style="text-align:center"><strong>public V put(K key,V value)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>向此Map集合添加新的元素</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>11</strong></td>
<td style="text-align:center"><strong>public void putAll(Map&lt;? extends K,? extends V&gt; m)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>将指定的Map集合中的所有内容添加到此Map集合中</strong></td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public V remove(Object key)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">根据key值删除相对应的value值</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">public int size()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">获取此Map集合的元素个数</td>
</tr>
<tr>
<td style="text-align:center"><strong>14</strong></td>
<td style="text-align:center"><strong>public Collection&lt;V&gt; values()</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>获取此Map集合中所有的value值</strong></td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">public default V getOrDefault(Object key,V defaultValue)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">当Map集合中存在指定的key时，就使用这个key对应的value对象，否则将使用指定的value值</td>
</tr>
</tbody>
</table>
<p>​		可以发现，Map的许多方法都含有Set关键字，不仅如此，Map里key集和Set集合里元素的存储形式也很像，Map子类和Set子类在名字上也惊人地相似，其实这并不是偶然。</p>
<blockquote>
<p>​		Set与Map之间的关系非常密切。虽然Map中放的元素是key-value对，Set集合中放的元素是单个对象，但如果把key-value对看做一体的，这样就可以像对待Set一样来对待Map了。事实上，Map提供了一个Entry内部接口来封装key-value对，而计算Entry存储时则只考虑Entry封装的key。从java源码来看，java是先实现了Map，然后通过包装一个所有value都为null的Map来实现Set集合。</p>
</blockquote>
<h3 id="mapentry接口"><a class="markdownIt-Anchor" href="#mapentry接口"></a> Map.Entry接口</h3>
<p>Map.Entry接口的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">interface</span> <span class="title">Map</span>.<span class="title">Entry</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​		可以发现Map.Entry接口是静态的，所以可直接使用&quot;外部类.内部类&quot;的形式调用。Map.Entry封装了一个key-value。Map.Entry接口的方法如下表。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public boolean equals(Object o)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">比较指定对象与此Entry是否相等</td>
</tr>
<tr>
<td style="text-align:center"><strong>2</strong></td>
<td style="text-align:center"><strong>public K getKey()</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>获取此Entry中包含的key值</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>3</strong></td>
<td style="text-align:center"><strong>public K getValue()</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>获取此Entry中包含的value值</strong></td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public int hashCode()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">返回此Entry的哈希码值</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public V setValue(V value)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">设置此Entry的value的值</td>
</tr>
</tbody>
</table>
<h3 id="哈希映射类hashmap类"><a class="markdownIt-Anchor" href="#哈希映射类hashmap类"></a> 哈希映射类：HashMap类</h3>
<p>​		HashMap类是Map接口的一个实现类，HashMap类的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HashMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">Map</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;,<span class="title">Cloneable</span>,<span class="title">Seriablizable</span></span></span><br></pre></td></tr></table></figure>
<p>​		HashMap类是实现的Map集合，对于元素的添加和删除有着较高的效率，因为HashMap类是基于哈希表的Map接口的实现。HashMap类提供所有可选的映射操作，并允许使用null value和null key，但必须保证key是唯一的。</p>
<p>​		HashMap是非同步的，也不保证映射顺序，它不能保证随着时间的推移保持不变。下面通过几个范例来认识HashMap实例的操作。</p>
<h4 id="添加并获取-map-集合的内容"><a class="markdownIt-Anchor" href="#添加并获取-map-集合的内容"></a> 添加并获取 Map 集合的内容</h4>
<p>​		Map接口提供了put(K key,V value)，可以向Map集合中添加key-value，之后还可以通过get(Object key)获取key对应的value值。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Map&lt;Integer,String&gt; map=<span class="keyword">new</span> HashMap&lt;Integer,String&gt;();</span><br><span class="line">        map.put(<span class="number">1</span>,<span class="string">&quot;清华大学&quot;</span>);		<span class="comment">//向Map集合添加内容</span></span><br><span class="line">        map.put(<span class="number">2</span>,<span class="string">&quot;北京大学&quot;</span>);</span><br><span class="line">        map.put(<span class="number">3</span>,<span class="string">&quot;复旦大学&quot;</span>);</span><br><span class="line">        map.put(<span class="number">4</span>,<span class="string">&quot;中山大学&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;获取内容：&quot;</span>+map.get(<span class="number">4</span>));	<span class="comment">//获取内容</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">获取内容：中山大学</span><br></pre></td></tr></table></figure>
<p>​		因为Map结合中，key与value是一一对应的，所以可以通过指定key获取其对应的value值。</p>
<h4 id="获取map集合中全部的key和value"><a class="markdownIt-Anchor" href="#获取map集合中全部的key和value"></a> 获取Map集合中全部的key和value</h4>
<p>​		Map接口中提供了keySet()和values()，可以分别获取Map集合中全部的key和value。不同的是，<strong>keySet()可以将Map集合中的所有值转换为Set集合</strong>，再使用Iterator输出，而<strong>values()返回的是Collection集合</strong>，同样可以是使用Iterator输出。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Map&lt;Integer,String&gt; map=<span class="keyword">new</span> HashMap&lt;Integer,String&gt;();</span><br><span class="line">        map.put(<span class="number">1</span>,<span class="string">&quot;清华大学&quot;</span>);		<span class="comment">//向Map集合添加内容</span></span><br><span class="line">        map.put(<span class="number">2</span>,<span class="string">&quot;北京大学&quot;</span>);</span><br><span class="line">        map.put(<span class="number">3</span>,<span class="string">&quot;复旦大学&quot;</span>);</span><br><span class="line">        map.put(<span class="number">4</span>,<span class="string">&quot;中山大学&quot;</span>);</span><br><span class="line">        Set&lt;Integer&gt; set=map.keySet();</span><br><span class="line">        Iterator&lt;Integer&gt; itKey=set.iterator();</span><br><span class="line">        System.out.println(<span class="string">&quot;Map集合中全部的key：&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(itKey.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(itKey.next()+<span class="string">&quot; &quot;</span>);		<span class="comment">//输出Map集合中的key</span></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        Collection&lt;String&gt; c=map.values();</span><br><span class="line">        Iterator&lt;String&gt; itValue=c.iterator();</span><br><span class="line">        System.out.println(<span class="string">&quot;Map集合中全部的value：&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(itValue.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(itValue.next()+<span class="string">&quot; &quot;</span>);		<span class="comment">//输出Map集合中的value</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Map集合中全部的key：</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span></span><br><span class="line">Map集合中全部的value：</span><br><span class="line">清华大学 北京大学 复旦大学 中山大学</span><br></pre></td></tr></table></figure>
<p>​		将Map集合转换为Collection集合时，需要保存泛型类型的一致。</p>
<h4 id="使用iterator输出map集合"><a class="markdownIt-Anchor" href="#使用iterator输出map集合"></a> 使用iterator输出Map集合</h4>
<p>​		Map集合与Collection集合不同，其本身不能使用Iterator进行输出。因为Map集合使用的是二元偶对象，而Iterator一次只能输出一个值。若想Map集合使用Iterator迭代器输出，则需要进行一些处理。首先，Map实例通过entrySet()方法转换为Set集合，再由Set集合实例化Iterator，这时<strong>Iterator迭代器可以输出Map.Entry对象</strong>，最后通过Map.Entry的getKey()和方法分离Map集合的key-value。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Map&lt;Integer,String&gt; map=<span class="keyword">new</span> HashMap&lt;Integer,String&gt;();</span><br><span class="line">        map.put(<span class="number">1</span>,<span class="string">&quot;清华大学&quot;</span>);		<span class="comment">//向Map集合添加内容</span></span><br><span class="line">        map.put(<span class="number">2</span>,<span class="string">&quot;北京大学&quot;</span>);</span><br><span class="line">        map.put(<span class="number">3</span>,<span class="string">&quot;复旦大学&quot;</span>);</span><br><span class="line">        map.put(<span class="number">4</span>,<span class="string">&quot;中山大学&quot;</span>);</span><br><span class="line">        Set&lt;Map.Entry&lt;Integer,String&gt;&gt; set=map.entrySet();</span><br><span class="line">        Iterator&lt;Map.Entry&lt;Integer,String&gt;&gt; it=set.iterator();</span><br><span class="line">        System.out.println(<span class="string">&quot;Key-----Value&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">           	Map.Entry&lt;Integer,String&gt; mapEntry=it.next();</span><br><span class="line">            System.out.println(mapEntry.getKey()+<span class="string">&quot;------&quot;</span>+mapEntry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Key-----Value</span><br><span class="line"><span class="number">1</span>------清华大学</span><br><span class="line"><span class="number">2</span>------北京大学</span><br><span class="line"><span class="number">3</span>------复旦大学</span><br><span class="line"><span class="number">4</span>------中山大学</span><br></pre></td></tr></table></figure>
<p>​		Map集合除了使用Iterator迭代器输出还可以使用foreach方式输出。范例如下：</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Map&lt;Integer,String&gt; map=<span class="keyword">new</span> HashMap&lt;Integer,String&gt;();</span><br><span class="line">        map.put(<span class="number">1</span>,<span class="string">&quot;清华大学&quot;</span>);		<span class="comment">//向Map集合添加内容</span></span><br><span class="line">        map.put(<span class="number">2</span>,<span class="string">&quot;北京大学&quot;</span>);</span><br><span class="line">        map.put(<span class="number">3</span>,<span class="string">&quot;复旦大学&quot;</span>);</span><br><span class="line">        map.put(<span class="number">4</span>,<span class="string">&quot;中山大学&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Key-----Value&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;Integer,String&gt; mapEntry:map.entrySet())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(mapEntry.getKey()+<span class="string">&quot;------&quot;</span>+mapEntry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Key-----Value</span><br><span class="line"><span class="number">1</span>------清华大学</span><br><span class="line"><span class="number">2</span>------北京大学</span><br><span class="line"><span class="number">3</span>------复旦大学</span><br><span class="line"><span class="number">4</span>------中山大学</span><br></pre></td></tr></table></figure>
<p>​		使用foreach方式输出Map集合，可以不需要通过Set集合，只需将集合中的每一个元素用Map.Entry类型的对象接收，再使用getKey()和getValue()分离Map集合的key-value。 虽然使用 foreach显得较为简便，但还是建议使用前面的 Iterator 迭代器输出。</p>
<h3 id="有序树映射类treemap类"><a class="markdownIt-Anchor" href="#有序树映射类treemap类"></a> 有序树映射类：TreeMap类</h3>
<p>​		TreeMap类的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeMap</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractMao</span>&lt;<span class="title">K</span>,<span class="title">V</span>&gt;,<span class="title">Cloneable</span>,<span class="title">Serializable</span></span></span><br></pre></td></tr></table></figure>
<p>​		TreeMap 类不但实现了Map接口，还实现了SortedMap接口。因此，TreeMap集合中 的映射关系具有一定的顺序性。与HashMap相比，TreeMap集合对元素的添加、删除和定位映射性能较低。</p>
<p>​		TreeMap集合主要是对所有的key进行排序，从而保证所有的key-value映射关系处于有序状态，其默认的排序方式是升序排序（自然排序），但可以在创建TreeMap时，传入Comparator对象，负责对TreeMap所有的key进行排序。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Map&lt;String,String&gt; hashMap=<span class="keyword">new</span> HashMap&lt;String,String&gt;();</span><br><span class="line">        hashMap.put(<span class="string">&quot;THU&quot;</span>,<span class="string">&quot;清华大学&quot;</span>); </span><br><span class="line">        hashMap.put(<span class="string">&quot;FU&quot;</span>,<span class="string">&quot;复旦大学&quot;</span>); </span><br><span class="line">        hashMap.put(<span class="string">&quot;USTC&quot;</span>,<span class="string">&quot;中国科技大学&quot;</span>);</span><br><span class="line">        hashMap.put(<span class="string">&quot;PKU&quot;</span>,<span class="string">&quot;北京大学&quot;</span>);</span><br><span class="line">        Set&lt;Map.Entry&lt;String,String&gt;&gt; hashSet=hashMap.entrySet();</span><br><span class="line">        Iterator&lt;Map.Entry&lt;String,String&gt;&gt; hashIt=hashSet.iterator();</span><br><span class="line">        System.out.println(<span class="string">&quot;使用HashMap输出：&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(hashIt.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            Map.Entry&lt;String,String&gt; hashEntry=hashIt.next();</span><br><span class="line">            System.out.println(hashEntry.getKey()+<span class="string">&quot;------&quot;</span>+hashEntry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;String,String&gt; treeMap=<span class="keyword">new</span> TreeMap&lt;String,String&gt;();</span><br><span class="line">        treeMap.putAll(hashMap);		<span class="comment">//向TreeMap集合中添加HashMap集合</span></span><br><span class="line">        Set&lt;Map.Entry&lt;String,String&gt;&gt; treeSet=treeMap.entrySet();</span><br><span class="line">        Iterator&lt;Map.Entry&lt;String,String&gt;&gt; treeIt=treeSet.iterator();</span><br><span class="line">        System.out.println(<span class="string">&quot;使用TreeMap输出：&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span>(treeIt.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            Map.Entry&lt;String,String&gt; treeEntry=treeIt.next();</span><br><span class="line">            System.out.println(treeEntry.getKey()+<span class="string">&quot;------&quot;</span>+treeEntry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">使用HashMap输出：</span><br><span class="line">THU------清华大学</span><br><span class="line">USTC------中国科技大学</span><br><span class="line">PKU------北京大学</span><br><span class="line">FU------复旦大学</span><br><span class="line">使用TreeMap输出：</span><br><span class="line">FU------复旦大学</span><br><span class="line">PKU------北京大学</span><br><span class="line">THU------清华大学</span><br><span class="line">USTC------中国科技大学</span><br></pre></td></tr></table></figure>
<p>​		从程序运行结果可以发现，HashMap输出的元素是无序的，TreeMap输出的元素是有序的。TreeMap集合中的数据排序是根据key值排序的。</p>
<blockquote>
<p>提示：因为 String 类已经实现了 Comparable 接口，所以程序可以运行；若使用的是自 定义的类，则需要实现 Comparable 接口，否则将会出现类转换异常。</p>
</blockquote>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://item.jd.com/41548443413.html">《疯狂Java讲义(第3版)(含光盘)》【摘要 书评 试读】- 京东图书 (jd.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/16/%E9%9B%86%E5%90%88%E7%9A%84%E9%81%8D%E5%8E%86%E8%BE%93%E5%87%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/16/%E9%9B%86%E5%90%88%E7%9A%84%E9%81%8D%E5%8E%86%E8%BE%93%E5%87%BA/" class="post-title-link" itemprop="url">集合的遍历输出</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-16 20:59:32" itemprop="dateCreated datePublished" datetime="2021-08-16T20:59:32+08:00">2021-08-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-26 13:04:07" itemprop="dateModified" datetime="2021-08-26T13:04:07+08:00">2021-08-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/16/%E9%9B%86%E5%90%88%E7%9A%84%E9%81%8D%E5%8E%86%E8%BE%93%E5%87%BA/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/16/%E9%9B%86%E5%90%88%E7%9A%84%E9%81%8D%E5%8E%86%E8%BE%93%E5%87%BA/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		虽然各个集合类都有各样的输出，如Collection集合可以将元素转换为数组后输出，List 集合还可以是get()方法输出，但这些都不是集合的标 准输出。在 java中，主要提供了以下两个输出方式。</p>
<ul>
<li>Iterator：迭代器输出，也是最常使用的。</li>
<li>foreach：这是JDK1.5以后新增的输出</li>
</ul>
<h3 id="迭代输出iterator接口"><a class="markdownIt-Anchor" href="#迭代输出iterator接口"></a> 迭代输出：Iterator接口</h3>
<p>​		Iterator接口是一个提供遍历各种集合类型的迭代器。有的集合类没有提供get()方法，可以用迭代器来获取集合的元素信息。所有的Collection接口的子接口、子类都支持Iterator迭代器，Iterator接口提供了如下方法。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public boolean hasNext()</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>判断集合中是否还存在下一个元素。若存在，则返回true，否则返回false</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>2</strong></td>
<td style="text-align:center"><strong>public E next()</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>返回集合中的下一个元素，E代表元素的数据类型</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>3</strong></td>
<td style="text-align:center"><strong>public void remove()</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>将集合中上一个由next()方法返回的元素删除</strong></td>
</tr>
</tbody>
</table>
<p>​		下面通过几个范例来讲解Iterator方法的应用。</p>
<h4 id="输出集合中的所有元素"><a class="markdownIt-Anchor" href="#输出集合中的所有元素"></a> 输出集合中的所有元素</h4>
<p>​		Collection子类都提供iterator()为Iterator实例化，所以直接调用该方法就可以使用Iterator接口输出。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        LinkedList&lt;String&gt; link=<span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        link.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        Iterator&lt;String&gt; it=link.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(it.next()+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> A B C</span><br></pre></td></tr></table></figure>
<p>​		以上程序输出集合是一种标准的输出方式，以后遇到集合就可以使用Iterator方式输出。</p>
<h4 id="删除集合中的部分元素"><a class="markdownIt-Anchor" href="#删除集合中的部分元素"></a> 删除集合中的部分元素</h4>
<p>​		使用Iterator接口还可以删除集合中的元素，可以选择全部元素，也可以选择部分删除，直接调用remove()方法。</p>
<p>代码示例：(删除指定元素)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        LinkedList&lt;String&gt; link=<span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        link.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        Iterator&lt;String&gt; it=link.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            String strIt=it.next();		<span class="comment">//取得元素</span></span><br><span class="line">            <span class="keyword">if</span>(strIt.equals(<span class="string">&quot;3&quot;</span>)||strIt.equals(<span class="string">&quot;B&quot;</span>))	<span class="comment">//判断是否为指定元素</span></span><br><span class="line">            &#123;</span><br><span class="line">                it.remove();</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">            	&#123;</span><br><span class="line">                	System.out.print(strIt+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            	&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">2</span> A C</span><br></pre></td></tr></table></figure>
<p>​		从程序的运行结果可以发现。集合已经删除了元素“3”和“B&quot;。以上程序只是部分删除元素，若想将集合中的元素都删除，可以使用集合类的removeAll()方法或修改为如下范例。</p>
<p>代码示例：(删除所有元素)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        LinkedList&lt;String&gt; link=<span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        link.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;元素数目：&quot;</span>+link.size());</span><br><span class="line">        Iterator&lt;String&gt; it=link.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())</span><br><span class="line">        &#123;</span><br><span class="line">            it.next();</span><br><span class="line">            it.remove();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;元素数目：&quot;</span>+link.size());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">元素数目：6</span><br><span class="line">元素数目：0</span><br></pre></td></tr></table></figure>
<p>​		从程序运行结果可以发现，集合中的元素个数变为0，说明所有的元素已被删除。需要注意的是，在调用remove()飞前需要使用next()方法指定要删除的元素，否则运行时将尝试llegalStateException异常。</p>
<h3 id="foreach遍历"><a class="markdownIt-Anchor" href="#foreach遍历"></a> foreach遍历</h3>
<p>​		在JDK1.5以后，可以使用更加简便的方式输出集合中的元素。那就是前面使用过的foreach循环，其语法格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(类型 临时遍历:集合)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//循环体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码示例：(输出集合中的所有元素)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        LinkedList&lt;String&gt; link=<span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        link.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(String str:link)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(str+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> A B C</span><br></pre></td></tr></table></figure>
<p>​		可以看出使用foreach可以简便地输出集合中的所有元素，foreach循环虽然书写起来很简洁，但在使用时也存在一定的局限性。当使用foreach循环遍历集合和数组时，只能访问集合中的元素，不能对其中的元素进行修改，所以建议在程序设计中使用Iterator输出集合的元素</p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://item.jd.com/36427083594.html">《Java基础入门 第2版 黑马程序员 经典Java入门教材书籍》【摘要 书评 试读】- 京东图书 (jd.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/16/Set%E6%8E%A5%E5%8F%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/16/Set%E6%8E%A5%E5%8F%A3/" class="post-title-link" itemprop="url">Set接口</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-16 08:21:54" itemprop="dateCreated datePublished" datetime="2021-08-16T08:21:54+08:00">2021-08-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-26 10:02:50" itemprop="dateModified" datetime="2021-08-26T10:02:50+08:00">2021-08-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/16/Set%E6%8E%A5%E5%8F%A3/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/16/Set%E6%8E%A5%E5%8F%A3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		Set是一个不包含重复元素的Collection，Set运行包含null元素，但同一个Set集合只允许含有一个null元素，也就是说Set集合不能包含重复的元素。本文将介绍Set接口与它的两个实现类HashSet和TreeSet。</p>
<h3 id="认识set接口"><a class="markdownIt-Anchor" href="#认识set接口"></a> 认识Set接口</h3>
<p>​		set集合中的对象不按特定的方式排序，只是简单地把对象加入集合中。但Set集合中不允许包含重复的元素。Set构造方法有一个约束条件，传入Collection参数不能包含有相同的元素。所以在操作时，必须小心可变对象，若Set集合中的可变元素改变了自身状态，则会出现一些问题。</p>
<p>Set接口的定义：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Set</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Collection</span>&lt;<span class="title">E</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​		可以看出Set接口与List接口没有多大的区别，而Set接口也没有对Collection接口进行扩充。但Set接口比Collection接口有更严格的约束条件——不允许重复的元素，Set接口的实例也不能像List接口的实例一样拥有双向输出，也没有get(int index)方法。</p>
<p>​		Set接口的常用实现类有HashSet和TreeSet类。HashSet类可以快速定位一个元素，但是放到<strong>HashSet集合中的元素需要重写equals()和hashCode()方法</strong>。<strong>而TreeSet集合将放进其中的元素按序存放。</strong></p>
<h3 id="散列集hashset类"><a class="markdownIt-Anchor" href="#散列集hashset类"></a> 散列集：HashSet类</h3>
<p>​		HashSet类是按照哈希算法来存取集合中的元素的，使用哈希算法可以提高存取的效率。当向HashSet集合中添加元素时，就会调用该元素的hashCode()方法，获取其哈希码值，然后根据这个哈希码值计算出该元素的存放位置。HashSet集合具有以下特点：</p>
<ul>
<li>不能保证元素的排列顺序，集合中元素的顺序随时有可能发生改变。</li>
<li>集合中最多运行存在一个null元素。</li>
<li>HashSet集合不是线程同步的。</li>
</ul>
<p>代码示例：(不重写equals()和hashCode())</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name,<span class="keyword">int</span> age)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="string">&quot;姓名：&quot;</span>+name+<span class="string">&quot;，年龄：&quot;</span>+age+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Set&lt;Person&gt; set=<span class="keyword">new</span> HashSet&lt;Person&gt;();</span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">19</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        System.out.println(set);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[姓名：小强，年龄：<span class="number">18</span></span><br><span class="line">, 姓名：小强，年龄：<span class="number">20</span></span><br><span class="line">, 姓名：小强，年龄：<span class="number">20</span></span><br><span class="line">, 姓名：小强，年龄：<span class="number">18</span></span><br><span class="line">, 姓名：小强，年龄：<span class="number">19</span></span><br><span class="line">, 姓名：小强，年龄：<span class="number">18</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>​		从程序结果可以发现，HashSet 集合存在着3个new Person(“小强”,18)，这 与前面讲的Set 集合不允许存在两个相同的元素相违背。之所以出现这样的情况，是因为这3个new Person(“小强”,18)时<strong>不在同一个内存地址的对象</strong>。使用Person类中默认的equals()比较的结果是false，所以HashSet集合认为它们是不同的元素。</p>
<p>代码示例：(重写equals()和hashCode())</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name,<span class="keyword">int</span> age)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object o)</span>		<span class="comment">//重写equals()方法</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>==o)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>==<span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(!(o <span class="keyword">instanceof</span> Person))		<span class="comment">//判断指定对象是否为Person实例</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        Person per=(Person)o;			<span class="comment">//将指定对象转换为Person实例</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.name.equals(per.name)&amp;&amp;<span class="keyword">this</span>.age==per.age)		<span class="comment">//比较对象属性</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">        	&#123;</span><br><span class="line">            	<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span>				<span class="comment">//重写hashCode()方法</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="keyword">int</span> prime=<span class="number">13</span>;</span><br><span class="line">        <span class="keyword">int</span> result=<span class="number">13</span>;</span><br><span class="line">        result=prime*result+((name==<span class="keyword">null</span>)?<span class="number">0</span>:name.hashCode());</span><br><span class="line">        result=prime*result+age;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="string">&quot;姓名：&quot;</span>+name+<span class="string">&quot;，年龄：&quot;</span>+age+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Set&lt;Person&gt; set=<span class="keyword">new</span> HashSet&lt;Person&gt;();</span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">19</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        System.out.println(set);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[姓名：小强，年龄：<span class="number">19</span></span><br><span class="line">, 姓名：小强，年龄：<span class="number">18</span></span><br><span class="line">, 姓名：小强，年龄：<span class="number">20</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>​		从上面的运行结果可以发现，集合中重复的元素已经没有了，说明重写equals()和hashCode()方法后可以可以传入重复元素，但重复元素不能进入集合，还有就是输出的顺序与添加顺序是无关的。</p>
<h3 id="树集treeset类"><a class="markdownIt-Anchor" href="#树集treeset类"></a> 树集：TreeSet类</h3>
<p>TreeSet类的定义格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSet</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractSet</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">E</span>&gt;,<span class="title">Collection</span>&lt;<span class="title">E</span>&gt;,<span class="title">NavigableSet</span>&lt;<span class="title">E</span>&gt;,<span class="title">Set</span>&lt;<span class="title">E</span>&gt;,<span class="title">SortedSet</span>&lt;<span class="title">E</span>&gt;,<span class="title">Cloneable</span>,<span class="title">Serializable</span></span></span><br></pre></td></tr></table></figure>
<p>​		TreeSet类实现了java.util包中的Set接口和SortSet接口。TreeSet集合中的元素在默认情况下是升序排序(自然排序)。若想自定义自己的排序方式，可以使用TreeSet类的构造方法TreeSet(Comparator comparator)。TreeSet类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public TreeSet()</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">构造一个新的TreeSet实例，该集合的元素自然排序</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public TreeSet(Comparator&lt;? super E&gt; comparator)</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">构造一个新的TreeSet实例，并根据指定的comparator进行排序</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public E ceiling(E e)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取此集合中大于或等于给定元素的最小元素，若不存在，则返回null</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public Comparator&lt;? super E&gt; comparator()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此集合使用的比较器，若此集合的元素升序排序，则返回null</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public terator&lt;E&gt; descendingIterator()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此集合的 Iterator 实例，并按降序进行 遍历输出所有元素</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public E first()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此集合中当前第一个(最小的)元素</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public E floor(E e)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此集合中小于等于给定元素的最大值，若不存在，则返回null</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public SortedSet&lt;E&gt; headSet(E toElement)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此集合中比toElement小的所有元素集合</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public boolean isEmpty()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">判断此集合是否为空，若为空，则返回true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public Iterator&lt;E&gt; iterator()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此集合中的Iterator实例</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">public E last()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此集合中当前的最后一个（最高）元素</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public E lower(E e)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此集合中小于给定元素的最大元素，若不存在，则返回null</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">public E pollFirst()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取并删除第一个(最小的)元素，如果集合为空，则返回null</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">public E pollLast()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取并删除最后一个(最大的)元素，如果集合为空，则返回null</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">public SotredSet&lt;E&gt; subSet(E fromElement,E toElement)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回一个新的集合，该新的集合包含原有集合从 fromElement(包括)到toElement(不包括)的元素</td>
</tr>
<tr>
<td style="text-align:center">16</td>
<td style="text-align:center">public SortedSet&lt;E&gt; tailSet(E fromElement)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回一个新的集合，该新的集合包含原有结合从fromElement(包括)之后的所有元素</td>
</tr>
<tr>
<td style="text-align:center"><strong>17</strong></td>
<td style="text-align:center"><strong>public boolean add(E e)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>若元素 e 不在集合中，则将其添加进去</strong></td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">public void clear()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">清除此集合中的所有元素</td>
</tr>
<tr>
<td style="text-align:center">19</td>
<td style="text-align:center">public boolean addAll(Collection c)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将指定集合 c 中的所有元素添加到此集合 中</td>
</tr>
<tr>
<td style="text-align:center">20</td>
<td style="text-align:center">public boolean contains(Object o)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">判断此集合是否包含指定的元素。若包含， 则返回 true，否则返回 false</td>
</tr>
<tr>
<td style="text-align:center">21</td>
<td style="text-align:center">public boolean remove(Object o)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">若指定的元素存在集合中，就将其删除</td>
</tr>
<tr>
<td style="text-align:center">22</td>
<td style="text-align:center">public int size()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此集合中的元素数（set 的容量）</td>
</tr>
</tbody>
</table>
<p>​		更多其他方法可以前往API帮助文档查阅。下面通过几个范例来认识TreeSet集合的操作。</p>
<h4 id="treeset集合的默认排序"><a class="markdownIt-Anchor" href="#treeset集合的默认排序"></a> TreeSet集合的默认排序</h4>
<p>代码示例：(验证TreeSet集合的默认排序)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Set&lt;Integer&gt; ts=<span class="keyword">new</span> TreeSet&lt;Integer&gt;();</span><br><span class="line">        ts.add(<span class="number">1</span>);</span><br><span class="line">        ts.add(<span class="number">3</span>);</span><br><span class="line">        ts.add(<span class="number">5</span>);</span><br><span class="line">        ts.add(<span class="number">2</span>);</span><br><span class="line">        ts.add(<span class="number">6</span>);</span><br><span class="line">        ts.add(<span class="number">9</span>);</span><br><span class="line">        ts.add(<span class="number">1</span>);</span><br><span class="line">        System.out.println(ts);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure>
<p>​		从程序的运行结果可以发现，<strong>TreeSet集合不允许添加重复元素</strong>，而且向TreeSet集合添加元素的顺序都是无序的，但输出的顺序是有序的，默认排序为升序排序。</p>
<h4 id="自定义的类排序"><a class="markdownIt-Anchor" href="#自定义的类排序"></a> 自定义的类排序</h4>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name,<span class="keyword">int</span> age)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="string">&quot;姓名：&quot;</span>+name+<span class="string">&quot;，年龄：&quot;</span>+age+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Set&lt;Person&gt; ts=<span class="keyword">new</span> TreeSet&lt;Person&gt;();</span><br><span class="line">        ts.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">19</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        System.out.println(ts);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.ClassCastException: Person cannot be cast to java.lang.Comparable</span><br><span class="line">        at java.util.TreeMap.compare(Unknown Source)</span><br><span class="line">        at java.util.TreeMap.put(Unknown Source)</span><br><span class="line">        at java.util.TreeSet.add(Unknown Source)</span><br><span class="line">        at Test.main(Test.java:<span class="number">23</span>)</span><br></pre></td></tr></table></figure>
<p>​		以上程序运行时，产生了ClassCastException(类转换异常)异常，这是因为TreeSet集合只能对实现了Comparable接口的类的对象进行排序。若想自定义的类创建多个对象可以添加到TreeSet集合中，就需要让该自定义类实现Comparable接口。<strong>若没有实现Comparable接口的类，只能向TreeSet集合添加一个对象。若添加更多的对象，将产生ClassCastException异常。</strong></p>
<p>​		一个类实现Comparable接口则必须实现该接口中的int compareTo()方法，对前面的范例修改如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Person</span>&gt;		//实现<span class="title">Comparable</span>接口</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name,<span class="keyword">int</span> age)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Person per)</span>	<span class="comment">//重写Comparable接口的compareTo()方法</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>.age&gt;per.age)			<span class="comment">//以年龄排序</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.age&lt;per.age)</span><br><span class="line">        	&#123;</span><br><span class="line">            	<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        	&#125;<span class="keyword">else</span></span><br><span class="line">        		&#123;</span><br><span class="line">            		<span class="keyword">return</span> <span class="keyword">this</span>.name.compareTo(per.name);</span><br><span class="line">        		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="string">&quot;姓名：&quot;</span>+name+<span class="string">&quot;，年龄：&quot;</span>+age+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Set&lt;Person&gt; ts=<span class="keyword">new</span> TreeSet&lt;Person&gt;();</span><br><span class="line">        ts.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> Person(<span class="string">&quot;小天&quot;</span>,<span class="number">19</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> Person(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> Person(<span class="string">&quot;小明&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        ts.add(<span class="keyword">new</span> Person(<span class="string">&quot;小红&quot;</span>,<span class="number">20</span>));</span><br><span class="line">        System.out.println(ts);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[姓名：小强，年龄：<span class="number">18</span></span><br><span class="line">, 姓名：小天，年龄：<span class="number">19</span></span><br><span class="line">, 姓名：小明，年龄：<span class="number">20</span></span><br><span class="line">, 姓名：小红，年龄：<span class="number">20</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>​		以上程序实现了自定义类的多个对象排序，并且结果中没有重复的元素。</p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="buyan"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">buyan</p>
  <div class="site-description" itemprop="description">我见过真正难过的人，但他一滴泪也没流</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">98</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/silenthly/silenthly.github.io" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;silenthly&#x2F;silenthly.github.io" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://gitee.com/silenthty/silenthty" title="Gitee → https:&#x2F;&#x2F;gitee.com&#x2F;silenthty&#x2F;silenthty" rel="noopener" target="_blank"><i class="fab fa-gitee fa-fw"></i>Gitee</a>
      </span>
  </div>



<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=22829933&auto=0&height=66"></iframe>
      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">不言</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'svTDHGGetnbuzqV1kUczzXeM-gzGzoHsz',
      appKey     : 'lihxfavVgrdWrQwN6xB7C0OS',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body>
</html>

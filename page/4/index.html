<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo16.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"silenthly.github.io","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"b2t":true,"scrollpercent":true,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="我见过真正难过的人，但他一滴泪也没流">
<meta property="og:type" content="website">
<meta property="og:title" content="Buyan-Blog">
<meta property="og:url" content="https://silenthly.github.io/page/4/index.html">
<meta property="og:site_name" content="Buyan-Blog">
<meta property="og:description" content="我见过真正难过的人，但他一滴泪也没流">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="buyan">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://silenthly.github.io/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Buyan-Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Buyan-Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Buyan-Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/15/List%E6%8E%A5%E5%8F%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/15/List%E6%8E%A5%E5%8F%A3/" class="post-title-link" itemprop="url">List接口</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-15 07:09:15" itemprop="dateCreated datePublished" datetime="2021-08-15T07:09:15+08:00">2021-08-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-10-03 19:13:21" itemprop="dateModified" datetime="2021-10-03T19:13:21+08:00">2021-10-03</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/15/List%E6%8E%A5%E5%8F%A3/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/15/List%E6%8E%A5%E5%8F%A3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		List接口是一个有序集合，其元素以线性方式存储。集合中允许存放重复的元素。本文将介绍List接口的两个主要的实现类，ArrayList和LinkedList。</p>
<h3 id="认识list接口"><a class="markdownIt-Anchor" href="#认识list接口"></a> 认识List接口</h3>
<p>​		List是有序的Collection，使用List接口可以精确地控制每个元素插入的位置，也可以通过索引来访问List中的元素，类似于数组。List接口的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Collection</span>&lt;<span class="title">E</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​		List不但继承了Collection接口，还进行了扩展增加了更多方法，如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public void add(int index,E element)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>在集合的指定位置插入一个元素</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>2</strong></td>
<td style="text-align:center"><strong>public boolean addAll(int index,Collection&lt;? extends E&gt; c)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>在集合的指定位置插入集合c的所有元素</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>3</strong></td>
<td style="text-align:center"><strong>public E get(int index)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>返回此集合中指定位置的元素</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>4</strong></td>
<td style="text-align:center"><strong>public int indexOf(Object o)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>返回此集合中首次出现指定元素的索引，如果集合不包含此元素，则返回-1</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public int lastIndexOf(Object o)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>返回此集合中最后出现指定元素的索引，如果集合不包含此元素，则返回-1</strong></td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public ListIterator&lt;E&gt; listInterator()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">为ListInterator接口实例化，用于遍历集合中的元素</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public ListIterator&lt;E&gt; listInterator(int index)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">为ListInterator接口实例化，用于遍历集合中的元素，并从集合的指定位置开始遍历</td>
</tr>
<tr>
<td style="text-align:center"><strong>8</strong></td>
<td style="text-align:center"><strong>public E remove(int index)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>删除集合中指定位置的元素</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>9</strong></td>
<td style="text-align:center"><strong>public E set(int index,E element)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>替换指定位置的元素</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>10</strong></td>
<td style="text-align:center"><strong>public List&lt;E&gt; subList(int fromIndex,int toIndex)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>返回一个新的元素新的集合中的包含fromIndex(包括)到toIndex(不包括)索引之间的所有元素。</strong></td>
</tr>
</tbody>
</table>
<p><strong>注意：List允许存在相同的元素</strong></p>
<h3 id="数组列表类arraylist类"><a class="markdownIt-Anchor" href="#数组列表类arraylist类"></a> 数组列表类：ArrayList类</h3>
<p>​		在java中，ArrayList类的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstactList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;,<span class="title">RandomAccess</span>,<span class="title">Cloneable</span>,<span class="title">Seriablizable</span></span></span><br></pre></td></tr></table></figure>
<p>​		可以发现，<strong>ArrayList类实现List接口，可以通过ArrayList为List接口实例化</strong>。ArrayList类是数组列表类，实现了可变长度的数组，允许对集合中的元素进行快速的访问，但向ArrayList集合中插入或删除速度较慢（类似顺序表删除元素）。</p>
<p>​		ArrayList集合允许所有的元素，包括null。每一个ArrayList实例都有一个默认的容量，即存储元素的个数，这个容量可以随着元素的增大而自动变大。ArrayList实例的容量算法没有定义。在添加大量元素前，可以使用ensureCapacity()操作来增加ArrayList实例的容量，这可以减少递增式再分配的数量。ArrayList类实现了List接口，这意味着它实现了List接口中的所有方法，但也增加了一些常用的方法，如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public void ensureCapacity(int minCapacity)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将ArrayList实例的容量扩大指定的容量</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public void removeRange(int fromIndex,int toIndex)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">删除集合中索引在fromIndex(包括)和toIndex(不包括)之间所有元素</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public void trimToSize()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将此ArrayList实例的容量调整为集合的当前大小</td>
</tr>
</tbody>
</table>
<h4 id="向集合添加元素"><a class="markdownIt-Anchor" href="#向集合添加元素"></a> 向集合添加元素</h4>
<p>​		在Collection接口中就已定义了向集合添加元素的两个方法，add()和addAll()，在List接口增加可以向指定位置添加元素的add()和addAll()方法</p>
<p>代码示例1：(向集合添加元素)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Collection&lt;String&gt; collect=<span class="keyword">new</span> ArrayList&lt;String&gt;();		<span class="comment">//通过ArrayList实例化Collection</span></span><br><span class="line">        List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();		<span class="comment">//通过ArrayList实例化List</span></span><br><span class="line">        collect.add(<span class="string">&quot;1&quot;</span>);				<span class="comment">//向集合插入元素</span></span><br><span class="line">        collect.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        collect.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;collect集合：&quot;</span>+collect);		<span class="comment">//打印集合中的元素</span></span><br><span class="line">        list.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;List集合：&quot;</span>+list);		<span class="comment">//打印集合中的元素</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">collect集合：[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">List集合：[A, B, C]</span><br></pre></td></tr></table></figure>
<p>​		从程序的运行结果可以发现，add(E o)只是在集合最后进行内容的追加，而add(int Index,E element)可以指定添加位置。虽然System.out.println可以打印输出集合中所有的元素，但这不是标准的输出集合的方式。</p>
<h4 id="删除集合中的元素"><a class="markdownIt-Anchor" href="#删除集合中的元素"></a> 删除集合中的元素</h4>
<p>​		ArrayList集合提供了专门用于删除元素的方法，Collection接口提供了remove()和removeAll()方法。在List接口中还提供了可以删除指定位置元素的方法remove(itn index)。</p>
<p>代码示例2：(删除元素)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Collection&lt;String&gt; collect=<span class="keyword">new</span> ArrayList&lt;String&gt;();		<span class="comment">//通过ArrayList实例化Collection</span></span><br><span class="line">        List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();		<span class="comment">//通过ArrayList实例化List</span></span><br><span class="line">        collect.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        collect.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        collect.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;collect集合：&quot;</span>+collect);		<span class="comment">//打印集合中的元素</span></span><br><span class="line">        list.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        list.add(<span class="number">1</span>,<span class="string">&quot;B&quot;</span>);			<span class="comment">//向指定位置添加元素</span></span><br><span class="line">        list.addAll(<span class="number">0</span>,collect);		<span class="comment">//向指定位置添加一个集合的所有元素</span></span><br><span class="line">        System.out.println(<span class="string">&quot;List集合删除前：&quot;</span>+list);		<span class="comment">//打印集合中的元素</span></span><br><span class="line">        list.remove(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        list.remove(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        list.removeAll(collect);			<span class="comment">//删除list集合中所有collect集合中含有的元素</span></span><br><span class="line">        System.out.println(<span class="string">&quot;List集合删除后：&quot;</span>+list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">collect集合：[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">List集合删除前：[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, A, B, C]</span><br><span class="line">List集合删除后：[A, C]</span><br></pre></td></tr></table></figure>
<h4 id="集合的其他操作"><a class="markdownIt-Anchor" href="#集合的其他操作"></a> 集合的其他操作</h4>
<p>​		在ArrayList集合中处理前面常用的添加元素和删除元素之外，还可以对集合进行其他的操作，如截取子集合、判断某个元素是否存在和将元素变为指定类型顶的数组等。</p>
<p>代码示例2：(集合的其他操作)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Collection&lt;String&gt; collect=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        List&lt;String&gt; list=<span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        collect.add(<span class="string">&quot;1&quot;</span>);</span><br><span class="line">        collect.add(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">        collect.add(<span class="string">&quot;3&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;collect集合：&quot;</span>+collect);</span><br><span class="line">        list.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        list.add(<span class="number">1</span>,<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        list.addAll(<span class="number">0</span>,collect);</span><br><span class="line">        System.out.println(<span class="string">&quot;List集合：&quot;</span>+list);		<span class="comment">//打印集合中的元素</span></span><br><span class="line">        List&lt;String&gt; sub=list.subList(<span class="number">1</span>,<span class="number">5</span>);				<span class="comment">//截取集合</span></span><br><span class="line">        System.out.println(<span class="string">&quot;sub集合：&quot;</span>+sub); </span><br><span class="line">        System.out.println(<span class="string">&quot;设置list集合元素前：&quot;</span>+list.get(<span class="number">3</span>));</span><br><span class="line">        list.set(<span class="number">3</span>,<span class="string">&quot;Set&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;设置list集合元素后：&quot;</span>+list.get(<span class="number">3</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;list集合中，元素3的位置：&quot;</span>+ </span><br><span class="line"> list.indexOf(<span class="string">&quot;3&quot;</span>)+<span class="string">&quot;，元素D的位置：&quot;</span>+list.indexOf(<span class="string">&quot;D&quot;</span>)); </span><br><span class="line">        String arrString[]=list.toArray(<span class="keyword">new</span> String[]&#123;&#125;); 		<span class="comment">//将集合转为字符串数组</span></span><br><span class="line">        <span class="keyword">for</span>(String str:arrString)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(str+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;\nlist集合是否为空：&quot;</span>+list.isEmpty());</span><br><span class="line">        list.clear();			<span class="comment">//清除集合中的所有元素</span></span><br><span class="line">        System.out.println(<span class="string">&quot;集合是否为空：&quot;</span>+list.isEmpty());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">collect集合：[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">List集合：[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, A, B, C]</span><br><span class="line">sub集合：[<span class="number">2</span>, <span class="number">3</span>, A, B]</span><br><span class="line">设置list集合元素前：A</span><br><span class="line">设置list集合元素后：Set</span><br><span class="line">list集合中，元素<span class="number">3</span>的位置：<span class="number">2</span>，元素D的位置：-<span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> Set B C</span><br><span class="line">list集合是否为空：<span class="keyword">false</span></span><br><span class="line">集合是否为空：<span class="keyword">true</span></span><br></pre></td></tr></table></figure>
<p>​		在以上程序中，list.toArray(new String[]{})指定的是new String[]{}，而不是new String[]。若截取的子集合元素个数超出原集合的范围，如List subList=list.subList(1,7)，编译虽然可以通过，但是在运行时将产生 IndexOutOfBoundsException异常。</p>
<h3 id="链表类linkedlist类"><a class="markdownIt-Anchor" href="#链表类linkedlist类"></a> 链表类：LinkedLIst类</h3>
<p>​		LinkedLIst是链表类，采用链表结果保存元素。链表结构的优点是便于向集合插入和删除元素。因为在插入或删除元素，不需要移动任何元素。在程序中，若经常需要向集合中插入或删除元素时，使用LinkedLIst实例化List接口是较好的选择。但若需要随机访问集合中的元素时，LinkedLIst集合就显得相对较慢了。</p>
<p>LinkedLIst类的定义：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedLIst</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">AbstractSequentialList</span>&lt;<span class="title">E</span>&gt; <span class="keyword">implements</span> <span class="title">List</span>&lt;<span class="title">E</span>&gt;,<span class="title">Deque</span>&lt;<span class="title">E</span>&gt;,<span class="title">Queue</span>&lt;<span class="title">E</span>&gt;,<span class="title">Cloneable</span>,<span class="title">Serializable</span></span></span><br></pre></td></tr></table></figure>
<p>​		从以上格式可以发现，LinkedLIst继承自了Queue接口、List接口和Deque接口，包含这三个接口的所有方法。List接口上面已经介绍过，下面分别介绍Queue接口和Deque接口。</p>
<h4 id="队列queue接口"><a class="markdownIt-Anchor" href="#队列queue接口"></a> 队列：Queue接口</h4>
<p>​		Queue接口是java中实现队列的接口，它总共只有6个方法，我们·一般只用其中3个就可以了。Queue的实现类有LinkedList和PriorityQueue。Queue接口除了基本的Collection操作外，还提供的特有的插入、提取和检查操作。**每个方法都存在两种形式：一种抛出异常（操作失败时），另一种返回一个特殊值（null或false，具体取决于操作）。**插入操作后一种形式是用于专门为有容量的Queue实现设计的，在大多数实现中，插入操作不会失败。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public boolean add(E o)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>若有足够的空间，则将指定的元素插入此队列，成功返回true ，否则抛出异常</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>2</strong></td>
<td style="text-align:center"><strong>public boolean offer(E o)</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>若有足够的空间，则将指定的元素插入此队列，成功返回true，否则返回false</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>3</strong></td>
<td style="text-align:center"><strong>public E remove()</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>删除并返回队列头部的元素，若队列为空，则抛出异常</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>4</strong></td>
<td style="text-align:center"><strong>public E poll()</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>删除并返回队列头部的元素，若队列为空，则返回null</strong></td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public E element()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">返回队列头部的元素，但不删除，若队列为空，则抛出异常</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public E peek()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">返回队列头部的元素，但不删除，若队列为空，则返回null</td>
</tr>
</tbody>
</table>
<p>​		队列通常（但并非一定）以 FIFO（先进先出）的方式排序各个元素。在FIFO队列中，所有的新元素都插入队列的末尾，调用 remove() 或 poll() 所移除的元素都是队列的头部。</p>
<p>​		如果可能，offer()方法可插入一个元素，否则返回 false。这与 Collection.add 方法不同，该方法只能通过抛出未经检查的异常使添加元素失败。offer 方法设计用于正常的失败情况，而不是出现异常的情况，例如在容量固定（有界）的队列中。</p>
<p>代码示例：(比较使用remobe()与poll())</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Queue;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Queue&lt;String&gt; q=<span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        String str=q.poll();</span><br><span class="line">        System.out.println(str);</span><br><span class="line">        q.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">null</span></span><br><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.util.NoSuchElementException</span><br><span class="line">        at java.util.LinkedList.removeFirst(Unknown Source)</span><br><span class="line">        at java.util.LinkedList.remove(Unknown Source)</span><br><span class="line">        at Test.main(Test.java:<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p>​		以上程序，使用LinkedLIst类实例化一个Queue类型的空队列，由于队列为空，调用poll()方法返回null，而调用remove则抛出了NoSuchElementException异常。</p>
<h4 id="双端队列deque接口"><a class="markdownIt-Anchor" href="#双端队列deque接口"></a> 双端队列：Deque接口</h4>
<p>​		Deque是一个双端队列接口，继承自Queue接口，Deque的实现类是LinkedList、ArrayDeque、LinkedBlockingDeque，其中LinkedList是最常用的。</p>
<p><strong>Deque有三种用途：</strong></p>
<ul>
<li>普通队列（一端另一端出）：</li>
</ul>
<p><code>Queue queue = new LinkedList()</code>或<code>Deque deque = new LinkedList()</code></p>
<ul>
<li>双端队列（两端都可以进出）：</li>
</ul>
<p><code>Deque deque = new LinkedList()</code></p>
<ul>
<li>堆栈（进出在同一端）</li>
</ul>
<p><code>Deque deque = new LinkedList()</code></p>
<blockquote>
<p>注意：Java堆栈Stack类已经过时，Java官方推荐使用Deque替代Stack使用。Deque堆栈操作方法：push()、pop()、peek()。</p>
</blockquote>
<p>​		Deque是一个线性collection，支持在两端插入和移除元素。名称 deque 是“double ended queue（双端队列）”的缩写。大多数 Deque 实现对于它们能够包含的元素数没有固定限制，但此接口既支持有容量限制的双端队列，也支持没有固定大小限制的双端队列。</p>
<p>​		此接口定义在双端队列访问元素的方法。提供插入、移除和检查元素的方法。每种方法都存在两种形式：一种形式在操作失败时抛出异常，另一种形式返回一个特殊值（null 或 false，具体取决于操作）。插入操作的后一种形式是专为使用有容量限制的 Deque 实现设计的，在大多数实现中，插入操作不能失败。</p>
<table>
    <tr>
        <td><center>操作/对象</center></td>
        <td colspan="2"><center>第一个元素(头部)</center></td>
        <td colspan="2"><center>最后一个元素(尾部)</center></td>
    </tr>
    <tr>
        <td></td>
        <td><center>抛出异常</center></td>
        <td><center>特殊值</center></td>
        <td><center>抛出异常</center></td>
        <td><center>特殊值</center></td>
    </tr>
    <tr>
        <td><center>插入</center></td>
        <td><center>addFirst(e)</center></td>
        <td><center>offerFirst(e)</center></td>
        <td><center>addLast(e)</center></td>
        <td><center>offerLast(e)</center></td>
    </tr>
    <tr>
        <td><center>删除</center></td>
        <td><center>removeFirst()</center></td>
        <td><center>pollFirst()</center></td>
        <td><center>removeLast()</center></td>
        <td><center>pollLast()</center></td>
    </tr>
    <tr>
        <td><center>检查</center></td>
        <td><center>getFirst()</center></td>
        <td><center>peekFirst()</center></td>
        <td><center>getLast()</center></td>
        <td><center>peekLast()</center></td>
    </tr>
</table>
<p>​		Deque接口扩展(继承)了Queue接口。在将双端队列用作队列时，Deque接口部分方法等效于Queue接口方法。如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">Queue方法</th>
<th style="text-align:center">等效Deque方法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">add(e)</td>
<td style="text-align:center">addLast(e)</td>
</tr>
<tr>
<td style="text-align:center">offer(e)</td>
<td style="text-align:center">offerLast(e)</td>
</tr>
<tr>
<td style="text-align:center">remove()</td>
<td style="text-align:center">removeFirst()</td>
</tr>
<tr>
<td style="text-align:center">poll()</td>
<td style="text-align:center">pollFirst()</td>
</tr>
<tr>
<td style="text-align:center">element()</td>
<td style="text-align:center">getFirst()</td>
</tr>
<tr>
<td style="text-align:center">peek()</td>
<td style="text-align:center">peekFirst()</td>
</tr>
</tbody>
</table>
<p>​		双端队列也可用作LIFO(先进先出)堆栈。应优先使用此接口而不是遗留Stack类。在将双端队列用作堆栈时，元素被推入双端队列的开头并从双端队列的开头弹出。Deque接口部分方法等效于Stack类方法。如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">堆栈方法</th>
<th style="text-align:center">等效Deque方法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">push(e)</td>
<td style="text-align:center">addFirst(e)</td>
</tr>
<tr>
<td style="text-align:center">pop()</td>
<td style="text-align:center">removeFirst()</td>
</tr>
<tr>
<td style="text-align:center">peek()</td>
<td style="text-align:center">peekFirst()</td>
</tr>
</tbody>
</table>
<h4 id="linkedlist类新增方法"><a class="markdownIt-Anchor" href="#linkedlist类新增方法"></a> LinkedList类新增方法</h4>
<p>​		LinkedList类是List接口、Queue接口与Deque接口的实现类，所以LinkedList类方法包含了这三个接口的所有方法，包括以上tack类的三个方法。所以可以通过LinkedList类实现堆栈、队列和双端队列。除此之外，LinkedList类还有一些新增方法，如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public Iterator&lt;E&gt; descendingIterator()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">为listIterator接口实例化，用于遍历链表中的元素，顺序为从尾部到头部</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public boolean remove(Object o)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">删除此链表中首次出现的指定元素</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public boolean removeFirstOccurrence(Object o)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">从此链表中删除第一次出现的指定元素</td>
</tr>
<tr>
<td style="text-align:center"><strong>8</strong></td>
<td style="text-align:center"><strong>public boolean removeLastOccurrence(Object o)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>从此链表中删除最后一次出现的指定元素</strong></td>
</tr>
</tbody>
</table>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        LinkedList&lt;String&gt; link=<span class="keyword">new</span> LinkedList&lt;String&gt;();</span><br><span class="line">        link.add(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">        link.add(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        link.offer(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">        link.offer(<span class="string">&quot;D&quot;</span>);</span><br><span class="line">        link.offer(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;链表中包含的元素：&quot;</span>+link);</span><br><span class="line">        System.out.println(<span class="string">&quot;链表中下标为2的元素为：&quot;</span>+link.get(<span class="number">2</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;首次出现元素B的下标为：&quot;</span>+link.indexOf(<span class="string">&quot;B&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;最后一次出现元素B的下标为：&quot;</span>+link.lastIndexOf(<span class="string">&quot;B&quot;</span>));</span><br><span class="line">        link.remove(<span class="number">3</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;删除下标3的元素后：&quot;</span>+link);</span><br><span class="line">        link.removeLastOccurrence(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;删除最后一次出现元素B：&quot;</span>+link);</span><br><span class="line">        link.set(<span class="number">0</span>,<span class="string">&quot;H&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;将下标为0的元素替换为“H“：&quot;</span>+link);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">链表中包含的元素：[A, B, C, D, B]</span><br><span class="line">链表中下标为<span class="number">2</span>的元素为：C</span><br><span class="line">首次出现元素B的下标为：<span class="number">1</span></span><br><span class="line">最后一次出现元素B的下标为：<span class="number">4</span></span><br><span class="line">删除下标<span class="number">3</span>的元素后：[A, B, C, B]</span><br><span class="line">删除最后一次出现元素B：[A, B, C]</span><br><span class="line">将下标为<span class="number">0</span>的元素替换为“H“：[H, B, C]</span><br></pre></td></tr></table></figure>
<p>参考链接：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/devnn/article/details/82591349">【Java】Java队列Queue使用详解_devnn的专栏-CSDN博客_java队列queue使用场景</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/devnn/article/details/82716447">【Java】Java双端队列Deque使用详解_devnn的专栏-CSDN博客</a></p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/12/%E8%AE%A4%E8%AF%86%E9%9B%86%E5%90%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/12/%E8%AE%A4%E8%AF%86%E9%9B%86%E5%90%88/" class="post-title-link" itemprop="url">认识集合</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-12 08:32:42" itemprop="dateCreated datePublished" datetime="2021-08-12T08:32:42+08:00">2021-08-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-24 15:54:30" itemprop="dateModified" datetime="2021-08-24T15:54:30+08:00">2021-08-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/12/%E8%AE%A4%E8%AF%86%E9%9B%86%E5%90%88/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/12/%E8%AE%A4%E8%AF%86%E9%9B%86%E5%90%88/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		在JDK1.5之前，使用集合是一件相当麻烦的事。但在JDK1.5之后，java对集合进行了一系列的改进，极大地提高了集合的使用效率。这些改进主要体现在引进泛型技术、自动装箱与拆箱技术和foreach等技术的运用上。</p>
<h3 id="集合的基本概念"><a class="markdownIt-Anchor" href="#集合的基本概念"></a> 集合的基本概念</h3>
<p>​		java中的集合类是一种特别有用的工具类，所有的集合类都存放在java.util包中，所以使用集合类时需要导入该包。<strong>集合类主要负责保存、盛装和管理对象，因此集合又称为类集或容器</strong>。</p>
<p>​		数组是一种相同数据的集合，但在java语言里“集合”却是一个类，这两者有很多不同之处。比如，数组的长度是不可变的，而集合的长度是可变的。数组可以用来存储基本数据类型的数据，也可以存放引用数据类型的数据，而<strong>集合只能存放引用数据类型的数据</strong>，不能存放基本数据类型的数据。</p>
<p>​		java中的集合类主要由两个派口派生，即Collection和Map。其中，Collection接口派生出了List集合和Set集合，各个接口还提供了不同的实现类。集合类的继承关系如下图所示</p>
<p><img src="https://silenthty.gitee.io/photo/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/%E9%9B%86%E5%90%882.png" alt="" /></p>
<p>箭头表示接口间的继承关系。</p>
<h3 id="collection接口"><a class="markdownIt-Anchor" href="#collection接口"></a> Collection接口</h3>
<p>​		java.util.Collection是集合类的基本接口，它位于集合类的顶层。Collection接口的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Collection</span>&lt;<span class="title">E</span>&gt; <span class="keyword">extends</span> <span class="title">Iterable</span>&lt;<span class="title">E</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​		可以发现，<strong>Collection使用泛型技术，所以在操作时必须指定具体的操作类型</strong>，有利于集合的安全性。Collection是List接口和Set接口的父接口。Collection接口声明多个集合类的核心方法，如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public boolean add(E o)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">向集合插入一个元素</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public boolean addAll(Collection&lt;? extends E&gt; c)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">向集合添加一个集合c的所有元素</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public void clear()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">清除集合中所有的元素</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public boolean contains(Object o)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">判断集合中是否存在指定的元素。若存在，则返回true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public boolean containsAll(Collection&lt;?&gt; c)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">判断集合中是否存在指定的集合c的所有元素。若存在，则返回true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public boolean equals(Object o)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">比较两个集合是否相等</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public int hashCode()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">返回此Collection的哈希码值</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public boolean isEmpty()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">判断此集合是否为空。若为空，则返回true，否则返回false</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public Iterator&lt;E&gt; iterator()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">为Iterator接口实例化，用于遍历集合中的元素</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public boolean remove(Object o)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">从集合中删除指定的元素</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">public boolean removeAll(Collection&lt;?&gt; c)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">从集合中删除指定集合c中出现的所有元素</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public boolean retainAll()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">保存集合中所有在集合c中出现的元素</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">public int size()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">返回此集合中的元素个数</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">public Object[] toArray()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">返回包含此元素中所有元素的对象数组</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">public &lt;T&gt; T[] toArray(T[] a)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">返回包含此元素中所有元素的数组，并可以指定返回的数组类型</td>
</tr>
</tbody>
</table>
<p>​		所有实现Collection接口的类都必须提供两个标准的构造方法，一个是无参构造法，用于创建一个空的Collection。一个是带有Collection参数的有参构造方法，用于创建一个新的Collection，而这个新的Collection与传入的Collection具有相同的元素，该构造方法允许用户复制一个Collection。</p>
<p>​		虽然Collection是集合类的基本接口，但是<strong>一般都不会直接使用Collection接口进行操作，而是使用其子接口</strong>。Collection接口的主要子接口有如下几个。</p>
<ul>
<li>List&lt;E&gt;：集合中的元素按照索引值来排序，允许存放重复的元素。List集合与数组类似。</li>
<li>Queue&lt;E&gt;：队列接口，队列通常以FIFO(先进先出)的方式排序各个元素。</li>
<li>Set&lt;E&gt;：集合中的元素不按特定方式排序，不能存在重复对象，但它的有些实现类能对集合中的元素按照特定方式排序。</li>
<li>SortedSet&lt;E&gt;：可以对集合中的元素进行排序。</li>
</ul>
<p>参考链接：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/sun10367/p/13597047.html#32-">Java集合之泛型类和泛型接口 - sun10367 - 博客园 (cnblogs.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/bigbigbigo/p/8423588.html">Java 集合和泛型 - 爆炸的果核 - 博客园 (cnblogs.com)</a></p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/11/%E6%B3%9B%E5%9E%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/11/%E6%B3%9B%E5%9E%8B/" class="post-title-link" itemprop="url">泛型</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-11 07:32:11" itemprop="dateCreated datePublished" datetime="2021-08-11T07:32:11+08:00">2021-08-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-28 16:54:45" itemprop="dateModified" datetime="2021-08-28T16:54:45+08:00">2021-08-28</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/11/%E6%B3%9B%E5%9E%8B/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/11/%E6%B3%9B%E5%9E%8B/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="为什么要使用泛型"><a class="markdownIt-Anchor" href="#为什么要使用泛型"></a> 为什么要使用泛型</h3>
<p>​		泛型是配合集合使用的，当不使用泛型时，集合中是可以存放任意类型对象的，只要把对象存储集合后，那么他们都会被提升为Object类型。当我们在取出每一个对象，并且进行相应的操作，需要进行类型转换。</p>
<p>​		若集合没有使用泛型，什么类型的元素都可以存储，导致取出时强转引发运行时ClassCastException(类型转换异常)。Collection虽然可以存储各种类型对象，但一般只存储同一类型对象，例如都是字符串对象。因此在JDK5之后，新增了<strong>泛型</strong>(<strong>Generic</strong>)语法，让你在设计API时可以指定类或方法支持泛型，这样我们使用API的时候也变得更为简洁，并得到了编译时期的语法检查。下面通过一个范例来介绍为什么要使用泛型。</p>
<p>代码示例1：(类型转换)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(Object obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics gd=<span class="keyword">new</span> Generics();</span><br><span class="line">        gd.setObj(<span class="keyword">new</span> Integer(<span class="number">5</span>));			<span class="comment">//向上转型，设置obj</span></span><br><span class="line">        Integer in=(Integer)gd.getObj();	<span class="comment">//向下转型</span></span><br><span class="line">        System.out.println(<span class="string">&quot;设置的数值为：&quot;</span>+in);</span><br><span class="line">        gd.setObj(<span class="keyword">new</span> Float(<span class="number">1.23f</span>));		<span class="comment">//向上转型，设置obj</span></span><br><span class="line">        Float f=(Float)gd.getObj();			<span class="comment">//向下转型</span></span><br><span class="line">        System.out.println(<span class="string">&quot;设置的数值为：&quot;</span>+f);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">设置的数值为：<span class="number">5</span></span><br><span class="line">设置的数值为：<span class="number">1.23</span></span><br></pre></td></tr></table></figure>
<p>​		在以上程序中，定义了Object类的属性obj，我们知道所有的类都是Object的子类，所以在setObj()方法中可以完成向上转型。向上转型是安全的，但是在向下转型时，通常容易出现问题，范例如下。</p>
<p>代码示例2：(错误的类型转换)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(Object obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics gd=<span class="keyword">new</span> Generics();</span><br><span class="line">        gd.setObj(<span class="keyword">new</span> Integer(<span class="number">5</span>));			<span class="comment">//向上转型，设置obj</span></span><br><span class="line">        Integer in=(Integer)gd.getObj();	<span class="comment">//向下转型</span></span><br><span class="line">        System.out.println(<span class="string">&quot;设置的数值为：&quot;</span>+in);</span><br><span class="line">        gd.setObj(<span class="string">&quot;1.23&quot;</span>);		<span class="comment">//向上转型，设置obj</span></span><br><span class="line">        Float f=(Float)gd.getObj();			<span class="comment">//向下转型</span></span><br><span class="line">        System.out.println(<span class="string">&quot;设置的数值为：&quot;</span>+f);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​	运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">设置的数值为：<span class="number">5</span></span><br><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.ClassCastException: java.lang.String cannot be cast to java.lang.Float</span><br><span class="line">        at Test.main(Test.java:<span class="number">22</span>)</span><br></pre></td></tr></table></figure>
<p>​		以上程序在编译时没有抛出任何异常，但在编译时产生了ClassCastException异常，这是一个类型转换异常。这是因为Object类型可以接收String类型，但是不能将其转换为Float类型，这就造成了类型安全问题。想要解决问题，可以使用泛型。</p>
<h3 id="泛型应用"><a class="markdownIt-Anchor" href="#泛型应用"></a> 泛型应用</h3>
<p>​		想要解决数据类型转换异常的常用方法，则需要使用泛型类增大java类型系统，<strong>甚至可以把泛型看做类型的”函数“</strong>。</p>
<h4 id="泛型的基本应用"><a class="markdownIt-Anchor" href="#泛型的基本应用"></a> 泛型的基本应用</h4>
<p>​		Object类作为顶级的类，在程序中无论传入什么样的类型都可以被结束。但当要处理这些实例时，必须正确地将该实例转换为原类型，否则在运行时就会产生ClassCastException异常。其实java的<strong>泛型创建，是创建用类型作为参数的类</strong>，创建泛型类语法格式如下所示。</p>
<p>创建泛型类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">public</span>] <span class="class"><span class="keyword">class</span> 类名&lt;泛型类型标识1...泛型类型标识<span class="title">n</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    [访问控制符] 泛型类型标识 变量名;				<span class="comment">//定义属性</span></span><br><span class="line">    [访问控制符] 泛型类型标识 方法名()&#123;&#125;			<span class="comment">//定义方法</span></span><br><span class="line">    [访问控制符] 泛型类型标识 方法名(泛型类型标识 参数名)&#123;&#125;	<span class="comment">//定义方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​		其中，<strong>泛型类型标识只能是引用数据类型</strong>。泛型方法的返回值类型可以是泛型类型标识，也就是其他数据类型，如int、String、甚至是void。</p>
<p>ps：一般而言，类型的参数命名为单个大写字母，普遍的类型名称如下：</p>
<ul>
<li>E——元素</li>
<li>K——key</li>
<li>N——数字</li>
<li>T——类型</li>
<li>V——value</li>
<li>S，U，V——第二，第三，第四个类型</li>
</ul>
<p>代码示例3：(声明泛型类)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj;					<span class="comment">//创建引用对象</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObject</span><span class="params">(T obj)</span>	<span class="comment">//设置obj属性</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj</span><span class="params">()</span>				<span class="comment">//获得obj属性</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​		上面已经创建了泛型类，但是想要使用泛型类还需要创建泛型类的对象，其语法格式如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">类名&lt;泛型类型&gt; 对象名=<span class="keyword">new</span> 类名&lt;泛型类型&gt;();</span><br></pre></td></tr></table></figure>
<p>​		其中，类型为引用数据类型，不可为基本数据类型。</p>
<p>代码示例4：(使用泛型类)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics&lt;Integer&gt; gd1=<span class="keyword">new</span> Generics&lt;Integer&gt;();		<span class="comment">//创建泛型实例</span></span><br><span class="line">        gd1.setObj(<span class="keyword">new</span> Integer(<span class="number">5</span>));</span><br><span class="line">        Integer in=(Integer)gd1.getObj();</span><br><span class="line">        System.out.println(<span class="string">&quot;设置的数值为：&quot;</span>+in);</span><br><span class="line">        Generics&lt;Float&gt; gd2=<span class="keyword">new</span> Generics&lt;Float&gt;();		<span class="comment">//创建泛型实例</span></span><br><span class="line">        gd2.setObj(<span class="keyword">new</span> Float(<span class="number">1.23f</span>));</span><br><span class="line">        Float f=(Float)gd2.getObj();</span><br><span class="line">        System.out.println(<span class="string">&quot;设置的数值为：&quot;</span>+f);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">设置的数值为：<span class="number">5</span></span><br><span class="line">设置的数值为：<span class="number">1.23</span></span><br></pre></td></tr></table></figure>
<p>​		前面说过，泛型类型标识符不能为基本类型，但如果传入的是基本数据类型，那又会怎么样呢？</p>
<p>代码示例5：(泛型类型标识为基本数据类型)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics&lt;<span class="keyword">int</span>&gt; gd1=<span class="keyword">new</span> Generics&lt;<span class="keyword">int</span>&gt;();		<span class="comment">//创建泛型实例</span></span><br><span class="line">        gd1.setObj(<span class="keyword">new</span> Integer(<span class="number">5</span>));</span><br><span class="line">        Integer in=(Integer)gd1.getObj();</span><br><span class="line">        System.out.println(<span class="string">&quot;设置的数值为：&quot;</span>+in);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Test.java:<span class="number">17</span>: 错误: 意外的类型</span><br><span class="line">        Generics&lt;<span class="keyword">int</span>&gt; gd1=<span class="keyword">new</span> Generics&lt;<span class="keyword">int</span>&gt;();          <span class="comment">//创建泛型实例</span></span><br><span class="line">                 ^</span><br><span class="line">  需要: 引用</span><br><span class="line">  找到:    <span class="keyword">int</span></span><br><span class="line">Test.java:<span class="number">17</span>: 错误: 意外的类型</span><br><span class="line">        Generics&lt;<span class="keyword">int</span>&gt; gd1=<span class="keyword">new</span> Generics&lt;<span class="keyword">int</span>&gt;();          <span class="comment">//创建泛型实例</span></span><br><span class="line">                                       ^</span><br><span class="line">  需要: 引用</span><br><span class="line">  找到:    <span class="keyword">int</span></span><br><span class="line"><span class="number">2</span> 个错误</span><br></pre></td></tr></table></figure>
<p>​		由此可见，在泛型中是无法指定基本数类的，但可以使用包装类将基本数据类型封装成一个类，再传入泛型中。而从JDK1.5以后增加了自动装箱的功能，操作上是不复杂的。</p>
<p>​		到目前为止，除了写法不同以外，没有看到泛型类与普通类的区别。下面我们设置内容与泛型所指不一致时，看看会出现说明情况。</p>
<p>代码示例:6：(设置内容与泛型所指的类型不一致)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics&lt;Integer&gt; gd1=<span class="keyword">new</span> Generics&lt;Integer&gt;();		<span class="comment">//创建泛型实例</span></span><br><span class="line">        gd1.setObj(<span class="string">&quot;5&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Test.java:<span class="number">18</span>: 错误: 不兼容的类型: String无法转换为Integer</span><br><span class="line">        gd1.setObj(<span class="string">&quot;5&quot;</span>);</span><br><span class="line">                   ^</span><br><span class="line">注: 某些消息已经过简化; 请使用 -Xdiags:verbose 重新编译以获得完整输出</span><br><span class="line"><span class="number">1</span> 个错误</span><br></pre></td></tr></table></figure>
<p>​		将上面程序与示例2相比可以发现，示例2在编译时没有抛出任何异常，但在运行时产生了ClassCastException异常；而该程序在编译时就抛出了ClassCastException异常，这样就可以提高程序的安全性，不需要等到程序运行时发现异常错误，即可修改程序。</p>
<p>注意：不能直接使用参数类型来构造一个对象，如示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    T t=<span class="keyword">new</span> T();	<span class="comment">//错误</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​		在通常情况下，泛型类型参数所指定的对象是不会在泛型类中创建的，而是由外部传入的。若一定要在泛型类中创建泛型类型参数所指定的对象，可以通过反射机制中的Class.newInstance()方法。</p>
<h4 id="泛型类的构造方法"><a class="markdownIt-Anchor" href="#泛型类的构造方法"></a> 泛型类的构造方法</h4>
<p>​		泛型的构造方法与普通类的构造方法并无不同，不需要在构造设置内容时指定类型。</p>
<p>语法格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[访问控制符] 类名([泛型类型] 参数列表)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//构造方法语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码示例：(定义泛型的构造方法)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        setObj(obj);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics&lt;Integer&gt; gd=<span class="keyword">new</span> Generics&lt;Integer&gt;(<span class="number">5</span>);</span><br><span class="line">        <span class="keyword">int</span> in=gd.getObj();</span><br><span class="line">        System.out.println(<span class="string">&quot;设置的数值为：&quot;</span>+in);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">设置的数值为：<span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>​		从以上程序可以发现，泛型类只是在类的定义上声明，而与构造方法的定义无关。</p>
<h4 id="定义泛型类时声明多个类型"><a class="markdownIt-Anchor" href="#定义泛型类时声明多个类型"></a> 定义泛型类时声明多个类型</h4>
<p>​		在泛型中，可以声明多个泛型类型，只需要在这些类型之间用逗号（,）隔开。下面通过一个范例来演示定义泛型类时声明多个类型。</p>
<p>代码示例7：(设置两个泛型类型)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span>,<span class="title">S</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj1;</span><br><span class="line">    <span class="keyword">private</span> S obj2;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">(T obj1,S obj2)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        setObj1(obj1);</span><br><span class="line">        setObj2(obj2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj1</span><span class="params">(T obj1)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj1=obj1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj2</span><span class="params">(S obj2)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj2=obj2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> S <span class="title">getObj2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;姓名：&quot;</span>+getObj1()+<span class="string">&quot;，年龄：&quot;</span>+getObj2());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics&lt;String,Integer&gt; gd=<span class="keyword">new</span> Generics&lt;String,Integer&gt;(<span class="string">&quot;小强&quot;</span>,<span class="number">5</span>);</span><br><span class="line">        gd.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">姓名：小强，年龄：<span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>​		以上程序中，泛型类型T和S可以是相同的类型，也可以是不同的类型，这是由外部指定的。</p>
<h4 id="泛型的安全警告"><a class="markdownIt-Anchor" href="#泛型的安全警告"></a> 泛型的安全警告</h4>
<p>​		在创建泛型的对象时，最好指定该对象的数据类型。如果不指定，就会出现不安全的警告信息。</p>
<p>代码示例8：(不指定泛型类型)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics gd=<span class="keyword">new</span> Generics();		<span class="comment">//创建泛型实例</span></span><br><span class="line">        gd.setObj(<span class="number">5</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;设置的数值为：&quot;</span>+gd.getObj());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">注: Test.java使用了未经检查或不安全的操作。</span><br><span class="line">注: 有关详细信息, 请使用 -Xlint:unchecked 重新编译。</span><br></pre></td></tr></table></figure>
<p>​		以上程序在编译是出现警告信息，是因为在创建泛型类对象时没有为其指定类型。虽然出现了警告信息，但是不影响程序的运行。因为在没有指定类型时，系统就会默认以Object类型接收，也就是在定义时将泛型擦拭(删除)。</p>
<p>注意：在java中泛型类继承Throwable及其子类都是不合法的。并且java规定不能使用泛型类型的数组，如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Generics&lt;String&gt; genArr[]=<span class="keyword">new</span> Generics&lt;String&gt;[<span class="number">10</span>];</span><br></pre></td></tr></table></figure>
<p>​		因为java代码代码编译时，会有擦拭处理，这时就会变为Object obj[]=genArr。这是一个Object类型的数组，试图向其插入其他类型的元素时，就会抛出ArrayStoreException异常。</p>
<h3 id="通配符"><a class="markdownIt-Anchor" href="#通配符"></a> 通配符</h3>
<p>​		前面介绍的泛型知识虽已经可以解决很多实际问题，但还有一些特殊的问题需要解决。在前面泛型类操作时都设置了一个固定的类型，若要接收任意指定的泛型类型时，需要使用通配符。</p>
<h4 id="无界通配符"><a class="markdownIt-Anchor" href="#无界通配符"></a> 无界通配符&quot;?&quot;</h4>
<p>​		前面的泛型类都是指定了参数的类型，但是很多时候我们并不指定要传入的是什么类型，这时可以使用无界通配符&quot;?&quot;。</p>
<p>代码示例9：(使用无界通配符&quot;?&quot;)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span>,<span class="title">S</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj1;</span><br><span class="line">    <span class="keyword">private</span> S obj2;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">(T obj1,S obj2)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        setObj1(obj1);</span><br><span class="line">        setObj2(obj2);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj1</span><span class="params">(T obj1)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj1=obj1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj2</span><span class="params">(S obj2)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj2=obj2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> S <span class="title">getObj2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;姓名：&quot;</span>+getObj1()+<span class="string">&quot;，年龄：&quot;</span>+getObj2());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span>			<span class="comment">//重写toString()方法</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="string">&quot;姓名：&quot;</span>+getObj1()+<span class="string">&quot;，年龄：&quot;</span>+getObj2());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fun</span><span class="params">(Generics&lt;?,?&gt; t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;fun():&quot;</span>+t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics&lt;?,?&gt; gd=<span class="keyword">new</span> Generics&lt;String,Integer&gt;(<span class="string">&quot;小强&quot;</span>,<span class="number">5</span>);</span><br><span class="line">        gd.show();</span><br><span class="line">        fun(gd);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">姓名：小强，年龄：<span class="number">5</span></span><br><span class="line">fun():姓名：小强，年龄：<span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>​		以上程序使用了无界通配符&quot;?&quot;，表示可以接收任意的泛型类型。但是有一点必须要注意，使用无界通配符&quot;?&quot;设置对象时，不能通过setter()方法设置被泛型指定的内容。</p>
<p>代码示例10：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fun</span><span class="params">(Generics&lt;?,?&gt; t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;fun():&quot;</span>+t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics&lt;?,?&gt; gd=<span class="keyword">new</span> Generics&lt;String,Integer&gt;();</span><br><span class="line">        gd.setObj1(<span class="string">&quot;小强&quot;</span>);</span><br><span class="line">        gd.setObj2(<span class="number">5</span>);</span><br><span class="line">        gd.show();</span><br><span class="line">        fun(gd);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Test.java:<span class="number">45</span>: 错误: 不兼容的类型: String无法转换为CAP#<span class="number">1</span></span><br><span class="line">        gd.setObj1(<span class="string">&quot;小强&quot;</span>);</span><br><span class="line">                   ^</span><br><span class="line">  其中, CAP#<span class="number">1</span>是新类型变量:</span><br><span class="line">    CAP#<span class="number">1</span>从?的捕获扩展Object</span><br><span class="line">Test.java:<span class="number">46</span>: 错误: 不兼容的类型: <span class="keyword">int</span>无法转换为CAP#<span class="number">1</span></span><br><span class="line">        gd.setObj2(<span class="number">5</span>);</span><br><span class="line">                   ^</span><br><span class="line">  其中, CAP#<span class="number">1</span>是新类型变量:</span><br><span class="line">    CAP#<span class="number">1</span>从?的捕获扩展Object</span><br><span class="line">注: 某些消息已经过简化; 请使用 -Xdiags:verbose 重新编译以获得完整输出</span><br><span class="line"><span class="number">2</span> 个错误</span><br></pre></td></tr></table></figure>
<h4 id="受限泛型泛型上限"><a class="markdownIt-Anchor" href="#受限泛型泛型上限"></a> 受限泛型——泛型上限</h4>
<p>​		在使用泛型类创建泛型对象，类型参数只能为某个接口（包含某个接口的实现类）或某种类型（包括某种类型的子类）时，可以设置类型形参的上限来实现，即使用关键字extends对接口和类的类型进行限制。设置类型形参的上限语法格式如下。</p>
<p>格式：(设置类型形参的上限)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;泛型类型标识 extends 泛型类型<span class="number">1</span> &amp; 泛型类型<span class="number">2.</span>..&gt;</span><br></pre></td></tr></table></figure>
<p>​		其中，在设置类型形参的上限时，无论使用的是类还是接口作为类型的形参的上限都是使用extends关键字进行限制。一个类型参数可以用多个限界类型。限界类之间用&quot;&amp;&quot;分隔开，因为逗号（,）是用来分隔类型参数的。需要注意的是，<strong>在多个限界类型中，可以用多个接口，但只能有一个类，如果类作为限界类型，则必须放在限界列表中的第一个</strong>。</p>
<p>代码示例11：(设置类型通配符的上限)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Number</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(Generics&lt;?&gt; t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;show()：&quot;</span>+getObj());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">info</span><span class="params">(Generics&lt;? extends Number&gt; t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;info()：&quot;</span>+t.getObj());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics&lt;Integer&gt; gd1=<span class="keyword">new</span> Generics&lt;Integer&gt;();		<span class="comment">//创建泛型实例</span></span><br><span class="line">        gd1.setObj(<span class="number">5</span>);</span><br><span class="line">        gd1.show(gd1);</span><br><span class="line">        info(gd1);</span><br><span class="line">        Generics&lt;Double&gt; gd2=<span class="keyword">new</span> Generics&lt;Double&gt;();		<span class="comment">//创建泛型实例</span></span><br><span class="line">        gd2.setObj(<span class="number">1.234</span>);</span><br><span class="line">        gd2.show(gd2);</span><br><span class="line">        info(gd2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">show()：<span class="number">5</span></span><br><span class="line">info()：<span class="number">5</span></span><br><span class="line">show()：<span class="number">1.234</span></span><br><span class="line">info()：<span class="number">1.234</span></span><br></pre></td></tr></table></figure>
<p>​		以上程序中，gd1是Generics&lt;Integer&gt;类型，gd2是Generics&lt;Double&gt;类型。由于实际类型不同，所以使用的是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">(Generics&lt;?&gt; t)</span></span></span><br></pre></td></tr></table></figure>
<p>​		它表示t可以为任意Generics类型。因为Generics类定义为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Number</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​		所以Generics类的对象只能是Number类的泛型对象或其子类的泛型对象。info()方法定义也为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">info</span><span class="params">(Generics&lt;? extends Number&gt; t)</span></span></span><br></pre></td></tr></table></figure>
<p>​		info()方法也只能结束Number类的发现对象或其子类的泛型对象，但不能如下定义：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">info</span><span class="params">(Generics&lt;T extends Number&gt; t)</span></span></span><br></pre></td></tr></table></figure>
<p>​		因为泛型类型T的作用域不在Test类中。</p>
<p>​		若传入的是String类的泛型对象，则编译时会出现错误。因为该泛型类型的上限为Number类。</p>
<p>代码示例12：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">info</span><span class="params">(Generics&lt;? extends Number&gt; t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;info()：&quot;</span>+t.getObj());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics&lt;String&gt; gd1=<span class="keyword">new</span> Generics&lt;String&gt;();		<span class="comment">//创建泛型实例</span></span><br><span class="line">        gd1.setObj(<span class="string">&quot;5&quot;</span>);</span><br><span class="line">        gd1.show(gd1);</span><br><span class="line">        info(gd1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Test.java:<span class="number">25</span>: 错误: 类型参数String不在类型变量T的范围内</span><br><span class="line">        Generics&lt;String&gt; gd1=<span class="keyword">new</span> Generics&lt;String&gt;();            <span class="comment">//创建泛型实例</span></span><br><span class="line">                 ^</span><br><span class="line">  其中, T是类型变量:</span><br><span class="line">    T扩展已在类 Generics中声明的Number</span><br><span class="line">Test.java:<span class="number">25</span>: 错误: 类型参数String不在类型变量T的范围内</span><br><span class="line">        Generics&lt;String&gt; gd1=<span class="keyword">new</span> Generics&lt;String&gt;();            <span class="comment">//创建泛型实例</span></span><br><span class="line">                                          ^</span><br><span class="line">  其中, T是类型变量:</span><br><span class="line">    T扩展已在类 Generics中声明的Number</span><br><span class="line">Test.java:<span class="number">28</span>: 错误: 不兼容的类型: Generics&lt;String&gt;无法转换为Generics&lt;? extends Number&gt;</span><br><span class="line">        info(gd1);</span><br><span class="line">             ^</span><br><span class="line">注: 某些消息已经过简化; 请使用 -Xdiags:verbose 重新编译以获得完整输出</span><br><span class="line"><span class="number">3</span> 个错误</span><br></pre></td></tr></table></figure>
<p>注意：不可将类声明为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;? <span class="keyword">extends</span> <span class="title">Number</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​		<strong>因为通配符是用来声明一个泛型类的变量的，而不是用来创建一个泛型类的。</strong></p>
<h4 id="受限泛型泛型下限"><a class="markdownIt-Anchor" href="#受限泛型泛型下限"></a> 受限泛型——泛型下限</h4>
<p>​		在java泛型机制汇总，除了可以限制泛型类型的上限之外，还可以限制泛型类型的下限，使其只能是某种类型或该类型的父类，只需使用super关键字就可以设置泛型类型通配符下限，其语法格式如下。</p>
<p>格式：(设置泛型下限)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;? <span class="keyword">super</span> 泛型类型&gt;</span><br></pre></td></tr></table></figure>
<p>代码实例13：(设置泛型类型通配符的下限)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        setObj(obj);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span>			<span class="comment">//重写toString()方法</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getObj().toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">fun</span><span class="params">(Generics&lt;? <span class="keyword">super</span> Integer&gt; t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;fun():&quot;</span>+t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics&lt;Integer&gt; gd=<span class="keyword">new</span> Generics&lt;Integer&gt;(<span class="number">123</span>);</span><br><span class="line">        fun(gd);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fun():<span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>​		以上程序中，fun()方法只能接收的泛型类型是Integer、Number和Object类型的引用。除了这些类型，传入其他类型时，在编译时将会报错。</p>
<blockquote>
<p>注意：在java的泛型里，对于static方法而言，是无法访问泛型类的类型参数的。因此，如果想让static方法具有泛型能力，就必须使其成为泛型方法。</p>
</blockquote>
<h3 id="泛型与子类继承的限制"><a class="markdownIt-Anchor" href="#泛型与子类继承的限制"></a> 泛型与子类继承的限制</h3>
<p>​		与普通类一样，泛型也可以作为父类或子类。普通类的继承规则包括成员的隐藏、重载和访问限制等，同样也适用于泛型类之间的继承。</p>
<h4 id="以泛型为父类"><a class="markdownIt-Anchor" href="#以泛型为父类"></a> 以泛型为父类</h4>
<p>​		当一个类的父类是泛型类时，该类也必定是泛型类，因为子类要将类型参数传递给父类。</p>
<p>代码示例14：(继承泛型类)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        setObj(obj);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">Generics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(obj);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span>			<span class="comment">//重写toString()方法</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getObj().toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Test&lt;String&gt; p=<span class="keyword">new</span> Test&lt;String&gt;(<span class="string">&quot;小强&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;对象内容：&quot;</span>+p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象内容：小强</span><br></pre></td></tr></table></figure>
<p>​		在上面程序中，子类Test类的泛型标标识也为T，这意味着传递给子类Test的实际类型也会传递给父类Generics。除此之外，子类还可以根据自身的需求增加泛型类型。如下范例。</p>
<p>代码示例15：(子类自身的需求增加泛型类型)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span>&lt;<span class="title">T</span>,<span class="title">S</span>&gt; <span class="keyword">extends</span> <span class="title">Generics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> S sub;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">(T obj,S sub)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(obj);</span><br><span class="line">        setSub(sub);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSub</span><span class="params">(S sub)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sub=sub;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> S <span class="title">getSub</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sub;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="string">&quot;姓名：&quot;</span>+getObj()+<span class="string">&quot;，年龄：&quot;</span>+getSub());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Test&lt;String,Integer&gt; p=<span class="keyword">new</span> Test&lt;String,Integer&gt;(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;对象内容：&quot;</span>+p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象内容：姓名：小强，年龄：<span class="number">18</span></span><br></pre></td></tr></table></figure>
<h4 id="以非泛型类为父类"><a class="markdownIt-Anchor" href="#以非泛型类为父类"></a> 以非泛型类为父类</h4>
<p>​		泛型类可以以泛型类做父类，这时不再需要传递参数给父类，所有的类型参数都是为自己准备的。</p>
<p>代码示例16：(泛型类继承普通类)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">Generics</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        setObj(obj);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span>			<span class="comment">//重写toString()方法</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getObj().toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span>  <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Test&lt;String&gt; p=<span class="keyword">new</span> Test&lt;String&gt;(<span class="string">&quot;小强&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;对象内容：&quot;</span>+p);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象内容：小强</span><br></pre></td></tr></table></figure>
<p>​		可以发现，泛型类和非泛型类在继承时的主要差别是：泛型类的子类必须将泛型父类所需要的类型参数沿着继承链向上传递。</p>
<h3 id="泛型接口"><a class="markdownIt-Anchor" href="#泛型接口"></a> 泛型接口</h3>
<p>​		在java中，不但可以定义泛型类，还可以定义泛型接口。泛型接口的定义与泛型类的定义是相似的，只需在接口名称后加上类型参数标识，其语法格式如下：</p>
<p>格式：(定义泛型接口)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[访问控制符] <span class="class"><span class="keyword">interface</span> 接口名称&lt;泛型类型标识&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//接口代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码示例17：(在子类后声明泛型的方式来实现泛型接口)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">InterGenerics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">InterGenerics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> T obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        setObj(obj);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(T obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getObj();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics&lt;Integer&gt; g=<span class="keyword">new</span> Generics&lt;Integer&gt;(<span class="number">45</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;对象内容：&quot;</span>+g.show());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象内容：<span class="number">45</span></span><br></pre></td></tr></table></figure>
<p>​		从上面程序可以看出，<strong>实现类Generics的类型参数与泛型接口的参数是一致的</strong>。</p>
<p>如果泛型接口声明为：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">InterGenerics</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Serializable</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>则实现类Generics必须声明为如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Serializable</span>&gt; <span class="keyword">implements</span> <span class="title">InterGenerics</span>&lt;<span class="title">T</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>若实现类Generics声明为以下格式是无法编译通过的：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Serializable</span>&gt; <span class="keyword">implements</span> <span class="title">InterGenerics</span>&lt;<span class="title">T</span> <span class="keyword">extends</span> <span class="title">Serializable</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​		子类还可以在实现泛型接口时明确地给出泛型类型，范例如下。</p>
<p>代码示例18：(子类在实现泛型接口时明确地给出泛型类型)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">InterGenerics</span>&lt;<span class="title">T</span>&gt;</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span> <span class="keyword">implements</span> <span class="title">InterGenerics</span>&lt;<span class="title">Integer</span>&gt;		//给出泛型类型</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer obj;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Generics</span><span class="params">(Integer obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        setObj(obj);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObj</span><span class="params">(Integer obj)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.obj=obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getObj</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">show</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getObj();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics g=<span class="keyword">new</span> Generics(<span class="number">87</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;对象内容：&quot;</span>+g.show());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对象内容：<span class="number">87</span></span><br></pre></td></tr></table></figure>
<p>​		在以上程序中，实现子类对象时，不需要再指定泛型类型，因为在声明子类时就已经指定了具体类型。</p>
<h3 id="泛型方法"><a class="markdownIt-Anchor" href="#泛型方法"></a> 泛型方法</h3>
<p>​		与普通的类和接口一样，除了的前面介绍定义泛型类和泛型接口外，还有一种泛型方法。<strong>泛型类在定义时需要在实例化时就指明类型</strong>，如果想换一种类型，不得不重新创建一次，不够灵活，而泛型方法可以在调用时指明类型。</p>
<h4 id="定义泛型方法"><a class="markdownIt-Anchor" href="#定义泛型方法"></a> 定义泛型方法</h4>
<p>​		一个方法若被声明为泛型方法，那么在泛型方法中可以定义泛型类型参数。与前面的泛型类和泛型接口不同的是，这些类型参数只能在它所修饰的泛型方法中使用。定义泛型方法的语法格式如下。</p>
<p>格式：(定义泛型方法)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[访问控制符] [<span class="keyword">static</span>|<span class="keyword">final</span>] &lt;泛型类型标识&gt;返回值类型 方法名(&#123;泛型类型标识 参数名&#125;)</span><br></pre></td></tr></table></figure>
<p>以上格式有几点需要注意：</p>
<ul>
<li>泛型方法可以写在泛型类或泛型接口中，也可以写在普通类或普通接口中。<strong>在泛型类或泛型接口中的方法本质上都是泛型方法</strong>，但在实际中很少在泛型类或泛型接口中显式定义泛型方法。</li>
<li>泛型类型标识可以用在方法体内的局部变量，也可以用在方法中的参数列表中，作为形参使用。</li>
<li>泛型方法可以被定义成实例方法，也可以被定义为静态方法，这也是与泛型类中的泛型方法的主要区别。</li>
</ul>
<p>代码示例19：(定义泛型方法)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">show</span><span class="params">(T t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">staticShow</span><span class="params">(T t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​		以上程序中定义了一个实例泛型方法和一个静态泛型方法，show()和staticShow()方法中使用了泛型操作，可以接收任意类型的数据，两者的返回值也是由泛型类型指定的。</p>
<h4 id="使用泛型方法"><a class="markdownIt-Anchor" href="#使用泛型方法"></a> 使用泛型方法</h4>
<p>​		使用泛型方法通常有以下两种格式。</p>
<p>格式一：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[对象名.|类名.]方法名(实参列表);</span><br></pre></td></tr></table></figure>
<p>格式二：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[对象名.|类名.]&lt;实际泛型类型&gt;方法名(实参列表);</span><br></pre></td></tr></table></figure>
<p>其中，需要注意的是：</p>
<ul>
<li>若泛型方法是实例方法时，可以通过对象调用</li>
<li>若泛型方法是静态方法时，可以通过对象调用，也可以直接通过类名来调用</li>
<li>若是在类内部调用泛型方法，可以省略对象名和类名</li>
</ul>
<p>代码示例20：(使用泛型方法)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Generics</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="function">T <span class="title">show</span><span class="params">(T t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">T <span class="title">staticShow</span><span class="params">(String str,T t)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Generics gen=<span class="keyword">new</span> Generics();</span><br><span class="line">        System.out.println(<span class="string">&quot;姓名：&quot;</span>+gen.show(<span class="string">&quot;小强&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;年龄：&quot;</span> +Generics.staticShow(<span class="string">&quot;小强&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;姓名：&quot;</span>+gen.&lt;String&gt;show(<span class="string">&quot;小明&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;年龄：&quot;</span> +Generics.&lt;Integer&gt;staticShow(<span class="string">&quot;小明&quot;</span>,<span class="number">19</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">姓名：小强</span><br><span class="line">年龄：<span class="number">18</span></span><br><span class="line">姓名：小明</span><br><span class="line">年龄：<span class="number">19</span></span><br></pre></td></tr></table></figure>
<p>​		在以上程序中，使用了两种形式调用泛型方法，格式一的形式显得更为简洁，在实际中使用最多的也是格式一的形式。但需要注意的是，在使用格式二的形式时，指定了具体的类型后，传入的类型要与其相符，若不相符，则会在编译时报错。如下所示。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Generics.&lt;Integer&gt;staticShow(<span class="string">&quot;小伟&quot;</span>,<span class="string">&quot;23&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>​		虽然使用格式一的形式比较方便。但在某些情况下，实参不能提供足够的类型信息给编译器时，就需使用格式二的形式。</p>
<p>参考链接：</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/hehe001/p/6334779.html">Java中的泛型类和泛型方法区别和联系 - 哼哼唧唧 - 博客园 (cnblogs.com)</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/sun10367/p/13597047.html#32-">Java集合之泛型类和泛型接口 - sun10367 - 博客园 (cnblogs.com)</a></p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/10/%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%B1%BB%EF%BC%9ANumberFormat%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/10/%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%B1%BB%EF%BC%9ANumberFormat%E7%B1%BB/" class="post-title-link" itemprop="url">格式化类：NumberFormat类</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-10 15:28:01" itemprop="dateCreated datePublished" datetime="2021-08-10T15:28:01+08:00">2021-08-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-18 16:57:56" itemprop="dateModified" datetime="2021-08-18T16:57:56+08:00">2021-08-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/10/%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%B1%BB%EF%BC%9ANumberFormat%E7%B1%BB/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/10/%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%B1%BB%EF%BC%9ANumberFormat%E7%B1%BB/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		数值是程序设计中经常要处理的数据，可以根据不同的需求，显示不同的样式或格式。在java中可以使用NumberFormat类实现。</p>
<p>​		java.text.NumberFormat类是用于数字的格式化类，可以根据需求进行数字的格式显示。NumberFormat类的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">NumbrerFormat</span> <span class="keyword">extends</span> <span class="title">Format</span></span></span><br></pre></td></tr></table></figure>
<p>​		可以看出<strong>NumberFormat是抽象类，所以不能使用new关键字为其实例化，可以通过NumberFormat类的静态方法为其实例化</strong>。NumberFormat类的常用方法如下表所示：</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public static Locale[] getAvailableLocales()</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回所有语言环境的数组</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public Currency getCurrency()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取格式化货币值时此数字格式使用的货币符号</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">pubclic static format(double number)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">规范格式</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public static NumberFormat getCurrencyInstance()</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回当前默认语言环境的<strong>货币格式符号</strong></td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public static NumberFormat getCurrencyInstance(Locale inLocale)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回指定语言环境的货币格式符号</td>
</tr>
<tr>
<td style="text-align:center"><strong>6</strong></td>
<td style="text-align:center"><strong>public static NumberFormat getInstance()</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回当前默认语言环境的数字格式</strong></td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public static NumberFormat getInstance(Locale inLocale)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回指定语言环境的<strong>数字格式</strong></td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public static NumberFormat getIntegerInstance()</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回当前默认语言环境的<strong>整数格式</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>9</strong></td>
<td style="text-align:center"><strong>public static NumberFormat getIntegerInstance(Locale inLocale)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回指定语言环境的整数格式</strong></td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public static NumberFormat getNumberInstance()</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回当前默认语言环境的<strong>通用数字格式</strong></td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">public static NumberFormat getNumberInstance(Locale inLocale)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回指定语言环境的通用数字格式</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public static NumberFormat getPercentInstance()</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回当前默认语言环境的<strong>百分比格式</strong></td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">public static NumberFormat getPercentInstance(Locale inLocale)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回指定语言环境的百分比格式</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">public Number parse(String source)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将给定包含数字的字符串，解析为一个数字</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">public void setCurrency(Currency currency)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获取格式化货币值时此数字格式使用的货币</td>
</tr>
</tbody>
</table>
<p>​		一旦取得NumberFormat对象，就可以调用NumberFormat对象的format()方法来格式化数值。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.text.NumberFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;———默认格式(中文)———&quot;</span>);</span><br><span class="line">        NumberFormat nf1=NumberFormat.getInstance();	<span class="comment">//默认格式</span></span><br><span class="line">        System.out.println(nf1.format(<span class="number">1000000000</span>));		<span class="comment">//格式化数据</span></span><br><span class="line">        System.out.println(nf1.format(<span class="number">1234567.89</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;———指定格式(德国)———&quot;</span>);</span><br><span class="line">        NumberFormat nf2=NumberFormat.getIntegerInstance(Locale.GERMAN);	<span class="comment">//整数格式(德国)</span></span><br><span class="line">        System.out.println(nf2.format(<span class="number">1000000000</span>));		<span class="comment">//格式化数据</span></span><br><span class="line">        System.out.println(nf2.format(<span class="number">1234567.89</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;———指定格式(美国)———&quot;</span>);</span><br><span class="line">        NumberFormat nf3=NumberFormat.getCurrencyInstance(Locale.US);	<span class="comment">//货币格式(美国)</span></span><br><span class="line">        System.out.println(nf3.format(<span class="number">1000000000</span>));		<span class="comment">//格式化数据</span></span><br><span class="line">        System.out.println(nf3.format(<span class="number">1234567.89</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;———默认格式(中文)———&quot;</span>);</span><br><span class="line">        NumberFormat nf4=NumberFormat.getPercentInstance();		<span class="comment">//默认百分比格式</span></span><br><span class="line">        System.out.println(nf4.format(<span class="number">0.123</span>));			<span class="comment">//格式化数据</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">———默认格式(中文)———</span><br><span class="line"><span class="number">1</span>,<span class="number">000</span>,<span class="number">000</span>,<span class="number">000</span></span><br><span class="line"><span class="number">1</span>,<span class="number">234</span>,<span class="number">567.89</span></span><br><span class="line">———指定格式(德国)———</span><br><span class="line"><span class="number">1.000</span><span class="number">.000</span><span class="number">.000</span></span><br><span class="line"><span class="number">1.234</span><span class="number">.568</span></span><br><span class="line">———指定格式(美国)———</span><br><span class="line">$<span class="number">1</span>,<span class="number">000</span>,<span class="number">000</span>,<span class="number">000.00</span></span><br><span class="line">$<span class="number">1</span>,<span class="number">234</span>,<span class="number">567.89</span></span><br><span class="line">———默认格式(中文)———</span><br><span class="line"><span class="number">12</span>%</span><br></pre></td></tr></table></figure>
<p>​		以上程序中，由于测试程序的操作系统是中文的，所以默认格式为中文格式。在指定不同的国家地区后，显示格式也发生了变化，表现出了国际化的作用。从程序的运行结果可以看出，中国是采用(,)作为数字分组分隔符的，而德 国是采用(.)作为数字分组分隔符。</p>
<h4 id="知识扩展decimalformat类"><a class="markdownIt-Anchor" href="#知识扩展decimalformat类"></a> 知识扩展：DecimalFormat类</h4>
<p>​		DecimalFormat是NumberFormat的一个具体子类，用于格式化十进制数字，使用该类格式化数字要比直接NumberFormat更加方便。</p>
<p>​		DecimalFormat类设计有各种功能，使其能够分析和格式化任意语言环境中的数，包括对西方语言、阿拉伯语和印度语数字的支持。它还支持不同类型的数，包括整数(123)、定点数(123.4)、科学记数法表示的数(1.23E4)、百分数(12%)和金额($123)，所有这些内容都可以本地化。</p>
<p><strong>未完待续。。。。(有时间再补)</strong></p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/10/%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%B1%BB%EF%BC%9ARandom%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/10/%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%B1%BB%EF%BC%9ARandom%E7%B1%BB/" class="post-title-link" itemprop="url">随机数类：Random类</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-10 09:42:45" itemprop="dateCreated datePublished" datetime="2021-08-10T09:42:45+08:00">2021-08-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-18 15:45:32" itemprop="dateModified" datetime="2021-08-18T15:45:32+08:00">2021-08-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/10/%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%B1%BB%EF%BC%9ARandom%E7%B1%BB/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/10/%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%B1%BB%EF%BC%9ARandom%E7%B1%BB/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		在程序设计中，经常需要产生一些随机数值，如贪吃蛇中的食物出现位置。在java中除了可以使用Math类中的random()方法获得随机数，还可以使用Random类。</p>
<p>​		Random类是在java.util包中，是专门用于提供生成一个随机数的类，随机数字的生成相关方法都包含在该类的内部。Random类可以指定一个随机数值范围，随机数均在这个范围内产生。Random类的常用方法如下表所示。</p>
<p><strong>注意：这里所谓的随机数并不完全是随机数，所谓随机数其实是伪随机数，所谓的‘伪’，意思是这些数其实是有规律的，只不过因为算法规律太复杂，很难看出来。</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public Random()</strong></td>
<td style="text-align:center"><strong>构造</strong></td>
<td style="text-align:center"><strong>该构造方法使用一个与当前系统时间毫秒相对应的数字值作为种子数，然后使用这个种子数构造Random对象</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>2</strong></td>
<td style="text-align:center"><strong>public Random(long seed)</strong></td>
<td style="text-align:center"><strong>构造</strong></td>
<td style="text-align:center"><strong>该构造方法通过指定的数值作为种子数构造Random对象</strong></td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">protected int next(int bits)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">生成下一个随机数</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public booleannextBoolean()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">生成一个boolean类型的随机数</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public void nextBytes(byte[] bytes)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">生成随机字节并将其置于用户提供的字节数组中</td>
</tr>
<tr>
<td style="text-align:center"><strong>6</strong></td>
<td style="text-align:center"><strong>public nextDouble()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>生成一个double类型的随机数，可更改为int，double，float，long类型</strong></td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public double nextGaussian()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">生成一个高斯类型的随机数。是从此随机数生成器的序列中取出的、呈高斯分布double值，其平均值是0.0，标准差是1.0</td>
</tr>
<tr>
<td style="text-align:center"><strong>8</strong></td>
<td style="text-align:center"><strong>public nextInt(int n)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>生成一个 int 类型的随机数，该值取值范围 0～n，包含 0 但不包含 n</strong></td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public void setSeed(long seed)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">重新设置Random对象的种子数</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public int nextInt()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">生成一个int类型的随机数，可更改为float，long类型</td>
</tr>
</tbody>
</table>
<p>​		在进行随机时，生成伪随机数时需要指定的随机抽样起点，随机算法的抽样起点称为种子数(seed)。这个seed的选取是随意的，只要你设置的seed是一样的，就保证得到同样的一组随机模拟数据。若没有指定种子数，将使用系统时间对应的毫秒数作为种子。</p>
<h4 id="生成指定区域内的随机数"><a class="markdownIt-Anchor" href="#生成指定区域内的随机数"></a> 生成指定区域内的随机数</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Random rd=<span class="keyword">new</span> Random();</span><br><span class="line">        System.out.println(<span class="string">&quot;生成0~1.0的随机小数：&quot;</span>+rd.nextDouble());</span><br><span class="line">        System.out.println(<span class="string">&quot;生成0~10.0的随机小数：&quot;</span>+rd.nextDouble()*<span class="number">10</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;生成5~15的随机整数：&quot;</span>+(rd.nextInt(<span class="number">10</span>)+<span class="number">5</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;生成0~100的随机整数：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(rd.nextInt(<span class="number">100</span>)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">生成<span class="number">0</span>~<span class="number">1.0</span>的随机小数：<span class="number">0.11398530592772715</span></span><br><span class="line">生成<span class="number">0</span>~<span class="number">10.0</span>的随机小数：<span class="number">9.395734031963132</span></span><br><span class="line">生成<span class="number">5</span>~<span class="number">15</span>的随机整数：<span class="number">10</span></span><br><span class="line">生成<span class="number">0</span>~<span class="number">100</span>的随机整数：</span><br><span class="line"><span class="number">42</span> <span class="number">7</span> <span class="number">13</span> <span class="number">74</span> <span class="number">82</span> <span class="number">21</span> <span class="number">48</span> <span class="number">34</span> <span class="number">17</span> <span class="number">9</span></span><br></pre></td></tr></table></figure>
<p>​		以上程序中，rd.nextDouble()生成的是一个0~1的随机小数。而rd.nextInt()则会生成的是-2<sup>31</sup>～2<sup>31</sup>-1 区域内的随机数。若想生成一个介于[0,n]区间的随机整数，则需要使用rd.nextInt(n)。</p>
<h4 id="使用相同种子数生成随机数"><a class="markdownIt-Anchor" href="#使用相同种子数生成随机数"></a> 使用相同种子数生成随机数</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Random r1=<span class="keyword">new</span> Random(<span class="number">100</span>);</span><br><span class="line">        Random r2=<span class="keyword">new</span> Random(<span class="number">100</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;种子数为100的Random对象：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(r1.nextInt(<span class="number">100</span>)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;\n种子数为100的Random对象：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(r2.nextInt(<span class="number">100</span>)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">种子数为<span class="number">100</span>的Random对象：</span><br><span class="line"><span class="number">15</span> <span class="number">50</span> <span class="number">74</span> <span class="number">88</span> <span class="number">91</span> <span class="number">66</span> <span class="number">36</span> <span class="number">88</span> <span class="number">23</span> <span class="number">13</span></span><br><span class="line">种子数为<span class="number">100</span>的Random对象：</span><br><span class="line"><span class="number">15</span> <span class="number">50</span> <span class="number">74</span> <span class="number">88</span> <span class="number">91</span> <span class="number">66</span> <span class="number">36</span> <span class="number">88</span> <span class="number">23</span> <span class="number">13</span></span><br></pre></td></tr></table></figure>
<p>​		以上程序中，对象 r1 和 r2 均是通过指定种子数为 100 构造的，而这两个 对象在相同次数内生成的随机数是完全一样的。所以为了避免这样的情况，无论程序中需 要生成多少个随机数，都只使用一个 Random 对象。</p>
<p>参考链接：</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41013470/article/details/82956178">关于随机种子seed()的一点理解_深蓝色的鬼的博客-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://bbs.pinggu.org/thread-1521199-1-1.html">SAS中seed（种子）的数目是什么意思 - SAS专版 - 经管之家(原人大经济论坛) (pinggu.org)</a></p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/09/%E6%95%B0%E5%AD%A6%E7%B1%BB%EF%BC%9AMath%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/09/%E6%95%B0%E5%AD%A6%E7%B1%BB%EF%BC%9AMath%E7%B1%BB/" class="post-title-link" itemprop="url">数学类：Math类</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-09 21:41:12" itemprop="dateCreated datePublished" datetime="2021-08-09T21:41:12+08:00">2021-08-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-18 10:53:30" itemprop="dateModified" datetime="2021-08-18T10:53:30+08:00">2021-08-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/09/%E6%95%B0%E5%AD%A6%E7%B1%BB%EF%BC%9AMath%E7%B1%BB/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/09/%E6%95%B0%E5%AD%A6%E7%B1%BB%EF%BC%9AMath%E7%B1%BB/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		在前面，我们学习过java的基本运算符运算&quot;+&quot;、“-&quot;、“*”、“/&quot;、“%”等，但是对较为复杂的运算，如三角函数、指数函数和绝对值函数等运算时，基本运算符就显得力不从心了。为此，java提供了java.lang.Math类来完成这些复杂的运行。</p>
<p>​		Math类是数学操作类，提供一系列的数学运算方法，包括求绝对值、三角函数、指数函数和绝对值函数等。在Math类中提供的方法都是静态方法，既可以通过“类名.方法()”的形式调用，无需通过Math类的对象。Math类提供了功能不同的数学函数，下面将他们分类列出，如以下表格所示。</p>
<h4 id="math类的绝对值函数"><a class="markdownIt-Anchor" href="#math类的绝对值函数"></a> Math类的绝对值函数</h4>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public static double abs(double a)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回double值的绝对值，可更改为int、float、long型</strong></td>
</tr>
</tbody>
</table>
<h4 id="math类的最大值最小值函数"><a class="markdownIt-Anchor" href="#math类的最大值最小值函数"></a> Math类的最大值最小值函数</h4>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public static double max(double a,double b)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回两个double值中较大的一个，可更改为int、float、long型</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>2</strong></td>
<td style="text-align:center"><strong>public static double min(double a,double b)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回两个double值中较小的一个，可更改为int、float、long型</strong></td>
</tr>
</tbody>
</table>
<h4 id="math类的取整函数"><a class="markdownIt-Anchor" href="#math类的取整函数"></a> Math类的取整函数</h4>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public static double ceil(double a)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">向上取整</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public static double floor(double)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">向下取整</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public static double rint(double a)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">最接近a的<strong>整数值</strong>，如果有两个同样接近的整数，则结果取平均值</td>
</tr>
<tr>
<td style="text-align:center"><strong>4</strong></td>
<td style="text-align:center"><strong>public static int round(int a)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>将a四舍五入，可更改为long型</strong></td>
</tr>
</tbody>
</table>
<h4 id="math类的三角函数"><a class="markdownIt-Anchor" href="#math类的三角函数"></a> Math类的三角函数</h4>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public static double sin(double a)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回叫的三角正弦</strong></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public static double asin(double a)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回叫的三角反正弦，范围为在-π/2～π/2 之间</td>
</tr>
<tr>
<td style="text-align:center"><strong>3</strong></td>
<td style="text-align:center"><strong>public static double cos(double a)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回叫的三角余弦</strong></td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public static double acos(double a)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回角的反余弦，范围在 0～π 之间</td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public static double tan(double a)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回叫的三角正切</strong></td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public static double atan(double a)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回角的反正切，范围在-π/2～π/2 之间</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public static double toDegress(double a)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">将用弧度测量的角转换为近似相等的用度数测量的角</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public static double toRadians(double a)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">将用度数测量的角转换为近似相等的用弧度测量的角</td>
</tr>
</tbody>
</table>
<h4 id="math类的幂与开发函数"><a class="markdownIt-Anchor" href="#math类的幂与开发函数"></a> Math类的幂与开发函数</h4>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public static double cbrt(double a)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回 a 的立方根</strong></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public static double exp(double a)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回欧拉数e的double次幂的值，e<sup>a</sup></td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public static double expm1(double a)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回e<sup>x</sup>-1</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public static double pow(double a，double b)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回a的b次幂的值，a<sup>b</sup></td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public static double sqrt(double a)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回a值的正平方根，若 参数a是 NaN 或小于 0，那么结果是NaN</strong></td>
</tr>
</tbody>
</table>
<h4 id="math类的对数函数"><a class="markdownIt-Anchor" href="#math类的对数函数"></a> Math类的对数函数</h4>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public static double log(double a)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回 lna 的值</strong></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public static double log10(double a)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回 log<sub>10</sub><sup>a</sup> 的值</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public static double log1p(double x)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回 ln(x+1) 的值</td>
</tr>
</tbody>
</table>
<h4 id="math类的随机数"><a class="markdownIt-Anchor" href="#math类的随机数"></a> Math类的随机数</h4>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public static double random()</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回带正号的double值，范围为0.0~1.0</strong></td>
</tr>
</tbody>
</table>
<h4 id="math类中常量"><a class="markdownIt-Anchor" href="#math类中常量"></a> Math类中常量</h4>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public  static double E</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">数学常量e</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public static double PI</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">圆周率π</td>
</tr>
</tbody>
</table>
<p>​		在进行各种数学运算的时候，时常会运用到这些函数。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;绝对值函数：10.02=&quot;</span>+Math.abs(<span class="number">10.02D</span>)+<span class="string">&quot;，-10.02=&quot;</span>+Math.abs(-<span class="number">10.02D</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;最大值最小值(23,12)：最大值：&quot;</span>+Math.max(<span class="number">23</span>,<span class="number">12</span>)+<span class="string">&quot;，最小值：&quot;</span>+Math.min(<span class="number">23</span>,<span class="number">12</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;四舍五入：13.6=&quot;</span>+Math.round(<span class="number">13.6</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;三角函数：sin(30)=&quot;</span>+Math.sin(<span class="number">30</span>)+<span class="string">&quot;，cos(60)=&quot;</span>+Math.cos(<span class="number">60</span>)+<span class="string">&quot;，tan(45)=&quot;</span>+Math.tan(<span class="number">45</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;开方函数：16的开方=&quot;</span>+Math.sqrt(<span class="number">16</span>)+<span class="string">&quot;，8的立方根=&quot;</span>+Math.cbrt(<span class="number">8</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;对数函数：ln(10)=&quot;</span>+Math.log(<span class="number">10</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;随机数：范围为0~10=&quot;</span>+Math.random()*<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">绝对值函数：<span class="number">10.02</span>=<span class="number">10.02</span>，-<span class="number">10.02</span>=<span class="number">10.02</span></span><br><span class="line">最大值最小值(<span class="number">23</span>,<span class="number">12</span>)：最大值：<span class="number">23</span>，最小值：<span class="number">12</span></span><br><span class="line">四舍五入：<span class="number">13.6</span>=<span class="number">14</span></span><br><span class="line">三角函数：sin(<span class="number">30</span>)=-<span class="number">0.9880316240928618</span>，cos(<span class="number">60</span>)=-<span class="number">0.9524129804151563</span>，tan(<span class="number">45</span>)=<span class="number">1.6197751905438615</span></span><br><span class="line">开方函数：<span class="number">16</span>的开方=<span class="number">4.0</span>，<span class="number">8</span>的立方根=<span class="number">2.0</span></span><br><span class="line">对数函数：ln(<span class="number">10</span>)=<span class="number">2.302585092994046</span></span><br><span class="line">随机数：范围为<span class="number">0</span>~<span class="number">10</span>=<span class="number">1.5633001947083047</span></span><br></pre></td></tr></table></figure>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/09/%E6%97%A5%E6%9C%9F%E6%93%8D%E4%BD%9C%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/09/%E6%97%A5%E6%9C%9F%E6%93%8D%E4%BD%9C%E7%B1%BB/" class="post-title-link" itemprop="url">日期操作类</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-09 08:04:12" itemprop="dateCreated datePublished" datetime="2021-08-09T08:04:12+08:00">2021-08-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-17 18:05:18" itemprop="dateModified" datetime="2021-08-17T18:05:18+08:00">2021-08-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/09/%E6%97%A5%E6%9C%9F%E6%93%8D%E4%BD%9C%E7%B1%BB/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/09/%E6%97%A5%E6%9C%9F%E6%93%8D%E4%BD%9C%E7%B1%BB/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		在程序开发中，经常会遇到日期类型的操作，日期处理是程序员必须具备的一种常用技能。在不同的程序设计语言中提供了不同的格式进行实现，在java中，对日期的处理提供了优秀的支持，主要用到了java.util包中的Date类、Calendar类，以及java.text包中的DateFormat类和SimpledataFormat类。下面将介绍讲解 Java 语言的时间和日期处理技术。</p>
<h3 id="简单日期操作类date类"><a class="markdownIt-Anchor" href="#简单日期操作类date类"></a> 简单日期操作类：Date类</h3>
<p>​		java.util.Date类是一个简单的日期处理类。在JDK1.0时，Date类是唯一的一个代表时间的类，它包含了一些关于时间和日期操作的方法，可将日期分为年、月、日、时、分、秒。Date类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public Date()</strong></td>
<td style="text-align:center"><strong>构造</strong></td>
<td style="text-align:center"><strong>生成一个Date对象，以表示分配它的时间(精确到毫秒)。该构造方法调用 Systems.currentTimeMillis()方法获取当前时间。即new Date() 等价于new  Date(System.currentTimeMillis())</strong></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public Date(long date)</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">根据指定的 long 类型的值来生成一个Date对象，date表示自从标准基准时(也称历元，即1970年1月1日00:00:00GMT)以来的时间差，以 ms 为单位</td>
</tr>
<tr>
<td style="text-align:center"><strong>3</strong></td>
<td style="text-align:center"><strong>public boolean after(Date when)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>测试此日期是否在指定日期之后</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>4</strong></td>
<td style="text-align:center"><strong>public boolean before(Date when)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>测试此日期是否在指定日期之前</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public int compareTo(Date anotherDate)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>比较两个日期的顺序，若早，则返回-1，相等则返回0，若晚，则返回1</strong></td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public boolean equals(Object obj)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">比较两个日期的相等性</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public long getTime()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回自1970年1月1日00:00:00GMT到指定Date对象的时间插，以ms为单位</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public setTime(long time)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">设置此Date对象，以表示1970年1月1日00:00:00GMT以后time毫秒的时间点</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public String toString()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">把此Date对象转换为以下字符串形式表现：dow mon  dd hh:mm:ss zzz yyyy 其中：dow 是一周中的某一天 (Sun，Mon，Tue，Wed，Thu，Fri，Sat)</td>
</tr>
</tbody>
</table>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Date date1=<span class="keyword">new</span> Date();			<span class="comment">//获取当前时间</span></span><br><span class="line">        Date date2=<span class="keyword">new</span> Date(System.currentTimeMillis()+<span class="number">123</span>);		<span class="comment">//当前时间+123ms</span></span><br><span class="line">        System.out.println(<span class="string">&quot;时间：&quot;</span>+date1);</span><br><span class="line">        System.out.println(<span class="string">&quot;时间差：&quot;</span>+date2.getTime()+<span class="string">&quot;ms&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;date1与date2的比较：&quot;</span>+date1.compareTo(date2));</span><br><span class="line">        System.out.println(<span class="string">&quot;date2与date1的比较：&quot;</span>+date2.compareTo(date1));</span><br><span class="line">        System.out.println(<span class="string">&quot;date1是否比date2早&quot;</span>+date1.before(date2));</span><br><span class="line">        System.out.println(<span class="string">&quot;date1是否比date2晚&quot;</span>+date1.after(date2));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">时间：Mon Aug 09 08:<span class="number">33</span>:<span class="number">27</span> CST <span class="number">2021</span></span><br><span class="line">时间差：1628469207183ms</span><br><span class="line">date1与date2的比较：-<span class="number">1</span></span><br><span class="line">date2与date1的比较：<span class="number">1</span></span><br><span class="line">date1是否比date2早<span class="keyword">true</span></span><br><span class="line">date1是否比date2晚<span class="keyword">false</span></span><br></pre></td></tr></table></figure>
<p>​		Date类中的很多方法已经不被推进使用了，功能大减。而且Date类不便于实现国际化，所以从JDK1.1开始，推荐使用Calendar类进行时间和日期处理。</p>
<h3 id="日期抽象类calendar类"><a class="markdownIt-Anchor" href="#日期抽象类calendar类"></a> 日期抽象类：Calendar类</h3>
<p>​		由于前面的Date类在设计上存在一些缺陷，为此java语言提供了更好的Calendar类。java.util.Calendar类可以取得时间精确度达到ms级别。该类的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Calender</span> <span class="keyword">extends</span> <span class="title">Object</span> <span class="keyword">implements</span> <span class="title">Serializable</span>,<span class="title">Cloneable</span>,<span class="title">Comparable</span>&lt;<span class="title">Calendar</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>​		可以发现Calendar类是抽象类，所以不能使用new关键字为其实例化。创建Calendar类的实例有两种方式：</p>
<p>1、通过Calendar的子类GregorianCalendar为其实例化。</p>
<p>2、通过Calendar类中的getInstance()方法。</p>
<p>​		通过Calendar的对象可以对日期时间进行一系列的处理，Calendar类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public abstract void add(int field,int amount)</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">根据日历的规则，为给定的日历字段field添加或减去指定的时间量</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public boolean after(Object when)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">判断此Calendar表示的时间是否在值得Object表示的时间之后，返回判断结果</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public boolean before(Object when)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">判断此Calendar表示的时间是否在值得Object表示的时间之前，返回判断结果</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public void clear()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">清空Calendar中的日期时间值</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public int compareTo(Calendar anotherCalendar)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">比较两个Calendar对象表示的时间值(从历元至现在的毫秒偏移量)，若小，则返回-1，相等返回0，若大返回1</td>
</tr>
<tr>
<td style="text-align:center"><strong>6</strong></td>
<td style="text-align:center"><strong>public int get(int field)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>返回给定日历字段的值</strong></td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public int getActualMaximun(int field)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">给定此Calendar的时间值，返回指定日历字段可能具有的 Calenda最大值</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public int getActualMinimum(int field)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">给定此Calendar的时间值，返回指定日历字段可能具有的 Calenda最小值</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public static Locale[] getAvailableLocales()</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回所有语言环境的数组，此类的getInstance()方法可以为其返回本地化的实例</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public int getFirstDayOfWeek()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获得一星期的第一天，根据不同的国家地区，返回不同的值。例如，在美国，这一天是Sunday，而在中国，这一天是Monday</td>
</tr>
<tr>
<td style="text-align:center"><strong>11</strong></td>
<td style="text-align:center"><strong>public static Calendar getInstance()</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>使用默认时区和默认语言环境获得一个日历</strong></td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public static Calendar getInstance(Locale aLocale)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">使用默认时区和指定语言环境获得一个日历</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">public static Calendar getInstance(TimeZone zone)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">使用指定时区和默认语言环境获得一个日历</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">public static Calendar getInstance(TimeZone zone,Locale aLocale)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">使用指定时区和指定语言环境获得一个日历</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">public Date getTime()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回一个表示此Calendar时间值(从历元至现在的ms偏移量)的Date对象</td>
</tr>
<tr>
<td style="text-align:center">16</td>
<td style="text-align:center">public long getTimeMillis()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回指定Calendar的时间值，以ms为单位</td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">public TimeZone getTimeZone()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获得时区</td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">public void set(int field,int value)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将给定的日历字段设置为给定值</td>
</tr>
<tr>
<td style="text-align:center">19</td>
<td style="text-align:center">public void set(int year,int month,int date)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">设置日历字段 YEAR 、MONTH和DAY_OF_MONTH的值</td>
</tr>
<tr>
<td style="text-align:center">20</td>
<td style="text-align:center">public void set(int year,int month,int date,int hourOfDay,int minute)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">设置日历字段 YEAR 、MONTH、DAY_OF_MONTH、HOUR_OF_DAY和MINUTE的值</td>
</tr>
<tr>
<td style="text-align:center">21</td>
<td style="text-align:center">public void set(int year,int month,int date,int hourOfDay,int minute,int second)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">设置日历字段 YEAR 、MONTH、DAY_OF_MONTH、HOUR_OF_DAY、MINUTE和SECOND的值</td>
</tr>
<tr>
<td style="text-align:center">22</td>
<td style="text-align:center">public setFirstDayOfWeek(int value)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">设置一星期的第一天是哪一天，根据不同的国家地区，返回不同的值</td>
</tr>
<tr>
<td style="text-align:center">23</td>
<td style="text-align:center">public void setTime(Date date)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">使用给定的Date设置此Calendar的时间</td>
</tr>
<tr>
<td style="text-align:center">24</td>
<td style="text-align:center">public void setTimeInMillis(long millis)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">用给定的long值设置此Calendar的当前时间值</td>
</tr>
<tr>
<td style="text-align:center">25</td>
<td style="text-align:center">public void setTimeZone(TimeZone value)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">使用给定的时区值来设置时区</td>
</tr>
<tr>
<td style="text-align:center">26</td>
<td style="text-align:center">public String toString()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此日历的字符串表示</td>
</tr>
</tbody>
</table>
<p>​		在Calendar类中除了存在功能强大的方法之外，还有众多的常量，下表列出一些常用的常量，更多的常量可前往API帮助文档内查看。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">常量</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public static int DATE</td>
<td style="text-align:center">表示一个月中的某天</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public static int DAY_OF_MONTH</td>
<td style="text-align:center">表示一个月中的某天</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public static int DAY_OF_WEEK</td>
<td style="text-align:center">表示一个星期中的某天</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public static int DAY_OF_WEEK_IN_MONTH</td>
<td style="text-align:center">表示当前月中的第几个星期</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public static int DAY_OF_YEAR</td>
<td style="text-align:center">表示当前年中的天数</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public static int MINUTE</td>
<td style="text-align:center">表示一小时中的分钟</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public static int SECOND</td>
<td style="text-align:center">表示一分钟中的秒</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public static int MONTH</td>
<td style="text-align:center">表示月份</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public static int HOUR</td>
<td style="text-align:center">表示上午或下午的小时</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public static int HOUR_OF_DAY</td>
<td style="text-align:center">表示一天中的小时</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">public static int WEEK_OF_MONTH</td>
<td style="text-align:center">表示当前月中的星期数</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public static int WEEK_OF_YEAR</td>
<td style="text-align:center">表示当前年中的星期数</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">public static int YEAR</td>
<td style="text-align:center">表示年份</td>
</tr>
</tbody>
</table>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.GregorianCalendar;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Calendar cal1=Calendar.getInstance();</span><br><span class="line">        Calendar cal2=<span class="keyword">new</span> GregorianCalendar();</span><br><span class="line">        System.out.println(<span class="string">&quot;年份：&quot;</span>+cal1.get(Calendar.YEAR));</span><br><span class="line">        System.out.println(<span class="string">&quot;月份：&quot;</span>+(cal1.get(Calendar.MONTH)+<span class="number">1</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;号数：&quot;</span>+cal1.get(Calendar.DATE));</span><br><span class="line">        System.out.println(<span class="string">&quot;今年的第&quot;</span>+cal1.get(Calendar.DAY_OF_YEAR)+<span class="string">&quot;天&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;本月的第&quot;</span>+cal1.get(Calendar.DAY_OF_MONTH)+<span class="string">&quot;天&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;本月的第&quot;</span>+cal1.get(Calendar.DAY_OF_WEEK_IN_MONTH)+<span class="string">&quot;周&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;星期&quot;</span>+(cal1.get(Calendar.DAY_OF_WEEK)-<span class="number">1</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;24小时制：&quot;</span>+cal1.get(Calendar.HOUR_OF_DAY));</span><br><span class="line">        System.out.println(<span class="string">&quot;12小时制：&quot;</span>+cal1.get(Calendar.HOUR));</span><br><span class="line">        System.out.println(<span class="string">&quot;分钟：&quot;</span>+cal1.get(Calendar.MINUTE));</span><br><span class="line">        System.out.println(<span class="string">&quot;秒钟：&quot;</span>+cal1.get(Calendar.SECOND));</span><br><span class="line">        System.out.println(<span class="string">&quot;毫秒：&quot;</span>+cal1.get(Calendar.MILLISECOND));</span><br><span class="line">        System.out.println(<span class="string">&quot;日期：&quot;</span>+cal1.getTime());</span><br><span class="line">        cal2.set(<span class="number">2022</span>,<span class="number">1</span>,<span class="number">1</span>);			<span class="comment">//2022年的春节为2.1</span></span><br><span class="line">        <span class="keyword">long</span> time=cal2.getTimeInMillis()-cal1.getTimeInMillis();</span><br><span class="line">        <span class="keyword">long</span> day=time/(<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">1000</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;今天距离2022的春节还有&quot;</span>+day+<span class="string">&quot;天&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">年份：<span class="number">2021</span></span><br><span class="line">月份：<span class="number">8</span></span><br><span class="line">号数：<span class="number">9</span></span><br><span class="line">今年的第<span class="number">221</span>天</span><br><span class="line">本月的第<span class="number">9</span>天</span><br><span class="line">本月的第<span class="number">2</span>周</span><br><span class="line">星期<span class="number">1</span></span><br><span class="line"><span class="number">24</span>小时制：<span class="number">14</span></span><br><span class="line"><span class="number">12</span>小时制：<span class="number">2</span></span><br><span class="line">分钟：<span class="number">36</span></span><br><span class="line">秒钟：<span class="number">52</span></span><br><span class="line">毫秒：<span class="number">851</span></span><br><span class="line">日期：Mon Aug 09 <span class="number">14</span>:<span class="number">36</span>:<span class="number">52</span> CST <span class="number">2021</span></span><br><span class="line">今天距离<span class="number">2022</span>的春节还有<span class="number">176</span>天</span><br></pre></td></tr></table></figure>
<p>​		在以上程序中，cal1是通过Calendar类中的getInstance()方法实例化的，而cal2是通过Calendar的子类GregorianCalendar实例化的。其中，需要注意的是：第一，在Calendar类中，0表示1月份。第二，获取星期几时要减1，因为一个星期的第一天是从星期天开始算的。</p>
<h3 id="日期格式类dateformat类"><a class="markdownIt-Anchor" href="#日期格式类dateformat类"></a> 日期格式类：DateFormat类</h3>
<p>​		在程序设计中，日期和时间的处理要根据不同的需求显示不同的样式。前面学习到的Date类虽然可以获取精确的时间，但是显示格式不理想。为此java语言提供了java.textDateFormat类用于日期和时间的格式化处理。DateFormat类的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">DateFormat</span> <span class="keyword">extends</span> <span class="title">Format</span></span></span><br></pre></td></tr></table></figure>
<p>​		可以看出DateFormat类与前面的Calendar类一样作为抽象类，所以不能使用new关键字实例化，而是使用DateFormat类中提供的静态方法getDateFormat()实例化。DateFormat类的常用变量和方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public static int DEFAULT</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">用于默认模式的常量</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public static int FULL</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">用于FULL模式的常量</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public static int LONG</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">用于LONG模式的常量</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public static int MEDIUM</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">用于MEDIUM模式的常量</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public static int SHORT</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">用于SHORT模式的常量</td>
</tr>
<tr>
<td style="text-align:center"><strong>6</strong></td>
<td style="text-align:center"><strong>public String format(Date date)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>将一个Date格式化为日期/时间字符串</strong></td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public Calendar getCalendar()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获得此日期/时间格式关联的日历</td>
</tr>
<tr>
<td style="text-align:center"><strong>8</strong></td>
<td style="text-align:center"><strong>public static DateFormat getDateInstance()</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>获得日期格式，该格式具有默认FORMAT语言环境的默认格式化风格</strong></td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public static DateFormat getDateInstance(int style)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">获得日期格式，该格式具有默认语言环境的<strong>给定</strong>格式化风格</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public static DateFormat getDateInstance(int style,Locale aLocale)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">获得日期格式，该格式具有<strong>给定</strong>语言环境的<strong>给定</strong>格式化风格</td>
</tr>
<tr>
<td style="text-align:center"><strong>11</strong></td>
<td style="text-align:center"><strong>public static DateFormat getDateTimeInstance()</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>获得日期/时间格式，该格式具有默认语言环境的默认格式化风格</strong></td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public static DateFormat getDateTimeInstance(int dateStyle,int timeStyle)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">获得日期/时间格式，该格式具有给定语言环境的<strong>给定</strong>格式化风格</td>
</tr>
<tr>
<td style="text-align:center"><strong>13</strong></td>
<td style="text-align:center"><strong>public static  DateFormat getInstance()</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>获得使用SHORT风格的默认日期/时间格式</strong></td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">public NumberFormat getNumberFomat()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获得此日期/时间格式用于格式化和分析时间的数字</td>
</tr>
<tr>
<td style="text-align:center"><strong>15</strong></td>
<td style="text-align:center"><strong>public static DateFormat getTimeInstance()</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>获得时间格式，该格式具有默认语言环境的默认格式化风格</strong></td>
</tr>
<tr>
<td style="text-align:center">16</td>
<td style="text-align:center">public static DateFormat getTimeInstance(int style)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">获得时间格式，该格式具有默认语言环境的给定格式化风格</td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">public static DateFormat getTimeInstance(int style,Locale aLocale)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">获得时间格式，该格式具有给定语言环境的给定格式化风格</td>
</tr>
<tr>
<td style="text-align:center">18</td>
<td style="text-align:center">public TimeZone getTimeZone()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">获得时区</td>
</tr>
<tr>
<td style="text-align:center">19</td>
<td style="text-align:center">public Date parse(String source)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将给定的字符串解析成日期/时间</td>
</tr>
<tr>
<td style="text-align:center">20</td>
<td style="text-align:center">public void setCalendar(Calendar newCalendar)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">设置此日期格式所使用的日历</td>
</tr>
<tr>
<td style="text-align:center">21</td>
<td style="text-align:center">public void setNumberFormat(NumberFomat newNumberFomat)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">允许用户设置数字格式</td>
</tr>
<tr>
<td style="text-align:center">22</td>
<td style="text-align:center">public void setTimeZone(Timezone zone)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">指定DateFormat对象的日历设置时区</td>
</tr>
</tbody>
</table>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.text.DateFormat;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        DateFormat df1=DateFormat.getInstance();</span><br><span class="line">        DateFormat df2=DateFormat.getDateInstance();</span><br><span class="line">        DateFormat df3=DateFormat.getTimeInstance();</span><br><span class="line">        DateFormat df4=DateFormat.getDateTimeInstance();</span><br><span class="line">        System.out.println(<span class="string">&quot;默认：&quot;</span>+df1.format(<span class="keyword">new</span> Date()));</span><br><span class="line">        System.out.println(<span class="string">&quot;Date默认：&quot;</span>+df2.format(<span class="keyword">new</span> Date()));		<span class="comment">//格式化日期</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Time默认：&quot;</span>+df3.format(<span class="keyword">new</span> Date()));		<span class="comment">//格式化时间</span></span><br><span class="line">        System.out.println(<span class="string">&quot;DateTime默认：&quot;</span>+df4.format(<span class="keyword">new</span> Date()));	<span class="comment">//格式化日期时间</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">默认：<span class="number">21</span>-<span class="number">8</span>-<span class="number">9</span> 下午<span class="number">3</span>:<span class="number">27</span></span><br><span class="line">Date默认：<span class="number">2021</span>-<span class="number">8</span>-<span class="number">9</span></span><br><span class="line">Time默认：<span class="number">15</span>:<span class="number">27</span>:<span class="number">38</span></span><br><span class="line">DateTime默认：<span class="number">2021</span>-<span class="number">8</span>-<span class="number">9</span> <span class="number">15</span>:<span class="number">27</span>:<span class="number">38</span></span><br></pre></td></tr></table></figure>
<p>​		程序执行后显示的时间格式比前面的Date类和Calendar类输出的时间格式好一些，但不是很符合中文的显示格式。若想要显示更加合理的日期格式，在构造DateFormat实例时，可传入DateFormat的常量和Locale常量。</p>
<p>输出中文格式的日期：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"><span class="keyword">import</span> java.text.DateFormat;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        DateFormat dfSHORT=DateFormat.getDateTimeInstance(DateFormat.SHORT,DateFormat.SHORT,Locale.CHINA);</span><br><span class="line">        DateFormat dfMEDIUM=DateFormat.getDateTimeInstance(DateFormat.MEDIUM,DateFormat.MEDIUM,Locale.CHINA);</span><br><span class="line">        DateFormat dfDEFAULT=DateFormat.getDateTimeInstance(DateFormat.DEFAULT,DateFormat.DEFAULT,Locale.CHINA);</span><br><span class="line">        DateFormat dfFULL=DateFormat.getDateTimeInstance(DateFormat.FULL,DateFormat.FULL,Locale.CHINA);</span><br><span class="line">        DateFormat dfLONG=DateFormat.getDateTimeInstance(DateFormat.LONG,DateFormat.LONG,Locale.CHINA);</span><br><span class="line">        System.out.println(<span class="string">&quot;SHORT型：&quot;</span>+dfSHORT.format(<span class="keyword">new</span> Date()));</span><br><span class="line">        System.out.println(<span class="string">&quot;MEDIUM型：&quot;</span>+dfMEDIUM.format(<span class="keyword">new</span> Date()));</span><br><span class="line">        System.out.println(<span class="string">&quot;EFAULT型：&quot;</span>+dfDEFAULT.format(<span class="keyword">new</span> Date()));</span><br><span class="line">        System.out.println(<span class="string">&quot;FULL型：&quot;</span>+dfFULL.format(<span class="keyword">new</span> Date()));</span><br><span class="line">        System.out.println(<span class="string">&quot;fLONG型：&quot;</span>+dfLONG.format(<span class="keyword">new</span> Date()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SHORT型：<span class="number">21</span>-<span class="number">8</span>-<span class="number">9</span> 下午<span class="number">3</span>:<span class="number">53</span></span><br><span class="line">MEDIUM型：<span class="number">2021</span>-<span class="number">8</span>-<span class="number">9</span> <span class="number">15</span>:<span class="number">53</span>:<span class="number">59</span></span><br><span class="line">EFAULT型：<span class="number">2021</span>-<span class="number">8</span>-<span class="number">9</span> <span class="number">15</span>:<span class="number">53</span>:<span class="number">59</span></span><br><span class="line">FULL型：<span class="number">2021</span>年<span class="number">8</span>月<span class="number">9</span>日 星期一 下午<span class="number">03</span>时<span class="number">53</span>分<span class="number">59</span>秒 CST</span><br><span class="line">fLONG型：<span class="number">2021</span>年<span class="number">8</span>月<span class="number">9</span>日 下午<span class="number">03</span>时<span class="number">53</span>分<span class="number">59</span>秒</span><br></pre></td></tr></table></figure>
<p>​		以上程序，getDateTimeFormat()方法使用了三个参数，这是因为该方法获取的数据有两个，分别是日期和时间，所以参数的列表也应对应三个，分别为(int dateStyle,int TimeStyle,Locale aLocale)，以上表格为简化形式。</p>
<p>​		从程序的运行结果可以发现，FULL模式和LONG模式较好地符合了中国显示习惯。若开发人员想要得到自己定义的格式，需要用到DateFormat的子类SimpleDateFormat。</p>
<h3 id="转换日期格式类simpledateformat类"><a class="markdownIt-Anchor" href="#转换日期格式类simpledateformat类"></a> 转换日期格式类：SimpleDateFormat类</h3>
<p>​		在程序设计汇总，经常用到特定的日期时间格式，前面的DateFormat类明显不能满足要求，如将2021年8月9日 15:53:59转化为21年8月9日 15:53:59。这两个日期表示的都是同一个时间点，不同的是日期格式更加省略。</p>
<p>​		想要转换自定义格式，可以使用java.text.SimpleDateFormat类。SimpleDateFormat是以日期时间格式化类，一个与语言环境相关的方式和解析日期的具体类。</p>
<p>​		使用SimpleDateFormat类时，首先要定义一个完整的日期时间转换模板，在模板中可以通过特定的日期时间标记将一个日期时间的数字提取出来。日期时间格式模板中的字母及其含义如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">标记</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">y</td>
<td style="text-align:center">表示年份。一般使用yy标记两位年份，yyyy标记四位年份</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">M</td>
<td style="text-align:center">表示月份。一般使用MM标记两位年份，若使用MMM，则会根据语言环境的不同，显示不同的月份</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">d</td>
<td style="text-align:center">表示月份中的天数。一般使用dd表示天数</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">D</td>
<td style="text-align:center">表示年份中的天数。一般使用D表示当天是当年的第几天</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">E</td>
<td style="text-align:center">表示星期中的天数。使用E即可标记，会根据语言环境的不同，显示不同的星期几</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">H</td>
<td style="text-align:center">表示一天的小时数(24小时制)。一般使用HH标记</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">h</td>
<td style="text-align:center">表示一天的小时数(12小时制)。一般使用hh标记</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">m</td>
<td style="text-align:center">表示小时中的分钟数。一般使用mm标记</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">s</td>
<td style="text-align:center">表示分钟中的秒数。一般使用ss标记</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">S</td>
<td style="text-align:center">表示毫秒数。一般使用SSS标记</td>
</tr>
</tbody>
</table>
<p>​		处理使用以上的模板标记，还需要使用SimpleDateFormat类中的一些方法，常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public SimpleDateFormat()</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">用默认的模式和默认语言环境的日期格式符号构造SimpleDateFormat对象</td>
</tr>
<tr>
<td style="text-align:center"><strong>2</strong></td>
<td style="text-align:center"><strong>public SimpleDateFormat(String pattern)</strong></td>
<td style="text-align:center"><strong>构造</strong></td>
<td style="text-align:center"><strong>用给定的模式和默认语言环境的日期格式符号构造SimpleDateFormat对象</strong></td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public SimpleDateFormat(String pattern,Locale locale)</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">用给定的模式和给定的语言环境的默认日期格式符号构造SimpleDateFormat对象</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public void applyLocalizedPattren(String pattern)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将给定的本地化模式字符串应用于此日期格式</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public void applyPattern(String pattern)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将给定模式字符串应用与此日期格式</td>
</tr>
<tr>
<td style="text-align:center"><strong>6</strong></td>
<td style="text-align:center"><strong>public String format(Date date)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>将一个Date格式化为日期/时间字符串</strong></td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public StringBuffer format(Date date,StringBuffer toAppendTo,FieldPosition pos)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">将给定的Date格式化为日期/时间字符串，并将结果追加到给定的StringBuffer</td>
</tr>
<tr>
<td style="text-align:center"><strong>8</strong></td>
<td style="text-align:center"><strong>public public Date parse(String source) Throws ParseException</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>将一个包含日期的字符串转变为Date类型</strong></td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public Date parse(String text,ParsePosition pos)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">分析字符串的文本，生成Date</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public void setDateFormatSymbols(DateFormatSymbols newFormatSymbols)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">设置此日期格式的日期和时间格式符号</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">public String toLocalizePattern()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回描述此日期格式的本地化模式字符串</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public String toPattern()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回描述此日期格式的模式字符串</td>
</tr>
</tbody>
</table>
<h4 id="使用指定的格式模板输出日期和时间"><a class="markdownIt-Anchor" href="#使用指定的格式模板输出日期和时间"></a> 使用指定的格式模板输出日期和时间</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        String format1=<span class="string">&quot;yyyy年MM月dd日 HH:mm:ss E&quot;</span>;			<span class="comment">//指定日期时间格式模板</span></span><br><span class="line">        String format2=<span class="string">&quot;yyyy年MM月dd日 HH时mm分ss秒SSS E&quot;</span>;</span><br><span class="line">        SimpleDateFormat sdf1=<span class="keyword">new</span> SimpleDateFormat(format1);	<span class="comment">//使用指定模板实例化对象</span></span><br><span class="line">        SimpleDateFormat sdf2=<span class="keyword">new</span> SimpleDateFormat(format2);</span><br><span class="line">        String d1=sdf1.format(<span class="keyword">new</span> Date());</span><br><span class="line">        String d2=sdf2.format(<span class="keyword">new</span> Date());</span><br><span class="line">        System.out.println(d1);</span><br><span class="line">        System.out.println(d2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2021</span>年08月09日 <span class="number">16</span>:<span class="number">57</span>:<span class="number">47</span> 星期一</span><br><span class="line"><span class="number">2021</span>年08月09日 <span class="number">16</span>时<span class="number">57</span>分<span class="number">47</span>秒<span class="number">421</span> 星期一</span><br></pre></td></tr></table></figure>
<p>​		以上程序是以指定的日期时间格式format的模板形式显示日期时间的。SimpleDateFormat类还可以将包含日期的字符串转换为日期Date类型。</p>
<h4 id="将包含日期的字符串转换为日期date类型"><a class="markdownIt-Anchor" href="#将包含日期的字符串转换为日期date类型"></a> 将包含日期的字符串转换为日期Date类型</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.text.ParseException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        String strDate=<span class="string">&quot;2021-08-09 17:02:32.562&quot;</span>;</span><br><span class="line">        String format=<span class="string">&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;</span>;</span><br><span class="line">        SimpleDateFormat sdf=<span class="keyword">new</span> SimpleDateFormat(format);</span><br><span class="line">        Date date=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            date=sdf.parse(strDate);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(ParseException e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        System.out.println(date);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Mon Aug 09 <span class="number">17</span>:<span class="number">02</span>:<span class="number">32</span> CST <span class="number">2021</span></span><br></pre></td></tr></table></figure>
<p>​		以上程序中，使用parse()方法将字符串解析为Date类型时，需要进行异常处理。还需要注意的是，指定日期时间模板的格式是要与日期时间的字符串一致，否则在运行时将产生错误。</p>
<p>错误如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java.text.ParseException: Unparseable date: <span class="string">&quot;2021-08-09 17:02:32:562&quot;</span></span><br><span class="line">        at java.text.DateFormat.parse(Unknown Source)</span><br><span class="line">        at Test.main(Test.java:<span class="number">14</span>)</span><br><span class="line"><span class="keyword">null</span></span><br></pre></td></tr></table></figure>
<h3 id="牛刀小试"><a class="markdownIt-Anchor" href="#牛刀小试"></a> 牛刀小试</h3>
<p>​		请编写一段程序，以获取输入日期所在月份的日历。如输出 2021 年 8 月，就可获得 当月的日历。</p>
<p>​		答：若要编写该程序，首先要获取输出的日期，可以使用Scanner类。在获取了日期后，还需要获得该日期当前月的1号是星期几，该月的天数是多少，这就需要使用Calendar类。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Calendar;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Scanner scan=<span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;————请输入年月————&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;年份：&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> year=scan.nextInt();</span><br><span class="line">        System.out.println(<span class="string">&quot;月份：&quot;</span>);</span><br><span class="line">        <span class="keyword">int</span> month=scan.nextInt();</span><br><span class="line">        <span class="keyword">if</span>(month&lt;<span class="number">1</span>||month&gt;<span class="number">12</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;输入的月份错误！&quot;</span>);</span><br><span class="line">            System.exit(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Calendar c=Calendar.getInstance();</span><br><span class="line">        c.set(year,month-<span class="number">1</span>,<span class="number">1</span>);		<span class="comment">//将时间设置为指定日期,注意月份</span></span><br><span class="line">        <span class="keyword">int</span> firstday=c.get(Calendar.DAY_OF_WEEK);		<span class="comment">//获取1号为星期几</span></span><br><span class="line">        <span class="keyword">int</span> max=c.getActualMaximum(Calendar.DATE);		<span class="comment">//获取当月最大天数</span></span><br><span class="line">        System.out.println(<span class="string">&quot;      &quot;</span>+year+<span class="string">&quot;年&quot;</span>+month+<span class="string">&quot;月&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;日 一 二 三 四 五 六&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;firstday;i++)			<span class="comment">//输出第一天之前的空白天数</span></span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;   &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=max;i++)				<span class="comment">//输出月中的所有日期</span></span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(i+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="keyword">if</span>(i&lt;<span class="number">10</span>)</span><br><span class="line">            	System.out.print(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="keyword">if</span>((firstday+i-<span class="number">1</span>)%<span class="number">7</span>==<span class="number">0</span>)</span><br><span class="line">                System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p><img src="https://silenthty.gitee.io/photo/java%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/%E6%97%A5%E6%9C%9F%E6%93%8D%E4%BD%9C%E7%B1%BB1.png" alt="" /></p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/08/%E7%B3%BB%E7%BB%9F%E7%B1%BB%EF%BC%9ASystem%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/08/%E7%B3%BB%E7%BB%9F%E7%B1%BB%EF%BC%9ASystem%E7%B1%BB/" class="post-title-link" itemprop="url">系统类：System类</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-08 20:15:39" itemprop="dateCreated datePublished" datetime="2021-08-08T20:15:39+08:00">2021-08-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-17 04:58:30" itemprop="dateModified" datetime="2021-08-17T04:58:30+08:00">2021-08-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/08/%E7%B3%BB%E7%BB%9F%E7%B1%BB%EF%BC%9ASystem%E7%B1%BB/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/08/%E7%B3%BB%E7%BB%9F%E7%B1%BB%EF%BC%9ASystem%E7%B1%BB/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		大家对System类应该不会陌生，从第一个java程序Hello World开始就已经使用System.out.println()了，那么System类是什么呢？本文将讲解System类的常用功能。</p>
<h3 id="认识system类"><a class="markdownIt-Anchor" href="#认识system类"></a> 认识System类</h3>
<p>​		System类代表当前java程序的运行平台，一些与系统相关的属性和方法。java引用程序不能创建System类的对象，它提供控制系统状态的静态方法，允许直接通过System类名来调用这些属性和方法。</p>
<p>​		一般而言，System类有以下几个重要的功能：</p>
<ul>
<li>访问系统属性</li>
<li>访问环境变量</li>
<li>标准输入与输出</li>
<li>加载文件和动态链接库</li>
<li>复制数组</li>
<li>系统退出命令</li>
<li>执行垃圾回收</li>
</ul>
<p>​		加载文件和动态链接库主要针对native方法起作用。对于一些特殊功能，如访问系统底层的硬件设备等，java程序是无法实现的，必须借助c语言完成。System类的常用属性和方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public static PrintStream err</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">“标准”错误输出流</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public static InputStream in</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">&quot;标准&quot;输如流</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public static PrintStream out</td>
<td style="text-align:center">常量</td>
<td style="text-align:center">&quot;标准&quot;输出流</td>
</tr>
<tr>
<td style="text-align:center"><strong>4</strong></td>
<td style="text-align:center"><strong>public static void arraycopy(Object src,int srcPos,Object dest,int destPos,int length)</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>从指定源数组src中复制一个数组，复制从指定的索引位置srcPos开始，到目标数组dest的指定结束，destPos表示目标数组的起始位置，length表示复制数组的长度。注意不要产生数组越界行为</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public static long currentTimeMillis()</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回以ms为单位的当前时间</strong></td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public static void exit(int status)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">终止当前正在运行的JVM，用于退出程序</td>
</tr>
<tr>
<td style="text-align:center"><strong>7</strong></td>
<td style="text-align:center"><strong>public static void gc()</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>调用垃圾回收器</strong></td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public static String getenv(String name)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">获取指定的环境变量值</td>
</tr>
<tr>
<td style="text-align:center"><strong>9</strong></td>
<td style="text-align:center"><strong>public static Properties getProperties()</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>取得当前的系统属性</strong></td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">public static void load(String name)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">从作为动态库的本地文件系统中以指定的文件名加载代码文件</td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">public static void loadLibrary()</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">加载由libname参数指定的系统库</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public static long nanoTime()</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">返回最准确的可用系统计时器的当前值，以毫秒为单位</td>
</tr>
<tr>
<td style="text-align:center">13</td>
<td style="text-align:center">public static void runFinalization()</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">运行处于挂起终止状态的所有对象的终止方法</td>
</tr>
<tr>
<td style="text-align:center">14</td>
<td style="text-align:center">public static void setErr(PrintStream err)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">重新分配“标准”错误流</td>
</tr>
<tr>
<td style="text-align:center">15</td>
<td style="text-align:center">public static void setIn(InputStream in)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">重新分配“标准”输入流</td>
</tr>
<tr>
<td style="text-align:center">16</td>
<td style="text-align:center">public static void setOut(PrintStream out)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">重新分配“标准”输出流</td>
</tr>
<tr>
<td style="text-align:center">17</td>
<td style="text-align:center">public static void setProperties(Properties props)</td>
<td style="text-align:center">静态</td>
<td style="text-align:center">将系统属性设置为Properties参数</td>
</tr>
</tbody>
</table>
<h4 id="访问系统属性"><a class="markdownIt-Anchor" href="#访问系统属性"></a> 访问系统属性</h4>
<p>​		系统属性是指系统固有的属性，即在操作系统和JDK安装后就已存在属性。通过System类的getProperties()方法可以获取本机的系统属性。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Properties pr=System.getProperties();		<span class="comment">//取得系统属性</span></span><br><span class="line">        pr.list(System.out);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-- listing properties --</span><br><span class="line">java.runtime.name=Java(TM) SE Runtime Environment</span><br><span class="line">sun.boot.library.path=D:\Software\JAVAJDK\java111\bin</span><br><span class="line">java.vm.version=25.231-b11</span><br><span class="line">java.vm.vendor=Oracle Corporation</span><br><span class="line">java.vendor.url=http://java.oracle.com/</span><br><span class="line">path.separator=;</span><br><span class="line">java.vm.name=Java HotSpot(TM) 64-Bit Server VM</span><br><span class="line">...</span><br><span class="line">sun.desktop=windows</span><br><span class="line">sun.cpu.isalist=amd64</span><br></pre></td></tr></table></figure>
<p>​		以上程序中通过标准输出流System.out将输出流打印在屏幕上。程序运行结果包含这个系统的属性集合。</p>
<h4 id="复制数组"><a class="markdownIt-Anchor" href="#复制数组"></a> 复制数组</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">char</span> src[]=&#123;<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;F&#x27;</span>&#125;;</span><br><span class="line">        <span class="keyword">char</span> dest[]=&#123;<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;6&#x27;</span>&#125;;</span><br><span class="line">        System.arraycopy(src,<span class="number">3</span>,dest,<span class="number">2</span>,<span class="number">3</span>);		<span class="comment">//快速赋值数组</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">char</span> c:dest)			<span class="comment">//使用foreach输出数组元素</span></span><br><span class="line">        &#123;</span><br><span class="line">            System.out.print(c+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> <span class="number">2</span> D E F <span class="number">6</span></span><br></pre></td></tr></table></figure>
<h4 id="计算程序执行时间"><a class="markdownIt-Anchor" href="#计算程序执行时间"></a> 计算程序执行时间</h4>
<p>​		可以使用System类的currentTimeMillis()来计算程序的运行时间，在前面的文件复制程序中也可以使用。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> start=System.currentTimeMillis();			<span class="comment">//获取任务开始时间</span></span><br><span class="line">        <span class="keyword">long</span> result=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">long</span> i=<span class="number">1</span>;i&lt;<span class="number">9999999999L</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            result=result+i;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;程序执行时间：&quot;</span>+(System.currentTimeMillis()-start)+<span class="string">&quot;ms&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">程序执行时间：2356ms</span><br></pre></td></tr></table></figure>
<p>​		currentTimeMillis()方法返回的是一个long类型的数据，时间单位为ms。</p>
<h4 id="垃圾对象的回收"><a class="markdownIt-Anchor" href="#垃圾对象的回收"></a> 垃圾对象的回收</h4>
<p>​		System.gc()可用于垃圾回收器。此方法实际上是对RunTime类中的gc()方法的封装，等效于使用：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Runtime.getRuntime().gc();</span><br></pre></td></tr></table></figure>
<p>​		当使用System.gc()回收某个对象所占用的内存之前，通常要求程序调用适当的方法来清理资源。在没有明确指定资源清理的情况下，java提供了默认机制来清理该对象的资源，就是调用Object类的finalize()方法。finalize()方法的作用是在释放一个对象占有的内存空间时，会被JVM自动调用。该方法的定义如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">finalize</span><span class="params">()</span> <span class="keyword">throws</span> Thowable</span></span><br></pre></td></tr></table></figure>
<p>​		可以发现finalize()方法的访问控制符为protected，而且声明的异常为Throwable，表示它可以抛出任何类型的异常。子类只需重写finalize()方法，即可清理对象占用的资源。由于finalize()方法没有链式调用，所以必须手动实现。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name,<span class="keyword">int</span> age)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name=name;</span><br><span class="line">        <span class="keyword">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="string">&quot;姓名&quot;</span>+name+<span class="string">&quot;,年龄&quot;</span>+age);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">finalize</span><span class="params">()</span><span class="keyword">throws</span> Throwable</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;释放对象&quot;</span>+<span class="keyword">this</span>);</span><br><span class="line">        <span class="keyword">super</span>.finalize();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Person p=<span class="keyword">new</span> Person(<span class="string">&quot;小明&quot;</span>,<span class="number">3</span>);</span><br><span class="line">        System.out.println(p);</span><br><span class="line">        p=<span class="keyword">null</span>;</span><br><span class="line">        System.gc();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">姓名小明,年龄<span class="number">3</span></span><br><span class="line">释放对象姓名小明,年龄<span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>​		从程序运行结果可以发现，执行System.gc()前，系统会自动调用finalize()方法清除对象占有的资源。通过super.finalize()方式可以从上到下实现finalize()方法的调用，即先释放自己的资源，再去释放父类的资源。</p>
<p>​		注意：不可在程序中频繁的调用垃圾回收。因为每执行异常垃圾回收，JVM都会强制启动垃圾回收器运行，这样会耗费更多的系统资源，会与正常的java程序运行争抢资源。只有在执行大量对象的释放，才调用垃圾回收最好。</p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/08/%E5%AE%9A%E6%97%B6%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/08/%E5%AE%9A%E6%97%B6%E5%99%A8/" class="post-title-link" itemprop="url">定时器</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-08 11:25:13" itemprop="dateCreated datePublished" datetime="2021-08-08T11:25:13+08:00">2021-08-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-16 06:01:30" itemprop="dateModified" datetime="2021-08-16T06:01:30+08:00">2021-08-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/08/%E5%AE%9A%E6%97%B6%E5%99%A8/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/08/%E5%AE%9A%E6%97%B6%E5%99%A8/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		定时器是一种应用十分广泛的线程工具，可用于调度多个定时任务以后台线程方式执行。每一个定时器都有一个后台线程，定时器调度的所有任务均在该线程中依次执行。在java中，可以通过Timer类和TimerTask类来实现定时调度的功能。</p>
<h3 id="timer类"><a class="markdownIt-Anchor" href="#timer类"></a> Timer类</h3>
<p>​		在java中可以使用两个类来实现定时器，即java.util.Timer类和java.util.TimerTask类。Timer类可以用来实现在某一个时间点或某一段时间后，执行某个任务依次或定期重复执行。Timer类一般要与TimerTask搭配使用。TimerTask类由Timer安排为一次执行或重复执行的任务。Timer类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public Timer()</strong></td>
<td style="text-align:center"><strong>构造</strong></td>
<td style="text-align:center"><strong>创建一个新计时器</strong></td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public Timer(boolean isDaemon)</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">创建一个新计时器，并指定相关线程作为守护线程</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public Timer(String name)</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">创建一个新的计时器，并为指定的相关线程设置名称</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public Timer(String name,boolean isDaemon)</td>
<td style="text-align:center">构造</td>
<td style="text-align:center">创建一个新的计时器，为指定的相关线程设置名称，并指定相关线程作为守护线程</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public void cancel()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">终止此计时器，放弃所有当前已安排的任务，但对已执行的任务没有影响</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public int purge()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">移除所有已取消的任务。可用于是否内存空间。</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public void schedule(TimerTask task,Date time)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">安排在指定的时间执行指定的任务，若已超过该时间，则立即执行</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public void schedule(TimerTask task,Date firsttime,long period)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">安排在指定的时间执行指定的任务，然后以固定的频率(单位：ms)重复执行</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public void schedule(TimerTask task,long delay)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">安排指定的任务在一段时间(单位：ms)后执行</td>
</tr>
<tr>
<td style="text-align:center"><strong>10</strong></td>
<td style="text-align:center"><strong>public void schedule(TimerTask task,long delay,long period)</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>安排指定的任务在一段时间后(单位：ms)执行，然后以固定的频率(单位：ms)重复执行</strong></td>
</tr>
<tr>
<td style="text-align:center">11</td>
<td style="text-align:center">public void scheduleAtFixedRate(TimerTask task,Date firstTime,long period)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">安排在指定的时间执行指定的任务，然后以近似固定的频率(单位：ms)重复执行</td>
</tr>
<tr>
<td style="text-align:center">12</td>
<td style="text-align:center">public void scheduleAtFixedRate(TimerTask task,long delay,long period)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">安排指定的任务在一段时间后(单位：ms)执行，然后以近似的频率(单位：ms)重复执行</td>
</tr>
</tbody>
</table>
<p>注意：默认情况下定时器的后台程序并不是守护线程，除非在创建定时器时显式地指定该线程为守护线程。</p>
<h4 id="schedule与scheduleatfixedrate的区别"><a class="markdownIt-Anchor" href="#schedule与scheduleatfixedrate的区别"></a> schedule()与scheduleAtFixedRate()的区别</h4>
<p>​		两者的区别在于重复执行任务时，时间间隔出现延迟的情况不同。</p>
<p>1、schedule()方法的执行时间间隔用于是固定的，就算之前出现了延迟的情况，之后也会按照已经设定好的间隔时间拉执行。</p>
<p>2、scheduleAtFixedRate()方法可以根据出现的延返时间自动调整下一次间隔的执行时间。</p>
<p>​		Timer类是线程安全的。多个线程可以共享单个Timer对象而无序进行外部同步，并且不提供实时保证但可以使用Object.wait(long)方法来安排任务。</p>
<h3 id="timertask类"><a class="markdownIt-Anchor" href="#timertask类"></a> TimerTask类</h3>
<p>​		使用通用定时器需要编写TimerTask的一个子类，将定时任务编写在该子类的run()方法中。由定时器调度的所有任务均需表达为TimerTask的实例，类似Runnable接口，程序员必须在其子类中重定义run()方法以描述自己的定时任务；然后还需分别创建一个Timer类的实例和一个自定义TimerTask子类的实例；最后调用Timer实例的schedule()方法调度定时任务，调用schedule()方法时会将新任务添加到定时器的任务队列中。TimerTask类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public boolean cancel()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">取消此计时器任务。 如果任务已安排为一次性执行且尚未运行，或尚未安排，则它将永远不会运行。  如果任务已安排重复执行，则它将永远不会再运行。(如果在发生此调用时任务正在运行，则任务将运行完成，但永远不会再次运行)</td>
</tr>
<tr>
<td style="text-align:center"><strong>2</strong></td>
<td style="text-align:center"><strong>public abstract void run()</strong></td>
<td style="text-align:center"><strong>抽象</strong></td>
<td style="text-align:center"><strong>此计时器任务要执行的操作编写在该方法中，子类必须重写该方法，与Runnable接口的run()方法类似</strong></td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public long scheduledExecutionTime()</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">返回此任务最近要执行的任务时间。若该任务正在执行，返回该任务执行的计划执行时间。该方法一般会在run()方法中调用，可以用于判断当前是否有足够的时间来完成该任务。</td>
</tr>
</tbody>
</table>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.Timer;</span><br><span class="line"><span class="keyword">import</span> java.util.TimerTask;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RemindTask</span> <span class="keyword">extends</span> <span class="title">TimerTask</span>		//任务调度类继承<span class="title">TimerTask</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;执行时间：&quot;</span>+(<span class="keyword">new</span> Date()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Test</span><span class="params">(<span class="keyword">int</span> seconds,<span class="keyword">int</span> lenTime)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Timer tm=<span class="keyword">new</span> Timer();				<span class="comment">//建立Timer类对象</span></span><br><span class="line">        tm.schedule(<span class="keyword">new</span> RemindTask(),seconds,lenTime);	<span class="comment">//执行任务</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;任务调度开始...&quot;</span>);</span><br><span class="line">        <span class="keyword">new</span> Test(<span class="number">500</span>,<span class="number">1000</span>);			<span class="comment">//设置任务，0.5秒后开始，每1秒重复一次</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">任务调度开始...</span><br><span class="line">执行时间：Sun Aug 08 <span class="number">12</span>:<span class="number">42</span>:<span class="number">33</span> CST <span class="number">2021</span></span><br><span class="line">执行时间：Sun Aug 08 <span class="number">12</span>:<span class="number">42</span>:<span class="number">34</span> CST <span class="number">2021</span></span><br><span class="line">执行时间：Sun Aug 08 <span class="number">12</span>:<span class="number">42</span>:<span class="number">35</span> CST <span class="number">2021</span></span><br><span class="line">执行时间：Sun Aug 08 <span class="number">12</span>:<span class="number">42</span>:<span class="number">36</span> CST <span class="number">2021</span></span><br><span class="line">执行时间：Sun Aug 08 <span class="number">12</span>:<span class="number">42</span>:<span class="number">37</span> CST <span class="number">2021</span></span><br><span class="line">....</span><br></pre></td></tr></table></figure>
<p>​		以上程序主要是打印定时任务执行时系统的时间。</p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://silenthly.github.io/2021/08/08/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B1%BB%EF%BC%9ARuntime%E7%B1%BB/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="buyan">
      <meta itemprop="description" content="我见过真正难过的人，但他一滴泪也没流">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Buyan-Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/08/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B1%BB%EF%BC%9ARuntime%E7%B1%BB/" class="post-title-link" itemprop="url">运行时操作类：Runtime类</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2021-08-08 08:32:23" itemprop="dateCreated datePublished" datetime="2021-08-08T08:32:23+08:00">2021-08-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2021-08-16 03:38:12" itemprop="dateModified" datetime="2021-08-16T03:38:12+08:00">2021-08-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/08/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B1%BB%EF%BC%9ARuntime%E7%B1%BB/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/08/%E8%BF%90%E8%A1%8C%E6%97%B6%E6%93%8D%E4%BD%9C%E7%B1%BB%EF%BC%9ARuntime%E7%B1%BB/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>​		java.lang.Runtime类封装了运行时的环境，每个java程序都有一个与之对应的Runtime实例，使应用程序能够与其运行环境相连接。</p>
<h3 id="认识runtime类"><a class="markdownIt-Anchor" href="#认识runtime类"></a> 认识Runtime类</h3>
<p>​		应用程序一般不能实例化一个Runtime对象，Runtime对象是由JVM运行时为其实例化。在API帮助文档中Runtime类是没有构造方法定义的，因为Runtime类本身的构造方法是私有化的。所以应用程序是不能创建自己的Runtime类实例，但可以通过getRuntime()方法获取当前Runtime运行时对象的引用，如以下代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Runtime rt=Runtime.getRuntime();</span><br></pre></td></tr></table></figure>
<p>​		Runtime类代表java程序的运行时环境，可以调用Runtime对象的方法控制java虚拟机的状态和行为，如处理器数目、内存信息等。Runtime类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>1</strong></td>
<td style="text-align:center"><strong>public int availableProcessors()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>向JVM返回可用处理器数目</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>2</strong></td>
<td style="text-align:center"><strong>public Process exec(String command) throws IOException</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>在单独的进程中执行指定的字符串命令</strong></td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public void exit(int status)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">通过启动虚拟机的关闭序列，终止当前正在运行的JVM</td>
</tr>
<tr>
<td style="text-align:center"><strong>4</strong></td>
<td style="text-align:center"><strong>public long freeMemory()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>返回JVM中的空闲内存量</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>5</strong></td>
<td style="text-align:center"><strong>public void gc()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>运行垃圾回收器</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>6</strong></td>
<td style="text-align:center"><strong>public static Runtime getRuntime()</strong></td>
<td style="text-align:center"><strong>静态</strong></td>
<td style="text-align:center"><strong>返回当前java应用程序相关的运行时对象</strong></td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">public void halt(int status)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">强行终止目前正在运行的JVM</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">public void load(String filename)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">加载作为动态库的指定文件名</td>
</tr>
<tr>
<td style="text-align:center">9</td>
<td style="text-align:center">public void loadLibrary(String libname)</td>
<td style="text-align:center">普通</td>
<td style="text-align:center">加载具有指定库名的动态库</td>
</tr>
<tr>
<td style="text-align:center"><strong>10</strong></td>
<td style="text-align:center"><strong>public long maxMemory()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>返回JVM试图使用的最大内存量</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>11</strong></td>
<td style="text-align:center"><strong>public long totalMemory()</strong></td>
<td style="text-align:center"><strong>普通</strong></td>
<td style="text-align:center"><strong>返回JVM中的内存总量</strong></td>
</tr>
</tbody>
</table>
<h4 id="获取jvm信息"><a class="markdownIt-Anchor" href="#获取jvm信息"></a> 获取JVM信息</h4>
<p>​		通过以下范例访问JVM的相关信息，如处理器数目、空闲内存量、最大内存量和内存总量等信息。</p>
<p>代码示例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Runtime rt=Runtime.getRuntime();</span><br><span class="line">        System.out.println(<span class="string">&quot;JVM处理器的数目：&quot;</span>+rt.availableProcessors());</span><br><span class="line">        System.out.println(<span class="string">&quot;JVM空闲内存量：&quot;</span>+rt.freeMemory());</span><br><span class="line">        System.out.println(<span class="string">&quot;JVM内存总量：&quot;</span>+rt.totalMemory());</span><br><span class="line">        System.out.println(<span class="string">&quot;JVM最大内存量：&quot;</span>+rt.maxMemory());</span><br><span class="line">        String str=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10000</span>;i++)</span><br><span class="line">        &#123;</span><br><span class="line">            str=<span class="string">&quot;&quot;</span>+i;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;操作str后，JVM空闲内存量：&quot;</span>+rt.freeMemory());</span><br><span class="line">        rt.gc();</span><br><span class="line">        System.out.println(<span class="string">&quot;回收垃圾后，JVM空闲内存量：&quot;</span>+rt.freeMemory());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">JVM处理器的数目：<span class="number">16</span></span><br><span class="line">JVM空闲内存量：<span class="number">246939608</span></span><br><span class="line">JVM内存总量：<span class="number">249561088</span></span><br><span class="line">JVM最大内存量：<span class="number">3679977472</span></span><br><span class="line">操作str后，JVM空闲内存量：<span class="number">245628888</span></span><br><span class="line">回收垃圾后，JVM空闲内存量：<span class="number">247604200</span></span><br></pre></td></tr></table></figure>
<p>​		以上程序中，String类型的变量内容不可改变，只会改变变量的指向。使用for循环修改str会产生大量的垃圾，所以JVM的空余内存量会变小。但是执行gc()方法回收垃圾后，JVM空余内存就变大了。</p>
<h3 id="runtime类与process类"><a class="markdownIt-Anchor" href="#runtime类与process类"></a> Runtime类与Process类</h3>
<p>​		Process类是一个抽象类，方法都是抽象的，通过Process类可用来控制进程并获取相关信息。该类提供进程的输入、执行输出到进程、等待进程的完成和检查进程的退出状态及销毁进程的方法。Process类的常用方法如下表所示。</p>
<table>
<thead>
<tr>
<th style="text-align:center">序号</th>
<th style="text-align:center">方法</th>
<th style="text-align:center">类型</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">public abstract void destroy()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">关闭子进程</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">public abstract int exitValue()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">返回子进程的出口值</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">public abstract InputStream getErrorStream()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">获取子进程的错误流</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">public abstract InputStream  getInputStream()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">获取子进程的输入流</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">public abstract OutputStream getOutputStream()</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">获取子进程的输出流</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">public abstract int waitFor() throws InterruptedException</td>
<td style="text-align:center">抽象</td>
<td style="text-align:center">导致当前线程等待，如果必要，一直等到由该Process对象表示的进程已经终止</td>
</tr>
</tbody>
</table>
<h4 id="调用本机可执行程序"><a class="markdownIt-Anchor" href="#调用本机可执行程序"></a> 调用本机可执行程序</h4>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Runtime rt=Runtime.getRuntime();</span><br><span class="line">        Process pcs=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            pcs=rt.exec(<span class="string">&quot;calc.exe&quot;</span>);		<span class="comment">//调用本机的计算机</span></span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​		程序执行时，windows操作系统的计算器软件就会弹出。虽然不使用Process类直接运行rt.exec(“calc.exe”)也是可以调用计算器的，但是不能对计算器线程进行控制了。</p>
<p><strong>改进上面的程序</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Runtime rt=Runtime.getRuntime();</span><br><span class="line">        Process pcs=<span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            pcs=rt.exec(<span class="string">&quot;calc.exe&quot;</span>);		<span class="comment">//调用本机的计算机</span></span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        <span class="keyword">try</span></span><br><span class="line">        &#123;</span><br><span class="line">            Thread.sleep(<span class="number">5000</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(Exception e)</span><br><span class="line">        	&#123;</span><br><span class="line">            	e.printStackTrace();</span><br><span class="line">        	&#125;</span><br><span class="line">        process.destroy();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>​		以上程序，计算器启动5秒后进程会关闭。</p>
<p>参考书目：</p>
<p><a target="_blank" rel="noopener" href="http://product.dangdang.com/23248198.html?ref=book-35530-3032_5-231497-4">《Java编程手记——从实践中学习Java（配光盘）》(欧二强　等编著)【简介_书评_在线阅读】 - 当当图书 (dangdang.com)</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="buyan"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">buyan</p>
  <div class="site-description" itemprop="description">我见过真正难过的人，但他一滴泪也没流</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">98</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/silenthly/silenthly.github.io" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;silenthly&#x2F;silenthly.github.io" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://gitee.com/silenthty/silenthty" title="Gitee → https:&#x2F;&#x2F;gitee.com&#x2F;silenthty&#x2F;silenthty" rel="noopener" target="_blank"><i class="fab fa-gitee fa-fw"></i>Gitee</a>
      </span>
  </div>



<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=22829933&auto=0&height=66"></iframe>
      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">不言</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'svTDHGGetnbuzqV1kUczzXeM-gzGzoHsz',
      appKey     : 'lihxfavVgrdWrQwN6xB7C0OS',
      placeholder: "Just go go",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body>
</html>
